(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const p of g.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&c(p)}).observe(document,{childList:!0,subtree:!0});function s(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerPolicy&&(g.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?g.credentials="include":d.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function c(d){if(d.ep)return;d.ep=!0;const g=s(d);fetch(d.href,g)}})();var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function qw(n){if(n.__esModule)return n;var l=n.default;if(typeof l=="function"){var s=function c(){return this instanceof c?Reflect.construct(l,arguments,this.constructor):l.apply(this,arguments)};s.prototype=l.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(n).forEach(function(c){var d=Object.getOwnPropertyDescriptor(n,c);Object.defineProperty(s,c,d.get?d:{enumerable:!0,get:function(){return n[c]}})}),s}var Vp={exports:{}},cf={},Yp={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function Gw(){if(x0)return st;x0=1;var n=Symbol.for("react.element"),l=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),p=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function T(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function L(D,Q,ge){this.props=D,this.context=Q,this.refs=F,this.updater=ge||A}L.prototype.isReactComponent={},L.prototype.setState=function(D,Q){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Q,"setState")},L.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function j(){}j.prototype=L.prototype;function E(D,Q,ge){this.props=D,this.context=Q,this.refs=F,this.updater=ge||A}var P=E.prototype=new j;P.constructor=E,U(P,L.prototype),P.isPureReactComponent=!0;var k=Array.isArray,M=Object.prototype.hasOwnProperty,$={current:null},b={key:!0,ref:!0,__self:!0,__source:!0};function H(D,Q,ge){var me,ve={},ke=null,Re=null;if(Q!=null)for(me in Q.ref!==void 0&&(Re=Q.ref),Q.key!==void 0&&(ke=""+Q.key),Q)M.call(Q,me)&&!b.hasOwnProperty(me)&&(ve[me]=Q[me]);var De=arguments.length-2;if(De===1)ve.children=ge;else if(1<De){for(var Me=Array(De),Be=0;Be<De;Be++)Me[Be]=arguments[Be+2];ve.children=Me}if(D&&D.defaultProps)for(me in De=D.defaultProps,De)ve[me]===void 0&&(ve[me]=De[me]);return{$$typeof:n,type:D,key:ke,ref:Re,props:ve,_owner:$.current}}function q(D,Q){return{$$typeof:n,type:D.type,key:Q,ref:D.ref,props:D.props,_owner:D._owner}}function ie(D){return typeof D=="object"&&D!==null&&D.$$typeof===n}function Y(D){var Q={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ge){return Q[ge]})}var ne=/\/+/g;function ae(D,Q){return typeof D=="object"&&D!==null&&D.key!=null?Y(""+D.key):Q.toString(36)}function I(D,Q,ge,me,ve){var ke=typeof D;(ke==="undefined"||ke==="boolean")&&(D=null);var Re=!1;if(D===null)Re=!0;else switch(ke){case"string":case"number":Re=!0;break;case"object":switch(D.$$typeof){case n:case l:Re=!0}}if(Re)return Re=D,ve=ve(Re),D=me===""?"."+ae(Re,0):me,k(ve)?(ge="",D!=null&&(ge=D.replace(ne,"$&/")+"/"),I(ve,Q,ge,"",function(Be){return Be})):ve!=null&&(ie(ve)&&(ve=q(ve,ge+(!ve.key||Re&&Re.key===ve.key?"":(""+ve.key).replace(ne,"$&/")+"/")+D)),Q.push(ve)),1;if(Re=0,me=me===""?".":me+":",k(D))for(var De=0;De<D.length;De++){ke=D[De];var Me=me+ae(ke,De);Re+=I(ke,Q,ge,Me,ve)}else if(Me=T(D),typeof Me=="function")for(D=Me.call(D),De=0;!(ke=D.next()).done;)ke=ke.value,Me=me+ae(ke,De++),Re+=I(ke,Q,ge,Me,ve);else if(ke==="object")throw Q=String(D),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Re}function oe(D,Q,ge){if(D==null)return D;var me=[],ve=0;return I(D,me,"","",function(ke){return Q.call(ge,ke,ve++)}),me}function B(D){if(D._status===-1){var Q=D._result;Q=Q(),Q.then(function(ge){(D._status===0||D._status===-1)&&(D._status=1,D._result=ge)},function(ge){(D._status===0||D._status===-1)&&(D._status=2,D._result=ge)}),D._status===-1&&(D._status=0,D._result=Q)}if(D._status===1)return D._result.default;throw D._result}var ee={current:null},K={transition:null},O={ReactCurrentDispatcher:ee,ReactCurrentBatchConfig:K,ReactCurrentOwner:$};function W(){throw Error("act(...) is not supported in production builds of React.")}return st.Children={map:oe,forEach:function(D,Q,ge){oe(D,function(){Q.apply(this,arguments)},ge)},count:function(D){var Q=0;return oe(D,function(){Q++}),Q},toArray:function(D){return oe(D,function(Q){return Q})||[]},only:function(D){if(!ie(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},st.Component=L,st.Fragment=s,st.Profiler=d,st.PureComponent=E,st.StrictMode=c,st.Suspense=w,st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,st.act=W,st.cloneElement=function(D,Q,ge){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var me=U({},D.props),ve=D.key,ke=D.ref,Re=D._owner;if(Q!=null){if(Q.ref!==void 0&&(ke=Q.ref,Re=$.current),Q.key!==void 0&&(ve=""+Q.key),D.type&&D.type.defaultProps)var De=D.type.defaultProps;for(Me in Q)M.call(Q,Me)&&!b.hasOwnProperty(Me)&&(me[Me]=Q[Me]===void 0&&De!==void 0?De[Me]:Q[Me])}var Me=arguments.length-2;if(Me===1)me.children=ge;else if(1<Me){De=Array(Me);for(var Be=0;Be<Me;Be++)De[Be]=arguments[Be+2];me.children=De}return{$$typeof:n,type:D.type,key:ve,ref:ke,props:me,_owner:Re}},st.createContext=function(D){return D={$$typeof:p,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:g,_context:D},D.Consumer=D},st.createElement=H,st.createFactory=function(D){var Q=H.bind(null,D);return Q.type=D,Q},st.createRef=function(){return{current:null}},st.forwardRef=function(D){return{$$typeof:x,render:D}},st.isValidElement=ie,st.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:B}},st.memo=function(D,Q){return{$$typeof:v,type:D,compare:Q===void 0?null:Q}},st.startTransition=function(D){var Q=K.transition;K.transition={};try{D()}finally{K.transition=Q}},st.unstable_act=W,st.useCallback=function(D,Q){return ee.current.useCallback(D,Q)},st.useContext=function(D){return ee.current.useContext(D)},st.useDebugValue=function(){},st.useDeferredValue=function(D){return ee.current.useDeferredValue(D)},st.useEffect=function(D,Q){return ee.current.useEffect(D,Q)},st.useId=function(){return ee.current.useId()},st.useImperativeHandle=function(D,Q,ge){return ee.current.useImperativeHandle(D,Q,ge)},st.useInsertionEffect=function(D,Q){return ee.current.useInsertionEffect(D,Q)},st.useLayoutEffect=function(D,Q){return ee.current.useLayoutEffect(D,Q)},st.useMemo=function(D,Q){return ee.current.useMemo(D,Q)},st.useReducer=function(D,Q,ge){return ee.current.useReducer(D,Q,ge)},st.useRef=function(D){return ee.current.useRef(D)},st.useState=function(D){return ee.current.useState(D)},st.useSyncExternalStore=function(D,Q,ge){return ee.current.useSyncExternalStore(D,Q,ge)},st.useTransition=function(){return ee.current.useTransition()},st.version="18.3.1",st}var v0;function ns(){return v0||(v0=1,Yp.exports=Gw()),Yp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function Xw(){if(w0)return cf;w0=1;var n=ns(),l=Symbol.for("react.element"),s=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,d=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g={key:!0,ref:!0,__self:!0,__source:!0};function p(x,w,v){var _,S={},T=null,A=null;v!==void 0&&(T=""+v),w.key!==void 0&&(T=""+w.key),w.ref!==void 0&&(A=w.ref);for(_ in w)c.call(w,_)&&!g.hasOwnProperty(_)&&(S[_]=w[_]);if(x&&x.defaultProps)for(_ in w=x.defaultProps,w)S[_]===void 0&&(S[_]=w[_]);return{$$typeof:l,type:x,key:T,ref:A,props:S,_owner:d.current}}return cf.Fragment=s,cf.jsx=p,cf.jsxs=p,cf}var _0;function Kw(){return _0||(_0=1,Vp.exports=Xw()),Vp.exports}var f=Kw(),G=ns();const he=Bm(G);var oh={},qp={exports:{}},mr={},Gp={exports:{}},Xp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Qw(){return S0||(S0=1,function(n){function l(K,O){var W=K.length;K.push(O);e:for(;0<W;){var D=W-1>>>1,Q=K[D];if(0<d(Q,O))K[D]=O,K[W]=Q,W=D;else break e}}function s(K){return K.length===0?null:K[0]}function c(K){if(K.length===0)return null;var O=K[0],W=K.pop();if(W!==O){K[0]=W;e:for(var D=0,Q=K.length,ge=Q>>>1;D<ge;){var me=2*(D+1)-1,ve=K[me],ke=me+1,Re=K[ke];if(0>d(ve,W))ke<Q&&0>d(Re,ve)?(K[D]=Re,K[ke]=W,D=ke):(K[D]=ve,K[me]=W,D=me);else if(ke<Q&&0>d(Re,W))K[D]=Re,K[ke]=W,D=ke;else break e}}return O}function d(K,O){var W=K.sortIndex-O.sortIndex;return W!==0?W:K.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var g=performance;n.unstable_now=function(){return g.now()}}else{var p=Date,x=p.now();n.unstable_now=function(){return p.now()-x}}var w=[],v=[],_=1,S=null,T=3,A=!1,U=!1,F=!1,L=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(K){for(var O=s(v);O!==null;){if(O.callback===null)c(v);else if(O.startTime<=K)c(v),O.sortIndex=O.expirationTime,l(w,O);else break;O=s(v)}}function k(K){if(F=!1,P(K),!U)if(s(w)!==null)U=!0,B(M);else{var O=s(v);O!==null&&ee(k,O.startTime-K)}}function M(K,O){U=!1,F&&(F=!1,j(H),H=-1),A=!0;var W=T;try{for(P(O),S=s(w);S!==null&&(!(S.expirationTime>O)||K&&!Y());){var D=S.callback;if(typeof D=="function"){S.callback=null,T=S.priorityLevel;var Q=D(S.expirationTime<=O);O=n.unstable_now(),typeof Q=="function"?S.callback=Q:S===s(w)&&c(w),P(O)}else c(w);S=s(w)}if(S!==null)var ge=!0;else{var me=s(v);me!==null&&ee(k,me.startTime-O),ge=!1}return ge}finally{S=null,T=W,A=!1}}var $=!1,b=null,H=-1,q=5,ie=-1;function Y(){return!(n.unstable_now()-ie<q)}function ne(){if(b!==null){var K=n.unstable_now();ie=K;var O=!0;try{O=b(!0,K)}finally{O?ae():($=!1,b=null)}}else $=!1}var ae;if(typeof E=="function")ae=function(){E(ne)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,oe=I.port2;I.port1.onmessage=ne,ae=function(){oe.postMessage(null)}}else ae=function(){L(ne,0)};function B(K){b=K,$||($=!0,ae())}function ee(K,O){H=L(function(){K(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(K){K.callback=null},n.unstable_continueExecution=function(){U||A||(U=!0,B(M))},n.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<K?Math.floor(1e3/K):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return s(w)},n.unstable_next=function(K){switch(T){case 1:case 2:case 3:var O=3;break;default:O=T}var W=T;T=O;try{return K()}finally{T=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(K,O){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var W=T;T=K;try{return O()}finally{T=W}},n.unstable_scheduleCallback=function(K,O,W){var D=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?D+W:D):W=D,K){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=W+Q,K={id:_++,callback:O,priorityLevel:K,startTime:W,expirationTime:Q,sortIndex:-1},W>D?(K.sortIndex=W,l(v,K),s(w)===null&&K===s(v)&&(F?(j(H),H=-1):F=!0,ee(k,W-D))):(K.sortIndex=Q,l(w,K),U||A||(U=!0,B(M))),K},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(K){var O=T;return function(){var W=T;T=O;try{return K.apply(this,arguments)}finally{T=W}}}}(Xp)),Xp}var N0;function Zw(){return N0||(N0=1,Gp.exports=Qw()),Gp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function Jw(){if(b0)return mr;b0=1;var n=ns(),l=Zw();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)t+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,d={};function g(e,t){p(e,t),p(e+"Capture",t)}function p(e,t){for(d[e]=t,e=0;e<t.length;e++)c.add(t[e])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),w=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function T(e){return w.call(S,e)?!0:w.call(_,e)?!1:v.test(e)?S[e]=!0:(_[e]=!0,!1)}function A(e,t,o,a){if(o!==null&&o.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function U(e,t,o,a){if(t===null||typeof t>"u"||A(e,t,o,a))return!0;if(a)return!1;if(o!==null)switch(o.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function F(e,t,o,a,h,m,C){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=e,this.type=t,this.sanitizeURL=m,this.removeEmptyString=C}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){L[e]=new F(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];L[t]=new F(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){L[e]=new F(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){L[e]=new F(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){L[e]=new F(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){L[e]=new F(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){L[e]=new F(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){L[e]=new F(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){L[e]=new F(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function E(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(j,E);L[t]=new F(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(j,E);L[t]=new F(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(j,E);L[t]=new F(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){L[e]=new F(e,1,!1,e.toLowerCase(),null,!1,!1)}),L.xlinkHref=new F("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){L[e]=new F(e,1,!1,e.toLowerCase(),null,!0,!0)});function P(e,t,o,a){var h=L.hasOwnProperty(t)?L[t]:null;(h!==null?h.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(U(t,o,h,a)&&(o=null),a||h===null?T(t)&&(o===null?e.removeAttribute(t):e.setAttribute(t,""+o)):h.mustUseProperty?e[h.propertyName]=o===null?h.type===3?!1:"":o:(t=h.attributeName,a=h.attributeNamespace,o===null?e.removeAttribute(t):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,a?e.setAttributeNS(a,t,o):e.setAttribute(t,o))))}var k=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),$=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),ie=Symbol.for("react.provider"),Y=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),K=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=K&&e[K]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,D;function Q(e){if(D===void 0)try{throw Error()}catch(o){var t=o.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return`
`+D+e}var ge=!1;function me(e,t){if(!e||ge)return"";ge=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(de){var a=de}Reflect.construct(e,[],t)}else{try{t.call()}catch(de){a=de}e.call(t.prototype)}else{try{throw Error()}catch(de){a=de}e()}}catch(de){if(de&&a&&typeof de.stack=="string"){for(var h=de.stack.split(`
`),m=a.stack.split(`
`),C=h.length-1,V=m.length-1;1<=C&&0<=V&&h[C]!==m[V];)V--;for(;1<=C&&0<=V;C--,V--)if(h[C]!==m[V]){if(C!==1||V!==1)do if(C--,V--,0>V||h[C]!==m[V]){var Z=`
`+h[C].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=C&&0<=V);break}}}finally{ge=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?Q(e):""}function ve(e){switch(e.tag){case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return e=me(e.type,!1),e;case 11:return e=me(e.type.render,!1),e;case 1:return e=me(e.type,!0),e;default:return""}}function ke(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case $:return"Portal";case q:return"Profiler";case H:return"StrictMode";case ae:return"Suspense";case I:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Y:return(e.displayName||"Context")+".Consumer";case ie:return(e._context.displayName||"Context")+".Provider";case ne:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oe:return t=e.displayName||null,t!==null?t:ke(e.type)||"Memo";case B:t=e._payload,e=e._init;try{return ke(e(t))}catch{}}return null}function Re(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ke(t);case 8:return t===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function De(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Me(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Be(e){var t=Me(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,m=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return h.call(this)},set:function(C){a=""+C,m.call(this,C)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(C){a=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function xt(e){e._valueTracker||(e._valueTracker=Be(e))}function vt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var o=t.getValue(),a="";return e&&(a=Me(e)?e.checked?"true":"false":e.value),e=a,e!==o?(t.setValue(e),!0):!1}function bt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function it(e,t){var o=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??e._wrapperState.initialChecked})}function at(e,t){var o=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;o=De(t.value!=null?t.value:o),e._wrapperState={initialChecked:a,initialValue:o,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wt(e,t){t=t.checked,t!=null&&P(e,"checked",t,!1)}function Ze(e,t){Wt(e,t);var o=De(t.value),a=t.type;if(o!=null)a==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Et(e,t.type,o):t.hasOwnProperty("defaultValue")&&Et(e,t.type,De(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oe(e,t,o){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,o||t===e.value||(e.value=t),e.defaultValue=t}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function Et(e,t,o){(t!=="number"||bt(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var Tt=Array.isArray;function _t(e,t,o,a){if(e=e.options,t){t={};for(var h=0;h<o.length;h++)t["$"+o[h]]=!0;for(o=0;o<e.length;o++)h=t.hasOwnProperty("$"+e[o].value),e[o].selected!==h&&(e[o].selected=h),h&&a&&(e[o].defaultSelected=!0)}else{for(o=""+De(o),t=null,h=0;h<e.length;h++){if(e[h].value===o){e[h].selected=!0,a&&(e[h].defaultSelected=!0);return}t!==null||e[h].disabled||(t=e[h])}t!==null&&(t.selected=!0)}}function Ce(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qe(e,t){var o=t.value;if(o==null){if(o=t.children,t=t.defaultValue,o!=null){if(t!=null)throw Error(s(92));if(Tt(o)){if(1<o.length)throw Error(s(93));o=o[0]}t=o}t==null&&(t=""),o=t}e._wrapperState={initialValue:De(o)}}function ce(e,t){var o=De(t.value),a=De(t.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),t.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),a!=null&&(e.defaultValue=""+a)}function _e(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function He(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fe(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?He(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ut,sn=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,o,a,h){MSApp.execUnsafeLocalFunction(function(){return e(t,o,a,h)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ut=ut||document.createElement("div"),ut.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ut.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Un(e,t){if(t){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=t;return}}e.textContent=t}var Dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nn=["Webkit","ms","Moz","O"];Object.keys(Dt).forEach(function(e){Nn.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dt[t]=Dt[e]})});function Zn(e,t,o){return t==null||typeof t=="boolean"||t===""?"":o||typeof t!="number"||t===0||Dt.hasOwnProperty(e)&&Dt[e]?(""+t).trim():t+"px"}function Jn(e,t){e=e.style;for(var o in t)if(t.hasOwnProperty(o)){var a=o.indexOf("--")===0,h=Zn(o,t[o],a);o==="float"&&(o="cssFloat"),a?e.setProperty(o,h):e[o]=h}}var xr=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(e,t){if(t){if(xr[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function dn(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ri=null;function is(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ii=null,vr=null,Or=null;function Ir(e){if(e=gn(e)){if(typeof ii!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Aa(t),ii(e.stateNode,e.type,t))}}function Xl(e){vr?Or?Or.push(e):Or=[e]:vr=e}function Kl(){if(vr){var e=vr,t=Or;if(Or=vr=null,Ir(e),t)for(e=0;e<t.length;e++)Ir(t[e])}}function Ql(e,t){return e(t)}function Fo(){}var Ho=!1;function Zl(e,t,o){if(Ho)return e(t,o);Ho=!0;try{return Ql(e,t,o)}finally{Ho=!1,(vr!==null||Or!==null)&&(Fo(),Kl())}}function ss(e,t){var o=e.stateNode;if(o===null)return null;var a=Aa(o);if(a===null)return null;o=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(s(231,t,typeof o));return o}var os=!1;if(x)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){os=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{os=!1}function Uo(e,t,o,a,h,m,C,V,Z){var de=Array.prototype.slice.call(arguments,3);try{t.apply(o,de)}catch(Se){this.onError(Se)}}var as=!1,Ws=null,Vs=!1,Bo=null,Fu={onError:function(e){as=!0,Ws=e}};function Hu(e,t,o,a,h,m,C,V,Z){as=!1,Ws=null,Uo.apply(Fu,arguments)}function Jl(e,t,o,a,h,m,C,V,Z){if(Hu.apply(this,arguments),as){if(as){var de=Ws;as=!1,Ws=null}else throw Error(s(198));Vs||(Vs=!0,Bo=de)}}function si(e){var t=e,o=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(o=t.return),e=t.return;while(e)}return t.tag===3?o:null}function Wo(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ea(e){if(si(e)!==e)throw Error(s(188))}function Uu(e){var t=e.alternate;if(!t){if(t=si(e),t===null)throw Error(s(188));return t!==e?null:e}for(var o=e,a=t;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(a=h.return,a!==null){o=a;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return ea(h),e;if(m===a)return ea(h),t;m=m.sibling}throw Error(s(188))}if(o.return!==a.return)o=h,a=m;else{for(var C=!1,V=h.child;V;){if(V===o){C=!0,o=h,a=m;break}if(V===a){C=!0,a=h,o=m;break}V=V.sibling}if(!C){for(V=m.child;V;){if(V===o){C=!0,o=m,a=h;break}if(V===a){C=!0,a=m,o=h;break}V=V.sibling}if(!C)throw Error(s(189))}}if(o.alternate!==a)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?e:t}function ta(e){return e=Uu(e),e!==null?na(e):null}function na(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=na(e);if(t!==null)return t;e=e.sibling}return null}var ra=l.unstable_scheduleCallback,ia=l.unstable_cancelCallback,us=l.unstable_shouldYield,Bu=l.unstable_requestPaint,Ct=l.unstable_now,Wu=l.unstable_getCurrentPriorityLevel,Vo=l.unstable_ImmediatePriority,sa=l.unstable_UserBlockingPriority,cs=l.unstable_NormalPriority,Yo=l.unstable_LowPriority,qo=l.unstable_IdlePriority,Ys=null,er=null;function Go(e){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Ys,e,void 0,(e.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:Ff,$f=Math.log,Lf=Math.LN2;function Ff(e){return e>>>=0,e===0?32:31-($f(e)/Lf|0)|0}var qs=64,oa=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fs(e,t){var o=e.pendingLanes;if(o===0)return 0;var a=0,h=e.suspendedLanes,m=e.pingedLanes,C=o&268435455;if(C!==0){var V=C&~h;V!==0?a=Gs(V):(m&=C,m!==0&&(a=Gs(m)))}else C=o&~h,C!==0?a=Gs(C):m!==0&&(a=Gs(m));if(a===0)return 0;if(t!==0&&t!==a&&(t&h)===0&&(h=a&-a,m=t&-t,h>=m||h===16&&(m&4194240)!==0))return t;if((a&4)!==0&&(a|=o&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)o=31-wr(t),h=1<<o,a|=e[o],t&=~h;return a}function Hf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(e,t){for(var o=e.suspendedLanes,a=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var C=31-wr(m),V=1<<C,Z=h[C];Z===-1?((V&o)===0||(V&a)!==0)&&(h[C]=Hf(V,t)):Z<=t&&(e.expiredLanes|=V),m&=~V}}function la(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vu(){var e=qs;return qs<<=1,(qs&4194240)===0&&(qs=64),e}function Xo(e){for(var t=[],o=0;31>o;o++)t.push(e);return t}function Ko(e,t,o){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wr(t),e[t]=o}function Uf(e,t){var o=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<o;){var h=31-wr(o),m=1<<h;t[h]=0,a[h]=-1,e[h]=-1,o&=~m}}function Qo(e,t){var o=e.entangledLanes|=t;for(e=e.entanglements;o;){var a=31-wr(o),h=1<<a;h&t|e[a]&t&&(e[a]|=t),o&=~h}}var mt=0;function ds(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Yu,aa,Bf,qu,Gu,ua=!1,Zo=[],ji=null,Ti=null,Pi=null,Xs=new Map,Jo=new Map,Ri=[],Xh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wf(e,t){switch(e){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Pi=null;break;case"pointerover":case"pointerout":Xs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jo.delete(t.pointerId)}}function hs(e,t,o,a,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:t,domEventName:o,eventSystemFlags:a,nativeEvent:m,targetContainers:[h]},t!==null&&(t=gn(t),t!==null&&aa(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,h!==null&&t.indexOf(h)===-1&&t.push(h),e)}function Kh(e,t,o,a,h){switch(t){case"focusin":return ji=hs(ji,e,t,o,a,h),!0;case"dragenter":return Ti=hs(Ti,e,t,o,a,h),!0;case"mouseover":return Pi=hs(Pi,e,t,o,a,h),!0;case"pointerover":var m=h.pointerId;return Xs.set(m,hs(Xs.get(m)||null,e,t,o,a,h)),!0;case"gotpointercapture":return m=h.pointerId,Jo.set(m,hs(Jo.get(m)||null,e,t,o,a,h)),!0}return!1}function Vf(e){var t=Hr(e.target);if(t!==null){var o=si(t);if(o!==null){if(t=o.tag,t===13){if(t=Wo(o),t!==null){e.blockedOn=t,Gu(e.priority,function(){Bf(o)});return}}else if(t===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ca(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var o=ha(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);ri=a,o.target.dispatchEvent(a),ri=null}else return t=gn(o),t!==null&&aa(t),e.blockedOn=o,!1;t.shift()}return!0}function Yf(e,t,o){ca(e)&&o.delete(t)}function Qh(){ua=!1,ji!==null&&ca(ji)&&(ji=null),Ti!==null&&ca(Ti)&&(Ti=null),Pi!==null&&ca(Pi)&&(Pi=null),Xs.forEach(Yf),Jo.forEach(Yf)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,ua||(ua=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,Qh)))}function yt(e){function t(h){return wt(h,e)}if(0<Zo.length){wt(Zo[0],e);for(var o=1;o<Zo.length;o++){var a=Zo[o];a.blockedOn===e&&(a.blockedOn=null)}}for(ji!==null&&wt(ji,e),Ti!==null&&wt(Ti,e),Pi!==null&&wt(Pi,e),Xs.forEach(t),Jo.forEach(t),o=0;o<Ri.length;o++)a=Ri[o],a.blockedOn===e&&(a.blockedOn=null);for(;0<Ri.length&&(o=Ri[0],o.blockedOn===null);)Vf(o),o.blockedOn===null&&Ri.shift()}var Ks=k.ReactCurrentBatchConfig,fa=!0;function Zh(e,t,o,a){var h=mt,m=Ks.transition;Ks.transition=null;try{mt=1,Xu(e,t,o,a)}finally{mt=h,Ks.transition=m}}function Jh(e,t,o,a){var h=mt,m=Ks.transition;Ks.transition=null;try{mt=4,Xu(e,t,o,a)}finally{mt=h,Ks.transition=m}}function Xu(e,t,o,a){if(fa){var h=ha(e,t,o,a);if(h===null)dc(e,t,a,da,o),Wf(e,a);else if(Kh(h,e,t,o,a))a.stopPropagation();else if(Wf(e,a),t&4&&-1<Xh.indexOf(e)){for(;h!==null;){var m=gn(h);if(m!==null&&Yu(m),m=ha(e,t,o,a),m===null&&dc(e,t,a,da,o),m===h)break;h=m}h!==null&&a.stopPropagation()}else dc(e,t,a,null,o)}}var da=null;function ha(e,t,o,a){if(da=null,e=is(a),e=Hr(e),e!==null)if(t=si(e),t===null)e=null;else if(o=t.tag,o===13){if(e=Wo(t),e!==null)return e;e=null}else if(o===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return da=e,null}function qf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wu()){case Vo:return 1;case sa:return 4;case cs:case Yo:return 16;case qo:return 536870912;default:return 16}default:return 16}}var Mt=null,el=null,$r=null;function Ku(){if($r)return $r;var e,t=el,o=t.length,a,h="value"in Mt?Mt.value:Mt.textContent,m=h.length;for(e=0;e<o&&t[e]===h[e];e++);var C=o-e;for(a=1;a<=C&&t[o-a]===h[m-a];a++);return $r=h.slice(e,1<a?1-a:void 0)}function Qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function En(){return!0}function Qu(){return!1}function Mn(e){function t(o,a,h,m,C){this._reactName=o,this._targetInst=h,this.type=a,this.nativeEvent=m,this.target=C,this.currentTarget=null;for(var V in e)e.hasOwnProperty(V)&&(o=e[V],this[V]=o?o(m):m[V]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?En:Qu,this.isPropagationStopped=Qu,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),t}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Mn(ps),Zs=W({},ps,{view:0,detail:0}),Gf=Mn(Zs),Cn,Zu,hn,ga=W({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&e.type==="mousemove"?(Cn=e.screenX-hn.screenX,Zu=e.screenY-hn.screenY):Zu=Cn=0,hn=e),Cn)},movementY:function(e){return"movementY"in e?e.movementY:Zu}}),Ju=Mn(ga),Ai=W({},ga,{dataTransfer:0}),ma=Mn(Ai),ec=W({},Zs,{relatedTarget:0}),kt=Mn(ec),Di=W({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),tc=Mn(Di),ep=W({},ps,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nc=Mn(ep),tp=W({},ps,{data:0}),Xf=Mn(tp),np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ya={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=ya[e])?!!t[e]:!1}function rc(){return Js}var Qf=W({},Zs,{key:function(e){if(e.key){var t=np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Kf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rc,charCode:function(e){return e.type==="keypress"?Qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Zf=Mn(Qf),ic=W({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xa=Mn(ic),Jf=W({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rc}),rp=Mn(Jf),sc=W({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),oc=Mn(sc),ip=W({},ga,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ed=Mn(ip),Bn=[9,13,27,32],tl=x&&"CompositionEvent"in window,oi=null;x&&"documentMode"in document&&(oi=document.documentMode);var td=x&&"TextEvent"in window&&!oi,lc=x&&(!tl||oi&&8<oi&&11>=oi),nd=" ",rd=!1;function id(e,t){switch(e){case"keyup":return Bn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eo=!1;function to(e,t){switch(e){case"compositionend":return sd(t);case"keypress":return t.which!==32?null:(rd=!0,nd);case"textInput":return e=t.data,e===nd&&rd?null:e;default:return null}}function sp(e,t){if(eo)return e==="compositionend"||!tl&&id(e,t)?(e=Ku(),$r=el=Mt=null,eo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return lc&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function va(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function ac(e,t,o,a){Xl(a),t=ja(t,"onChange"),0<t.length&&(o=new pa("onChange","change",null,o,a),e.push({event:o,listeners:t}))}var tr=null,Mi=null;function lp(e){dd(e,0)}function wa(e){var t=Je(e);if(vt(t))return e}function ap(e,t){if(e==="change")return t}var gs=!1;if(x){var Wn;if(x){var _a="oninput"in document;if(!_a){var od=document.createElement("div");od.setAttribute("oninput","return;"),_a=typeof od.oninput=="function"}Wn=_a}else Wn=!1;gs=Wn&&(!document.documentMode||9<document.documentMode)}function ld(){tr&&(tr.detachEvent("onpropertychange",ad),Mi=tr=null)}function ad(e){if(e.propertyName==="value"&&wa(Mi)){var t=[];ac(t,Mi,e,is(e)),Zl(lp,t)}}function up(e,t,o){e==="focusin"?(ld(),tr=t,Mi=o,tr.attachEvent("onpropertychange",ad)):e==="focusout"&&ld()}function cp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wa(Mi)}function no(e,t){if(e==="click")return wa(t)}function re(e,t){if(e==="input"||e==="change")return wa(t)}function pe(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fe=typeof Object.is=="function"?Object.is:pe;function Te(e,t){if(fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var h=o[a];if(!w.call(t,h)||!fe(e[h],t[h]))return!1}return!0}function Qe(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ht(e,t){var o=Qe(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=t&&a>=t)return{node:o,offset:t-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Qe(o)}}function Vt(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vt(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function St(){for(var e=window,t=bt();t instanceof e.HTMLIFrameElement;){try{var o=typeof t.contentWindow.location.href=="string"}catch{o=!1}if(o)e=t.contentWindow;else break;t=bt(e.document)}return t}function nl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function fp(e){var t=St(),o=e.focusedElem,a=e.selectionRange;if(t!==o&&o&&o.ownerDocument&&Vt(o.ownerDocument.documentElement,o)){if(a!==null&&nl(o)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in o)o.selectionStart=t,o.selectionEnd=Math.min(e,o.value.length);else if(e=(t=o.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var h=o.textContent.length,m=Math.min(a.start,h);a=a.end===void 0?m:Math.min(a.end,h),!e.extend&&m>a&&(h=a,a=m,m=h),h=ht(o,m);var C=ht(o,a);h&&C&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==C.node||e.focusOffset!==C.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),e.removeAllRanges(),m>a?(e.addRange(t),e.extend(C.node,C.offset)):(t.setEnd(C.node,C.offset),e.addRange(t)))}}for(t=[],e=o;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<t.length;o++)e=t[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var nr=x&&"documentMode"in document&&11>=document.documentMode,li=null,uc=null,Lr=null,ro=!1;function rl(e,t,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;ro||li==null||li!==bt(a)||(a=li,"selectionStart"in a&&nl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Lr&&Te(Lr,a)||(Lr=a,a=ja(uc,"onSelect"),0<a.length&&(t=new pa("onSelect","select",null,t,o),e.push({event:t,listeners:a}),t.target=li)))}function pt(e,t){var o={};return o[e.toLowerCase()]=t.toLowerCase(),o["Webkit"+e]="webkit"+t,o["Moz"+e]="moz"+t,o}var io={animationend:pt("Animation","AnimationEnd"),animationiteration:pt("Animation","AnimationIteration"),animationstart:pt("Animation","AnimationStart"),transitionend:pt("Transition","TransitionEnd")},Sa={},il={};x&&(il=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Na(e){if(Sa[e])return Sa[e];if(!io[e])return e;var t=io[e],o;for(o in t)if(t.hasOwnProperty(o)&&o in il)return Sa[e]=t[o];return e}var ud=Na("animationend"),cd=Na("animationiteration"),sl=Na("animationstart"),ai=Na("transitionend"),ol=new Map,cc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){ol.set(e,t),g(t,[e])}for(var ba=0;ba<cc.length;ba++){var Ea=cc[ba],Ca=Ea.toLowerCase(),fd=Ea[0].toUpperCase()+Ea.slice(1);_r(Ca,"on"+fd)}_r(ud,"onAnimationEnd"),_r(cd,"onAnimationIteration"),_r(sl,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(ai,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),g("onBeforeInput",["compositionend","keypress","textInput","paste"]),g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ms=new Set("cancel close invalid load scroll toggle".split(" ").concat(ui));function ll(e,t,o){var a=e.type||"unknown-event";e.currentTarget=o,Jl(a,t,void 0,e),e.currentTarget=null}function dd(e,t){t=(t&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],h=a.event;a=a.listeners;e:{var m=void 0;if(t)for(var C=a.length-1;0<=C;C--){var V=a[C],Z=V.instance,de=V.currentTarget;if(V=V.listener,Z!==m&&h.isPropagationStopped())break e;ll(h,V,de),m=Z}else for(C=0;C<a.length;C++){if(V=a[C],Z=V.instance,de=V.currentTarget,V=V.listener,Z!==m&&h.isPropagationStopped())break e;ll(h,V,de),m=Z}}}if(Vs)throw e=Bo,Vs=!1,Bo=null,e}function Pt(e,t){var o=t[Ra];o===void 0&&(o=t[Ra]=new Set);var a=e+"__bubble";o.has(a)||(ka(t,e,2,!1),o.add(a))}function fc(e,t,o){var a=0;t&&(a|=4),ka(o,e,a,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function zi(e){if(!e[ys]){e[ys]=!0,c.forEach(function(o){o!=="selectionchange"&&(ms.has(o)||fc(o,!1,e),fc(o,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,fc("selectionchange",!1,t))}}function ka(e,t,o,a){switch(qf(t)){case 1:var h=Zh;break;case 4:h=Jh;break;default:h=Xu}o=h.bind(null,t,o,e),h=void 0,!os||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(h=!0),a?h!==void 0?e.addEventListener(t,o,{capture:!0,passive:h}):e.addEventListener(t,o,!0):h!==void 0?e.addEventListener(t,o,{passive:h}):e.addEventListener(t,o,!1)}function dc(e,t,o,a,h){var m=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var C=a.tag;if(C===3||C===4){var V=a.stateNode.containerInfo;if(V===h||V.nodeType===8&&V.parentNode===h)break;if(C===4)for(C=a.return;C!==null;){var Z=C.tag;if((Z===3||Z===4)&&(Z=C.stateNode.containerInfo,Z===h||Z.nodeType===8&&Z.parentNode===h))return;C=C.return}for(;V!==null;){if(C=Hr(V),C===null)return;if(Z=C.tag,Z===5||Z===6){a=m=C;continue e}V=V.parentNode}}a=a.return}Zl(function(){var de=m,Se=is(o),be=[];e:{var we=ol.get(e);if(we!==void 0){var Pe=pa,ze=e;switch(e){case"keypress":if(Qs(o)===0)break e;case"keydown":case"keyup":Pe=Zf;break;case"focusin":ze="focus",Pe=kt;break;case"focusout":ze="blur",Pe=kt;break;case"beforeblur":case"afterblur":Pe=kt;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Ju;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=ma;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=rp;break;case ud:case cd:case sl:Pe=tc;break;case ai:Pe=oc;break;case"scroll":Pe=Gf;break;case"wheel":Pe=ed;break;case"copy":case"cut":case"paste":Pe=nc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=xa}var Ie=(t&4)!==0,Ut=!Ie&&e==="scroll",le=Ie?we!==null?we+"Capture":null:we;Ie=[];for(var te=de,ue;te!==null;){ue=te;var Ee=ue.stateNode;if(ue.tag===5&&Ee!==null&&(ue=Ee,le!==null&&(Ee=ss(te,le),Ee!=null&&Ie.push(so(te,Ee,ue)))),Ut)break;te=te.return}0<Ie.length&&(we=new Pe(we,ze,null,o,Se),be.push({event:we,listeners:Ie}))}}if((t&7)===0){e:{if(we=e==="mouseover"||e==="pointerover",Pe=e==="mouseout"||e==="pointerout",we&&o!==ri&&(ze=o.relatedTarget||o.fromElement)&&(Hr(ze)||ze[Vn]))break e;if((Pe||we)&&(we=Se.window===Se?Se:(we=Se.ownerDocument)?we.defaultView||we.parentWindow:window,Pe?(ze=o.relatedTarget||o.toElement,Pe=de,ze=ze?Hr(ze):null,ze!==null&&(Ut=si(ze),ze!==Ut||ze.tag!==5&&ze.tag!==6)&&(ze=null)):(Pe=null,ze=de),Pe!==ze)){if(Ie=Ju,Ee="onMouseLeave",le="onMouseEnter",te="mouse",(e==="pointerout"||e==="pointerover")&&(Ie=xa,Ee="onPointerLeave",le="onPointerEnter",te="pointer"),Ut=Pe==null?we:Je(Pe),ue=ze==null?we:Je(ze),we=new Ie(Ee,te+"leave",Pe,o,Se),we.target=Ut,we.relatedTarget=ue,Ee=null,Hr(Se)===de&&(Ie=new Ie(le,te+"enter",ze,o,Se),Ie.target=ue,Ie.relatedTarget=Ut,Ee=Ie),Ut=Ee,Pe&&ze)t:{for(Ie=Pe,le=ze,te=0,ue=Ie;ue;ue=oo(ue))te++;for(ue=0,Ee=le;Ee;Ee=oo(Ee))ue++;for(;0<te-ue;)Ie=oo(Ie),te--;for(;0<ue-te;)le=oo(le),ue--;for(;te--;){if(Ie===le||le!==null&&Ie===le.alternate)break t;Ie=oo(Ie),le=oo(le)}Ie=null}else Ie=null;Pe!==null&&Yt(be,we,Pe,Ie,!1),ze!==null&&Ut!==null&&Yt(be,Ut,ze,Ie,!0)}}e:{if(we=de?Je(de):window,Pe=we.nodeName&&we.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&we.type==="file")var $e=ap;else if(va(we))if(gs)$e=re;else{$e=cp;var We=up}else(Pe=we.nodeName)&&Pe.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&($e=no);if($e&&($e=$e(e,de))){ac(be,$e,o,Se);break e}We&&We(e,we,de),e==="focusout"&&(We=we._wrapperState)&&We.controlled&&we.type==="number"&&Et(we,"number",we.value)}switch(We=de?Je(de):window,e){case"focusin":(va(We)||We.contentEditable==="true")&&(li=We,uc=de,Lr=null);break;case"focusout":Lr=uc=li=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,rl(be,o,Se);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":rl(be,o,Se)}var Ue;if(tl)e:{switch(e){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else eo?id(e,o)&&(Ge="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Ge="onCompositionStart");Ge&&(lc&&o.locale!=="ko"&&(eo||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&eo&&(Ue=Ku()):(Mt=Se,el="value"in Mt?Mt.value:Mt.textContent,eo=!0)),We=ja(de,Ge),0<We.length&&(Ge=new Xf(Ge,e,null,o,Se),be.push({event:Ge,listeners:We}),Ue?Ge.data=Ue:(Ue=sd(o),Ue!==null&&(Ge.data=Ue)))),(Ue=td?to(e,o):sp(e,o))&&(de=ja(de,"onBeforeInput"),0<de.length&&(Se=new Xf("onBeforeInput","beforeinput",null,o,Se),be.push({event:Se,listeners:de}),Se.data=Ue))}dd(be,t)})}function so(e,t,o){return{instance:e,listener:t,currentTarget:o}}function ja(e,t){for(var o=t+"Capture",a=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=ss(e,o),m!=null&&a.unshift(so(e,m,h)),m=ss(e,t),m!=null&&a.push(so(e,m,h))),e=e.return}return a}function oo(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yt(e,t,o,a,h){for(var m=t._reactName,C=[];o!==null&&o!==a;){var V=o,Z=V.alternate,de=V.stateNode;if(Z!==null&&Z===a)break;V.tag===5&&de!==null&&(V=de,h?(Z=ss(o,m),Z!=null&&C.unshift(so(o,Z,V))):h||(Z=ss(o,m),Z!=null&&C.push(so(o,Z,V)))),o=o.return}C.length!==0&&e.push({event:t,listeners:C})}var pn=/\r\n?/g,dp=/\u0000|\uFFFD/g;function hd(e){return(typeof e=="string"?e:""+e).replace(pn,`
`).replace(dp,"")}function al(e,t,o){if(t=hd(t),hd(e)!==t&&o)throw Error(s(425))}function Ta(){}var ul=null,xs=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oi=typeof setTimeout=="function"?setTimeout:void 0,fl=typeof clearTimeout=="function"?clearTimeout:void 0,lo=typeof Promise=="function"?Promise:void 0,Pa=typeof queueMicrotask=="function"?queueMicrotask:typeof lo<"u"?function(e){return lo.resolve(null).then(e).catch(ao)}:Oi;function ao(e){setTimeout(function(){throw e})}function hc(e,t){var o=t,a=0;do{var h=o.nextSibling;if(e.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(a===0){e.removeChild(h),yt(t);return}a--}else o!=="$"&&o!=="$?"&&o!=="$!"||a++;o=h}while(o);yt(t)}function Ii(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function pd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(t===0)return e;t--}else o==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Fr="__reactFiber$"+uo,$i="__reactProps$"+uo,Vn="__reactContainer$"+uo,Ra="__reactEvents$"+uo,R="__reactListeners$"+uo,co="__reactHandles$"+uo;function Hr(e){var t=e[Fr];if(t)return t;for(var o=e.parentNode;o;){if(t=o[Vn]||o[Fr]){if(o=t.alternate,t.child!==null||o!==null&&o.child!==null)for(e=pd(e);e!==null;){if(o=e[Fr])return o;e=pd(e)}return t}e=o,o=e.parentNode}return null}function gn(e){return e=e[Fr]||e[Vn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Je(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Aa(e){return e[$i]||null}var pc=[],fo=-1;function zn(e){return{current:e}}function Rt(e){0>fo||(e.current=pc[fo],pc[fo]=null,fo--)}function jt(e,t){fo++,pc[fo]=e.current,e.current=t}var Li={},mn=zn(Li),On=zn(!1),kn=Li;function ho(e,t){var o=e.type.contextTypes;if(!o)return Li;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in o)h[m]=t[m];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=h),h}function In(e){return e=e.childContextTypes,e!=null}function Da(){Rt(On),Rt(mn)}function gd(e,t,o){if(mn.current!==Li)throw Error(s(168));jt(mn,t),jt(On,o)}function md(e,t,o){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return o;a=a.getChildContext();for(var h in a)if(!(h in t))throw Error(s(108,Re(e)||"Unknown",h));return W({},o,a)}function rr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Li,kn=mn.current,jt(mn,e),jt(On,On.current),!0}function yd(e,t,o){var a=e.stateNode;if(!a)throw Error(s(169));o?(e=md(e,t,kn),a.__reactInternalMemoizedMergedChildContext=e,Rt(On),Rt(mn),jt(mn,e)):Rt(On),jt(On,o)}var ci=null,Ma=!1,gc=!1;function xd(e){ci===null?ci=[e]:ci.push(e)}function vs(e){Ma=!0,xd(e)}function Fi(){if(!gc&&ci!==null){gc=!0;var e=0,t=mt;try{var o=ci;for(mt=1;e<o.length;e++){var a=o[e];do a=a(!0);while(a!==null)}ci=null,Ma=!1}catch(h){throw ci!==null&&(ci=ci.slice(e+1)),ra(Vo,Fi),h}finally{mt=t,gc=!1}}return null}var po=[],yn=0,za=null,Oa=0,ir=[],sr=0,ws=null,Ur=1,Br="";function _s(e,t){po[yn++]=Oa,po[yn++]=za,za=e,Oa=t}function vd(e,t,o){ir[sr++]=Ur,ir[sr++]=Br,ir[sr++]=ws,ws=e;var a=Ur;e=Br;var h=32-wr(a)-1;a&=~(1<<h),o+=1;var m=32-wr(t)+h;if(30<m){var C=h-h%5;m=(a&(1<<C)-1).toString(32),a>>=C,h-=C,Ur=1<<32-wr(t)+h|o<<h|a,Br=m+e}else Ur=1<<m|o<<h|a,Br=e}function dl(e){e.return!==null&&(_s(e,1),vd(e,1,0))}function Ss(e){for(;e===za;)za=po[--yn],po[yn]=null,Oa=po[--yn],po[yn]=null;for(;e===ws;)ws=ir[--sr],ir[sr]=null,Br=ir[--sr],ir[sr]=null,Ur=ir[--sr],ir[sr]=null}var xn=null,Yn=null,At=!1,Sr=null;function Wr(e,t){var o=dr(5,null,null,0);o.elementType="DELETED",o.stateNode=t,o.return=e,t=e.deletions,t===null?(e.deletions=[o],e.flags|=16):t.push(o)}function Ia(e,t){switch(e.tag){case 5:var o=e.type;return t=t.nodeType!==1||o.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xn=e,Yn=Ii(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xn=e,Yn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(o=ws!==null?{id:Ur,overflow:Br}:null,e.memoizedState={dehydrated:t,treeContext:o,retryLane:1073741824},o=dr(18,null,null,0),o.stateNode=t,o.return=e,e.child=o,xn=e,Yn=null,!0):!1;default:return!1}}function fi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $n(e){if(At){var t=Yn;if(t){var o=t;if(!Ia(e,t)){if(fi(e))throw Error(s(418));t=Ii(o.nextSibling);var a=xn;t&&Ia(e,t)?Wr(a,o):(e.flags=e.flags&-4097|2,At=!1,xn=e)}}else{if(fi(e))throw Error(s(418));e.flags=e.flags&-4097|2,At=!1,xn=e}}}function wd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xn=e}function hl(e){if(e!==xn)return!1;if(!At)return wd(e),At=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=Yn)){if(fi(e))throw mc(),Error(s(418));for(;t;)Wr(e,t),t=Ii(t.nextSibling)}if(wd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(t===0){Yn=Ii(e.nextSibling);break e}t--}else o!=="$"&&o!=="$!"&&o!=="$?"||t++}e=e.nextSibling}Yn=null}}else Yn=xn?Ii(e.stateNode.nextSibling):null;return!0}function mc(){for(var e=Yn;e;)e=Ii(e.nextSibling)}function Vr(){Yn=xn=null,At=!1}function Yr(e){Sr===null?Sr=[e]:Sr.push(e)}var _d=k.ReactCurrentBatchConfig;function pl(e,t,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var a=o.stateNode}if(!a)throw Error(s(147,e));var h=a,m=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===m?t.ref:(t=function(C){var V=h.refs;C===null?delete V[m]:V[m]=C},t._stringRef=m,t)}if(typeof e!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Sd(e){var t=e._init;return t(e._payload)}function yc(e){function t(le,te){if(e){var ue=le.deletions;ue===null?(le.deletions=[te],le.flags|=16):ue.push(te)}}function o(le,te){if(!e)return null;for(;te!==null;)t(le,te),te=te.sibling;return null}function a(le,te){for(le=new Map;te!==null;)te.key!==null?le.set(te.key,te):le.set(te.index,te),te=te.sibling;return le}function h(le,te){return le=Tr(le,te),le.index=0,le.sibling=null,le}function m(le,te,ue){return le.index=ue,e?(ue=le.alternate,ue!==null?(ue=ue.index,ue<te?(le.flags|=2,te):ue):(le.flags|=2,te)):(le.flags|=1048576,te)}function C(le){return e&&le.alternate===null&&(le.flags|=2),le}function V(le,te,ue,Ee){return te===null||te.tag!==6?(te=rf(ue,le.mode,Ee),te.return=le,te):(te=h(te,ue),te.return=le,te)}function Z(le,te,ue,Ee){var $e=ue.type;return $e===b?Se(le,te,ue.props.children,Ee,ue.key):te!==null&&(te.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===B&&Sd($e)===te.type)?(Ee=h(te,ue.props),Ee.ref=pl(le,te,ue),Ee.return=le,Ee):(Ee=xu(ue.type,ue.key,ue.props,null,le.mode,Ee),Ee.ref=pl(le,te,ue),Ee.return=le,Ee)}function de(le,te,ue,Ee){return te===null||te.tag!==4||te.stateNode.containerInfo!==ue.containerInfo||te.stateNode.implementation!==ue.implementation?(te=sf(ue,le.mode,Ee),te.return=le,te):(te=h(te,ue.children||[]),te.return=le,te)}function Se(le,te,ue,Ee,$e){return te===null||te.tag!==7?(te=Ms(ue,le.mode,Ee,$e),te.return=le,te):(te=h(te,ue),te.return=le,te)}function be(le,te,ue){if(typeof te=="string"&&te!==""||typeof te=="number")return te=rf(""+te,le.mode,ue),te.return=le,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return ue=xu(te.type,te.key,te.props,null,le.mode,ue),ue.ref=pl(le,null,te),ue.return=le,ue;case $:return te=sf(te,le.mode,ue),te.return=le,te;case B:var Ee=te._init;return be(le,Ee(te._payload),ue)}if(Tt(te)||O(te))return te=Ms(te,le.mode,ue,null),te.return=le,te;Ns(le,te)}return null}function we(le,te,ue,Ee){var $e=te!==null?te.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number")return $e!==null?null:V(le,te,""+ue,Ee);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:return ue.key===$e?Z(le,te,ue,Ee):null;case $:return ue.key===$e?de(le,te,ue,Ee):null;case B:return $e=ue._init,we(le,te,$e(ue._payload),Ee)}if(Tt(ue)||O(ue))return $e!==null?null:Se(le,te,ue,Ee,null);Ns(le,ue)}return null}function Pe(le,te,ue,Ee,$e){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return le=le.get(ue)||null,V(te,le,""+Ee,$e);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case M:return le=le.get(Ee.key===null?ue:Ee.key)||null,Z(te,le,Ee,$e);case $:return le=le.get(Ee.key===null?ue:Ee.key)||null,de(te,le,Ee,$e);case B:var We=Ee._init;return Pe(le,te,ue,We(Ee._payload),$e)}if(Tt(Ee)||O(Ee))return le=le.get(ue)||null,Se(te,le,Ee,$e,null);Ns(te,Ee)}return null}function ze(le,te,ue,Ee){for(var $e=null,We=null,Ue=te,Ge=te=0,rn=null;Ue!==null&&Ge<ue.length;Ge++){Ue.index>Ge?(rn=Ue,Ue=null):rn=Ue.sibling;var gt=we(le,Ue,ue[Ge],Ee);if(gt===null){Ue===null&&(Ue=rn);break}e&&Ue&&gt.alternate===null&&t(le,Ue),te=m(gt,te,Ge),We===null?$e=gt:We.sibling=gt,We=gt,Ue=rn}if(Ge===ue.length)return o(le,Ue),At&&_s(le,Ge),$e;if(Ue===null){for(;Ge<ue.length;Ge++)Ue=be(le,ue[Ge],Ee),Ue!==null&&(te=m(Ue,te,Ge),We===null?$e=Ue:We.sibling=Ue,We=Ue);return At&&_s(le,Ge),$e}for(Ue=a(le,Ue);Ge<ue.length;Ge++)rn=Pe(Ue,le,Ge,ue[Ge],Ee),rn!==null&&(e&&rn.alternate!==null&&Ue.delete(rn.key===null?Ge:rn.key),te=m(rn,te,Ge),We===null?$e=rn:We.sibling=rn,We=rn);return e&&Ue.forEach(function(Zi){return t(le,Zi)}),At&&_s(le,Ge),$e}function Ie(le,te,ue,Ee){var $e=O(ue);if(typeof $e!="function")throw Error(s(150));if(ue=$e.call(ue),ue==null)throw Error(s(151));for(var We=$e=null,Ue=te,Ge=te=0,rn=null,gt=ue.next();Ue!==null&&!gt.done;Ge++,gt=ue.next()){Ue.index>Ge?(rn=Ue,Ue=null):rn=Ue.sibling;var Zi=we(le,Ue,gt.value,Ee);if(Zi===null){Ue===null&&(Ue=rn);break}e&&Ue&&Zi.alternate===null&&t(le,Ue),te=m(Zi,te,Ge),We===null?$e=Zi:We.sibling=Zi,We=Zi,Ue=rn}if(gt.done)return o(le,Ue),At&&_s(le,Ge),$e;if(Ue===null){for(;!gt.done;Ge++,gt=ue.next())gt=be(le,gt.value,Ee),gt!==null&&(te=m(gt,te,Ge),We===null?$e=gt:We.sibling=gt,We=gt);return At&&_s(le,Ge),$e}for(Ue=a(le,Ue);!gt.done;Ge++,gt=ue.next())gt=Pe(Ue,le,Ge,gt.value,Ee),gt!==null&&(e&&gt.alternate!==null&&Ue.delete(gt.key===null?Ge:gt.key),te=m(gt,te,Ge),We===null?$e=gt:We.sibling=gt,We=gt);return e&&Ue.forEach(function(Dp){return t(le,Dp)}),At&&_s(le,Ge),$e}function Ut(le,te,ue,Ee){if(typeof ue=="object"&&ue!==null&&ue.type===b&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case M:e:{for(var $e=ue.key,We=te;We!==null;){if(We.key===$e){if($e=ue.type,$e===b){if(We.tag===7){o(le,We.sibling),te=h(We,ue.props.children),te.return=le,le=te;break e}}else if(We.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===B&&Sd($e)===We.type){o(le,We.sibling),te=h(We,ue.props),te.ref=pl(le,We,ue),te.return=le,le=te;break e}o(le,We);break}else t(le,We);We=We.sibling}ue.type===b?(te=Ms(ue.props.children,le.mode,Ee,ue.key),te.return=le,le=te):(Ee=xu(ue.type,ue.key,ue.props,null,le.mode,Ee),Ee.ref=pl(le,te,ue),Ee.return=le,le=Ee)}return C(le);case $:e:{for(We=ue.key;te!==null;){if(te.key===We)if(te.tag===4&&te.stateNode.containerInfo===ue.containerInfo&&te.stateNode.implementation===ue.implementation){o(le,te.sibling),te=h(te,ue.children||[]),te.return=le,le=te;break e}else{o(le,te);break}else t(le,te);te=te.sibling}te=sf(ue,le.mode,Ee),te.return=le,le=te}return C(le);case B:return We=ue._init,Ut(le,te,We(ue._payload),Ee)}if(Tt(ue))return ze(le,te,ue,Ee);if(O(ue))return Ie(le,te,ue,Ee);Ns(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"?(ue=""+ue,te!==null&&te.tag===6?(o(le,te.sibling),te=h(te,ue),te.return=le,le=te):(o(le,te),te=rf(ue,le.mode,Ee),te.return=le,le=te),C(le)):o(le,te)}return Ut}var Ft=yc(!0),$a=yc(!1),gl=zn(null),qn=null,Hi=null,go=null;function di(){go=Hi=qn=null}function La(e){var t=gl.current;Rt(gl),e._currentValue=t}function on(e,t,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===o)break;e=e.return}}function Ui(e,t){qn=e,go=Hi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Tn=!0),e.firstContext=null)}function or(e){var t=e._currentValue;if(go!==e)if(e={context:e,memoizedValue:t,next:null},Hi===null){if(qn===null)throw Error(s(308));Hi=e,qn.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var bs=null;function xc(e){bs===null?bs=[e]:bs.push(e)}function Fa(e,t,o,a){var h=t.interleaved;return h===null?(o.next=o,xc(t)):(o.next=h.next,h.next=o),t.interleaved=o,hi(e,a)}function hi(e,t){e.lanes|=t;var o=e.alternate;for(o!==null&&(o.lanes|=t),o=e,e=e.return;e!==null;)e.childLanes|=t,o=e.alternate,o!==null&&(o.childLanes|=t),o=e,e=e.return;return o.tag===3?o.stateNode:null}var lr=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(e,t,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(ft&2)!==0){var h=a.pending;return h===null?t.next=t:(t.next=h.next,h.next=t),a.pending=t,hi(e,o)}return h=a.interleaved,h===null?(t.next=t,xc(a)):(t.next=h.next,h.next=t),a.interleaved=t,hi(e,o)}function Ua(e,t,o){if(t=t.updateQueue,t!==null&&(t=t.shared,(o&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,Qo(e,o)}}function bd(e,t){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var C={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};m===null?h=m=C:m=m.next=C,o=o.next}while(o!==null);m===null?h=m=t:m=m.next=t}else h=m=t;o={baseState:a.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:a.shared,effects:a.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=t:e.next=t,o.lastBaseUpdate=t}function mo(e,t,o,a){var h=e.updateQueue;lr=!1;var m=h.firstBaseUpdate,C=h.lastBaseUpdate,V=h.shared.pending;if(V!==null){h.shared.pending=null;var Z=V,de=Z.next;Z.next=null,C===null?m=de:C.next=de,C=Z;var Se=e.alternate;Se!==null&&(Se=Se.updateQueue,V=Se.lastBaseUpdate,V!==C&&(V===null?Se.firstBaseUpdate=de:V.next=de,Se.lastBaseUpdate=Z))}if(m!==null){var be=h.baseState;C=0,Se=de=Z=null,V=m;do{var we=V.lane,Pe=V.eventTime;if((a&we)===we){Se!==null&&(Se=Se.next={eventTime:Pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ze=e,Ie=V;switch(we=t,Pe=o,Ie.tag){case 1:if(ze=Ie.payload,typeof ze=="function"){be=ze.call(Pe,be,we);break e}be=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=Ie.payload,we=typeof ze=="function"?ze.call(Pe,be,we):ze,we==null)break e;be=W({},be,we);break e;case 2:lr=!0}}V.callback!==null&&V.lane!==0&&(e.flags|=64,we=h.effects,we===null?h.effects=[V]:we.push(V))}else Pe={eventTime:Pe,lane:we,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Se===null?(de=Se=Pe,Z=be):Se=Se.next=Pe,C|=we;if(V=V.next,V===null){if(V=h.shared.pending,V===null)break;we=V,V=we.next,we.next=null,h.lastBaseUpdate=we,h.shared.pending=null}}while(!0);if(Se===null&&(Z=be),h.baseState=Z,h.firstBaseUpdate=de,h.lastBaseUpdate=Se,t=h.shared.interleaved,t!==null){h=t;do C|=h.lane,h=h.next;while(h!==t)}else m===null&&(h.shared.lanes=0);qi|=C,e.lanes=C,e.memoizedState=be}}function vc(e,t,o){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],h=a.callback;if(h!==null){if(a.callback=null,a=o,typeof h!="function")throw Error(s(191,h));h.call(a)}}}var ml={},qr=zn(ml),yl=zn(ml),yo=zn(ml);function gi(e){if(e===ml)throw Error(s(174));return e}function wc(e,t){switch(jt(yo,t),jt(yl,e),jt(qr,ml),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Fe(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Fe(t,e)}Rt(qr),jt(qr,t)}function Bi(){Rt(qr),Rt(yl),Rt(yo)}function _c(e){gi(yo.current);var t=gi(qr.current),o=Fe(t,e.type);t!==o&&(jt(yl,e),jt(qr,o))}function Ba(e){yl.current===e&&(Rt(qr),Rt(yl))}var zt=zn(0);function Es(e){for(var t=e;t!==null;){if(t.tag===13){var o=t.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Sc=[];function Wa(){for(var e=0;e<Sc.length;e++)Sc[e]._workInProgressVersionPrimary=null;Sc.length=0}var xl=k.ReactCurrentDispatcher,Nc=k.ReactCurrentBatchConfig,Wi=0,$t=null,Ht=null,Kt=null,xo=!1,vl=!1,Cs=0,tt=0;function vn(){throw Error(s(321))}function bc(e,t){if(t===null)return!1;for(var o=0;o<t.length&&o<e.length;o++)if(!fe(e[o],t[o]))return!1;return!0}function ks(e,t,o,a,h,m){if(Wi=m,$t=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xl.current=e===null||e.memoizedState===null?pp:Qa,e=o(a,h),vl){m=0;do{if(vl=!1,Cs=0,25<=m)throw Error(s(301));m+=1,Kt=Ht=null,t.updateQueue=null,xl.current=So,e=o(a,h)}while(vl)}if(xl.current=Ka,t=Ht!==null&&Ht.next!==null,Wi=0,Kt=Ht=$t=null,xo=!1,t)throw Error(s(300));return e}function Va(){var e=Cs!==0;return Cs=0,e}function Gr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?$t.memoizedState=Kt=e:Kt=Kt.next=e,Kt}function ur(){if(Ht===null){var e=$t.alternate;e=e!==null?e.memoizedState:null}else e=Ht.next;var t=Kt===null?$t.memoizedState:Kt.next;if(t!==null)Kt=t,Ht=e;else{if(e===null)throw Error(s(310));Ht=e,e={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Kt===null?$t.memoizedState=Kt=e:Kt=Kt.next=e}return Kt}function wn(e,t){return typeof t=="function"?t(e):t}function Ec(e){var t=ur(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var a=Ht,h=a.baseQueue,m=o.pending;if(m!==null){if(h!==null){var C=h.next;h.next=m.next,m.next=C}a.baseQueue=h=m,o.pending=null}if(h!==null){m=h.next,a=a.baseState;var V=C=null,Z=null,de=m;do{var Se=de.lane;if((Wi&Se)===Se)Z!==null&&(Z=Z.next={lane:0,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),a=de.hasEagerState?de.eagerState:e(a,de.action);else{var be={lane:Se,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null};Z===null?(V=Z=be,C=a):Z=Z.next=be,$t.lanes|=Se,qi|=Se}de=de.next}while(de!==null&&de!==m);Z===null?C=a:Z.next=V,fe(a,t.memoizedState)||(Tn=!0),t.memoizedState=a,t.baseState=C,t.baseQueue=Z,o.lastRenderedState=a}if(e=o.interleaved,e!==null){h=e;do m=h.lane,$t.lanes|=m,qi|=m,h=h.next;while(h!==e)}else h===null&&(o.lanes=0);return[t.memoizedState,o.dispatch]}function vo(e){var t=ur(),o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=e;var a=o.dispatch,h=o.pending,m=t.memoizedState;if(h!==null){o.pending=null;var C=h=h.next;do m=e(m,C.action),C=C.next;while(C!==h);fe(m,t.memoizedState)||(Tn=!0),t.memoizedState=m,t.baseQueue===null&&(t.baseState=m),o.lastRenderedState=m}return[m,a]}function Ya(){}function Cc(e,t){var o=$t,a=ur(),h=t(),m=!fe(a.memoizedState,h);if(m&&(a.memoizedState=h,Tn=!0),a=a.queue,Xr(mi.bind(null,o,a,e),[e]),a.getSnapshot!==t||m||Kt!==null&&Kt.memoizedState.tag&1){if(o.flags|=2048,wo(9,Ln.bind(null,o,a,h,t),void 0,null),nn===null)throw Error(s(349));(Wi&30)!==0||kc(o,t,h)}return h}function kc(e,t,o){e.flags|=16384,e={getSnapshot:t,value:o},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.stores=[e]):(o=t.stores,o===null?t.stores=[e]:o.push(e))}function Ln(e,t,o,a){t.value=o,t.getSnapshot=a,qa(t)&&jc(e)}function mi(e,t,o){return o(function(){qa(t)&&jc(e)})}function qa(e){var t=e.getSnapshot;e=e.value;try{var o=t();return!fe(e,o)}catch{return!0}}function jc(e){var t=hi(e,1);t!==null&&jr(t,e,1,-1)}function wl(e){var t=Gr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wn,lastRenderedState:e},t.queue=e,e=e.dispatch=Pd.bind(null,$t,e),[t.memoizedState,e]}function wo(e,t,o,a){return e={tag:e,create:t,destroy:o,deps:a,next:null},t=$t.updateQueue,t===null?(t={lastEffect:null,stores:null},$t.updateQueue=t,t.lastEffect=e.next=e):(o=t.lastEffect,o===null?t.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,t.lastEffect=e)),e}function Ga(){return ur().memoizedState}function _l(e,t,o,a){var h=Gr();$t.flags|=e,h.memoizedState=wo(1|t,o,void 0,a===void 0?null:a)}function _o(e,t,o,a){var h=ur();a=a===void 0?null:a;var m=void 0;if(Ht!==null){var C=Ht.memoizedState;if(m=C.destroy,a!==null&&bc(a,C.deps)){h.memoizedState=wo(t,o,m,a);return}}$t.flags|=e,h.memoizedState=wo(1|t,o,m,a)}function Xa(e,t){return _l(8390656,8,e,t)}function Xr(e,t){return _o(2048,8,e,t)}function Ed(e,t){return _o(4,2,e,t)}function yi(e,t){return _o(4,4,e,t)}function Tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pc(e,t,o){return o=o!=null?o.concat([e]):null,_o(4,4,Tc.bind(null,t,e),o)}function Sl(){}function Cd(e,t){var o=ur();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&bc(t,a[1])?a[0]:(o.memoizedState=[e,t],e)}function kd(e,t){var o=ur();t=t===void 0?null:t;var a=o.memoizedState;return a!==null&&t!==null&&bc(t,a[1])?a[0]:(e=e(),o.memoizedState=[e,t],e)}function jd(e,t,o){return(Wi&21)===0?(e.baseState&&(e.baseState=!1,Tn=!0),e.memoizedState=o):(fe(o,t)||(o=Vu(),$t.lanes|=o,qi|=o,e.baseState=!0),t)}function Td(e,t){var o=mt;mt=o!==0&&4>o?o:4,e(!0);var a=Nc.transition;Nc.transition={};try{e(!1),t()}finally{mt=o,Nc.transition=a}}function Rc(){return ur().memoizedState}function hp(e,t,o){var a=Ki(e);if(o={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null},Ac(e))jn(t,o);else if(o=Fa(e,t,o,a),o!==null){var h=An();jr(o,e,a,h),Nr(o,t,a)}}function Pd(e,t,o){var a=Ki(e),h={lane:a,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ac(e))jn(t,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=t.lastRenderedReducer,m!==null))try{var C=t.lastRenderedState,V=m(C,o);if(h.hasEagerState=!0,h.eagerState=V,fe(V,C)){var Z=t.interleaved;Z===null?(h.next=h,xc(t)):(h.next=Z.next,Z.next=h),t.interleaved=h;return}}catch{}finally{}o=Fa(e,t,h,a),o!==null&&(h=An(),jr(o,e,a,h),Nr(o,t,a))}}function Ac(e){var t=e.alternate;return e===$t||t!==null&&t===$t}function jn(e,t){vl=xo=!0;var o=e.pending;o===null?t.next=t:(t.next=o.next,o.next=t),e.pending=t}function Nr(e,t,o){if((o&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,o|=a,t.lanes=o,Qo(e,o)}}var Ka={readContext:or,useCallback:vn,useContext:vn,useEffect:vn,useImperativeHandle:vn,useInsertionEffect:vn,useLayoutEffect:vn,useMemo:vn,useReducer:vn,useRef:vn,useState:vn,useDebugValue:vn,useDeferredValue:vn,useTransition:vn,useMutableSource:vn,useSyncExternalStore:vn,useId:vn,unstable_isNewReconciler:!1},pp={readContext:or,useCallback:function(e,t){return Gr().memoizedState=[e,t===void 0?null:t],e},useContext:or,useEffect:Xa,useImperativeHandle:function(e,t,o){return o=o!=null?o.concat([e]):null,_l(4194308,4,Tc.bind(null,t,e),o)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){return _l(4,2,e,t)},useMemo:function(e,t){var o=Gr();return t=t===void 0?null:t,e=e(),o.memoizedState=[e,t],e},useReducer:function(e,t,o){var a=Gr();return t=o!==void 0?o(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=hp.bind(null,$t,e),[a.memoizedState,e]},useRef:function(e){var t=Gr();return e={current:e},t.memoizedState=e},useState:wl,useDebugValue:Sl,useDeferredValue:function(e){return Gr().memoizedState=e},useTransition:function(){var e=wl(!1),t=e[0];return e=Td.bind(null,e[1]),Gr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,o){var a=$t,h=Gr();if(At){if(o===void 0)throw Error(s(407));o=o()}else{if(o=t(),nn===null)throw Error(s(349));(Wi&30)!==0||kc(a,t,o)}h.memoizedState=o;var m={value:o,getSnapshot:t};return h.queue=m,Xa(mi.bind(null,a,m,e),[e]),a.flags|=2048,wo(9,Ln.bind(null,a,m,o,t),void 0,null),o},useId:function(){var e=Gr(),t=nn.identifierPrefix;if(At){var o=Br,a=Ur;o=(a&~(1<<32-wr(a)-1)).toString(32)+o,t=":"+t+"R"+o,o=Cs++,0<o&&(t+="H"+o.toString(32)),t+=":"}else o=tt++,t=":"+t+"r"+o.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qa={readContext:or,useCallback:Cd,useContext:or,useEffect:Xr,useImperativeHandle:Pc,useInsertionEffect:Ed,useLayoutEffect:yi,useMemo:kd,useReducer:Ec,useRef:Ga,useState:function(){return Ec(wn)},useDebugValue:Sl,useDeferredValue:function(e){var t=ur();return jd(t,Ht.memoizedState,e)},useTransition:function(){var e=Ec(wn)[0],t=ur().memoizedState;return[e,t]},useMutableSource:Ya,useSyncExternalStore:Cc,useId:Rc,unstable_isNewReconciler:!1},So={readContext:or,useCallback:Cd,useContext:or,useEffect:Xr,useImperativeHandle:Pc,useInsertionEffect:Ed,useLayoutEffect:yi,useMemo:kd,useReducer:vo,useRef:Ga,useState:function(){return vo(wn)},useDebugValue:Sl,useDeferredValue:function(e){var t=ur();return Ht===null?t.memoizedState=e:jd(t,Ht.memoizedState,e)},useTransition:function(){var e=vo(wn)[0],t=ur().memoizedState;return[e,t]},useMutableSource:Ya,useSyncExternalStore:Cc,useId:Rc,unstable_isNewReconciler:!1};function cr(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var o in e)t[o]===void 0&&(t[o]=e[o]);return t}return t}function Za(e,t,o,a){t=e.memoizedState,o=o(a,t),o=o==null?t:W({},t,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Ja={isMounted:function(e){return(e=e._reactInternals)?si(e)===e:!1},enqueueSetState:function(e,t,o){e=e._reactInternals;var a=An(),h=Ki(e),m=pi(a,h);m.payload=t,o!=null&&(m.callback=o),t=ar(e,m,h),t!==null&&(jr(t,e,h,a),Ua(t,e,h))},enqueueReplaceState:function(e,t,o){e=e._reactInternals;var a=An(),h=Ki(e),m=pi(a,h);m.tag=1,m.payload=t,o!=null&&(m.callback=o),t=ar(e,m,h),t!==null&&(jr(t,e,h,a),Ua(t,e,h))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var o=An(),a=Ki(e),h=pi(o,a);h.tag=2,t!=null&&(h.callback=t),t=ar(e,h,a),t!==null&&(jr(t,e,a,o),Ua(t,e,a))}};function Dc(e,t,o,a,h,m,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,m,C):t.prototype&&t.prototype.isPureReactComponent?!Te(o,a)||!Te(h,m):!0}function js(e,t,o){var a=!1,h=Li,m=t.contextType;return typeof m=="object"&&m!==null?m=or(m):(h=In(t)?kn:mn.current,a=t.contextTypes,m=(a=a!=null)?ho(e,h):Li),t=new t(o,m),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ja,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),t}function No(e,t,o,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(o,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(o,a),t.state!==e&&Ja.enqueueReplaceState(t,t.state,null)}function Mc(e,t,o,a){var h=e.stateNode;h.props=o,h.state=e.memoizedState,h.refs={},Ha(e);var m=t.contextType;typeof m=="object"&&m!==null?h.context=or(m):(m=In(t)?kn:mn.current,h.context=ho(e,m)),h.state=e.memoizedState,m=t.getDerivedStateFromProps,typeof m=="function"&&(Za(e,t,m,o),h.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(t=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),t!==h.state&&Ja.enqueueReplaceState(h,h.state,null),mo(e,o,h,a),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var o="",a=t;do o+=ve(a),a=a.return;while(a);var h=o}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:t,stack:h,digest:null}}function eu(e,t,o){return{value:e,source:null,stack:o??null,digest:t??null}}function bo(e,t){try{console.error(t.value)}catch(o){setTimeout(function(){throw o})}}var Rd=typeof WeakMap=="function"?WeakMap:Map;function Nl(e,t,o){o=pi(-1,o),o.tag=3,o.payload={element:null};var a=t.value;return o.callback=function(){fu||(fu=!0,Kc=a),bo(e,t)},o}function tu(e,t,o){o=pi(-1,o),o.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var h=t.value;o.payload=function(){return a(h)},o.callback=function(){bo(e,t)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(o.callback=function(){bo(e,t),typeof a!="function"&&(Gi===null?Gi=new Set([this]):Gi.add(this));var C=t.stack;this.componentDidCatch(t.value,{componentStack:C!==null?C:""})}),o}function bl(e,t,o){var a=e.pingCache;if(a===null){a=e.pingCache=new Rd;var h=new Set;a.set(t,h)}else h=a.get(t),h===void 0&&(h=new Set,a.set(t,h));h.has(o)||(h.add(o),e=Sp.bind(null,e,t,o),t.then(e,e))}function Ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zc(e,t,o,a,h){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(t=pi(-1,1),t.tag=2,ar(o,t,1))),o.lanes|=1),e):(e.flags|=65536,e.lanes=h,e)}var nu=k.ReactCurrentOwner,Tn=!1;function ln(e,t,o,a){t.child=e===null?$a(t,null,o,a):Ft(t,e.child,o,a)}function Dd(e,t,o,a,h){o=o.render;var m=t.ref;return Ui(t,h),a=ks(e,t,o,a,m,h),o=Va(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,br(e,t,h)):(At&&o&&dl(t),t.flags|=1,ln(e,t,a,h),t.child)}function Oc(e,t,o,a,h){if(e===null){var m=o.type;return typeof m=="function"&&!yu(m)&&m.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(t.tag=15,t.type=m,Kr(e,t,m,a,h)):(e=xu(o.type,null,a,t,t.mode,h),e.ref=t.ref,e.return=t,t.child=e)}if(m=e.child,(e.lanes&h)===0){var C=m.memoizedProps;if(o=o.compare,o=o!==null?o:Te,o(C,a)&&e.ref===t.ref)return br(e,t,h)}return t.flags|=1,e=Tr(m,a),e.ref=t.ref,e.return=t,t.child=e}function Kr(e,t,o,a,h){if(e!==null){var m=e.memoizedProps;if(Te(m,a)&&e.ref===t.ref)if(Tn=!1,t.pendingProps=a=m,(e.lanes&h)!==0)(e.flags&131072)!==0&&(Tn=!0);else return t.lanes=e.lanes,br(e,t,h)}return Lc(e,t,o,a,h)}function Ic(e,t,o){var a=t.pendingProps,h=a.children,m=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},jt(jo,Xn),Xn|=o;else{if((o&1073741824)===0)return e=m!==null?m.baseLanes|o:o,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,jt(jo,Xn),Xn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=m!==null?m.baseLanes:o,jt(jo,Xn),Xn|=a}else m!==null?(a=m.baseLanes|o,t.memoizedState=null):a=o,jt(jo,Xn),Xn|=a;return ln(e,t,h,o),t.child}function $c(e,t){var o=t.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(t.flags|=512,t.flags|=2097152)}function Lc(e,t,o,a,h){var m=In(o)?kn:mn.current;return m=ho(t,m),Ui(t,h),o=ks(e,t,o,a,m,h),a=Va(),e!==null&&!Tn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~h,br(e,t,h)):(At&&a&&dl(t),t.flags|=1,ln(e,t,o,h),t.child)}function Fc(e,t,o,a,h){if(In(o)){var m=!0;rr(t)}else m=!1;if(Ui(t,h),t.stateNode===null)iu(e,t),js(t,o,a),Mc(t,o,a,h),a=!0;else if(e===null){var C=t.stateNode,V=t.memoizedProps;C.props=V;var Z=C.context,de=o.contextType;typeof de=="object"&&de!==null?de=or(de):(de=In(o)?kn:mn.current,de=ho(t,de));var Se=o.getDerivedStateFromProps,be=typeof Se=="function"||typeof C.getSnapshotBeforeUpdate=="function";be||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==a||Z!==de)&&No(t,C,a,de),lr=!1;var we=t.memoizedState;C.state=we,mo(t,a,C,h),Z=t.memoizedState,V!==a||we!==Z||On.current||lr?(typeof Se=="function"&&(Za(t,o,Se,a),Z=t.memoizedState),(V=lr||Dc(t,o,V,a,we,Z,de))?(be||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(t.flags|=4194308)):(typeof C.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=Z),C.props=a,C.state=Z,C.context=de,a=V):(typeof C.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{C=t.stateNode,Nd(e,t),V=t.memoizedProps,de=t.type===t.elementType?V:cr(t.type,V),C.props=de,be=t.pendingProps,we=C.context,Z=o.contextType,typeof Z=="object"&&Z!==null?Z=or(Z):(Z=In(o)?kn:mn.current,Z=ho(t,Z));var Pe=o.getDerivedStateFromProps;(Se=typeof Pe=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(V!==be||we!==Z)&&No(t,C,a,Z),lr=!1,we=t.memoizedState,C.state=we,mo(t,a,C,h);var ze=t.memoizedState;V!==be||we!==ze||On.current||lr?(typeof Pe=="function"&&(Za(t,o,Pe,a),ze=t.memoizedState),(de=lr||Dc(t,o,de,a,we,ze,Z)||!1)?(Se||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(a,ze,Z),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(a,ze,Z)),typeof C.componentDidUpdate=="function"&&(t.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof C.componentDidUpdate!="function"||V===e.memoizedProps&&we===e.memoizedState||(t.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===e.memoizedProps&&we===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=ze),C.props=a,C.state=ze,C.context=Z,a=de):(typeof C.componentDidUpdate!="function"||V===e.memoizedProps&&we===e.memoizedState||(t.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||V===e.memoizedProps&&we===e.memoizedState||(t.flags|=1024),a=!1)}return Hc(e,t,o,a,m,h)}function Hc(e,t,o,a,h,m){$c(e,t);var C=(t.flags&128)!==0;if(!a&&!C)return h&&yd(t,o,!1),br(e,t,m);a=t.stateNode,nu.current=t;var V=C&&typeof o.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&C?(t.child=Ft(t,e.child,null,m),t.child=Ft(t,null,V,m)):ln(e,t,V,m),t.memoizedState=a.state,h&&yd(t,o,!0),t.child}function Md(e){var t=e.stateNode;t.pendingContext?gd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&gd(e,t.context,!1),wc(e,t.containerInfo)}function Qr(e,t,o,a,h){return Vr(),Yr(h),t.flags|=256,ln(e,t,o,a),t.child}var El={dehydrated:null,treeContext:null,retryLane:0};function Cl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ru(e,t,o){var a=t.pendingProps,h=zt.current,m=!1,C=(t.flags&128)!==0,V;if((V=C)||(V=e!==null&&e.memoizedState===null?!1:(h&2)!==0),V?(m=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),jt(zt,h&1),e===null)return $n(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(C=a.children,e=a.fallback,m?(a=t.mode,m=t.child,C={mode:"hidden",children:C},(a&1)===0&&m!==null?(m.childLanes=0,m.pendingProps=C):m=vu(C,a,0,null),e=Ms(e,a,o,null),m.return=t,e.return=t,m.sibling=e,t.child=m,t.child.memoizedState=Cl(o),t.memoizedState=El,e):Eo(t,C));if(h=e.memoizedState,h!==null&&(V=h.dehydrated,V!==null))return Ye(e,t,C,a,V,h,o);if(m){m=a.fallback,C=t.mode,h=e.child,V=h.sibling;var Z={mode:"hidden",children:a.children};return(C&1)===0&&t.child!==h?(a=t.child,a.childLanes=0,a.pendingProps=Z,t.deletions=null):(a=Tr(h,Z),a.subtreeFlags=h.subtreeFlags&14680064),V!==null?m=Tr(V,m):(m=Ms(m,C,o,null),m.flags|=2),m.return=t,a.return=t,a.sibling=m,t.child=a,a=m,m=t.child,C=e.child.memoizedState,C=C===null?Cl(o):{baseLanes:C.baseLanes|o,cachePool:null,transitions:C.transitions},m.memoizedState=C,m.childLanes=e.childLanes&~o,t.memoizedState=El,a}return m=e.child,e=m.sibling,a=Tr(m,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=o),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a}function Eo(e,t){return t=vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xi(e,t,o,a){return a!==null&&Yr(a),Ft(t,e.child,null,o),e=Eo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ye(e,t,o,a,h,m,C){if(o)return t.flags&256?(t.flags&=-257,a=eu(Error(s(422))),xi(e,t,C,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(m=a.fallback,h=t.mode,a=vu({mode:"visible",children:a.children},h,0,null),m=Ms(m,h,C,null),m.flags|=2,a.return=t,m.return=t,a.sibling=m,t.child=a,(t.mode&1)!==0&&Ft(t,e.child,null,C),t.child.memoizedState=Cl(C),t.memoizedState=El,m);if((t.mode&1)===0)return xi(e,t,C,null);if(h.data==="$!"){if(a=h.nextSibling&&h.nextSibling.dataset,a)var V=a.dgst;return a=V,m=Error(s(419)),a=eu(m,a,void 0),xi(e,t,C,a)}if(V=(C&e.childLanes)!==0,Tn||V){if(a=nn,a!==null){switch(C&-C){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(a.suspendedLanes|C))!==0?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,hi(e,h),jr(a,e,h,-1))}return nf(),a=eu(Error(s(421))),xi(e,t,C,a)}return h.data==="$?"?(t.flags|=128,t.child=e.child,t=Np.bind(null,e),h._reactRetry=t,null):(e=m.treeContext,Yn=Ii(h.nextSibling),xn=t,At=!0,Sr=null,e!==null&&(ir[sr++]=Ur,ir[sr++]=Br,ir[sr++]=ws,Ur=e.id,Br=e.overflow,ws=t),t=Eo(t,a.children),t.flags|=4096,t)}function kl(e,t,o){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),on(e.return,t,o)}function jl(e,t,o,a,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:h}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=a,m.tail=o,m.tailMode=h)}function Vi(e,t,o){var a=t.pendingProps,h=a.revealOrder,m=a.tail;if(ln(e,t,a.children,o),a=zt.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&kl(e,o,t);else if(e.tag===19)kl(e,o,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(jt(zt,a),(t.mode&1)===0)t.memoizedState=null;else switch(h){case"forwards":for(o=t.child,h=null;o!==null;)e=o.alternate,e!==null&&Es(e)===null&&(h=o),o=o.sibling;o=h,o===null?(h=t.child,t.child=null):(h=o.sibling,o.sibling=null),jl(t,!1,h,o,m);break;case"backwards":for(o=null,h=t.child,t.child=null;h!==null;){if(e=h.alternate,e!==null&&Es(e)===null){t.child=h;break}e=h.sibling,h.sibling=o,o=h,h=e}jl(t,!0,o,null,m);break;case"together":jl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function iu(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function br(e,t,o){if(e!==null&&(t.dependencies=e.dependencies),qi|=t.lanes,(o&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,o=Tr(e,e.pendingProps),t.child=o,o.return=t;e.sibling!==null;)e=e.sibling,o=o.sibling=Tr(e,e.pendingProps),o.return=t;o.sibling=null}return t.child}function zd(e,t,o){switch(t.tag){case 3:Md(t),Vr();break;case 5:_c(t);break;case 1:In(t.type)&&rr(t);break;case 4:wc(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,h=t.memoizedProps.value;jt(gl,a._currentValue),a._currentValue=h;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(jt(zt,zt.current&1),t.flags|=128,null):(o&t.child.childLanes)!==0?ru(e,t,o):(jt(zt,zt.current&1),e=br(e,t,o),e!==null?e.sibling:null);jt(zt,zt.current&1);break;case 19:if(a=(o&t.childLanes)!==0,(e.flags&128)!==0){if(a)return Vi(e,t,o);t.flags|=128}if(h=t.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),jt(zt,zt.current),a)break;return null;case 22:case 23:return t.lanes=0,Ic(e,t,o)}return br(e,t,o)}var an,Uc,Od,Bc;an=function(e,t){for(var o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break;for(;o.sibling===null;){if(o.return===null||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Uc=function(){},Od=function(e,t,o,a){var h=e.memoizedProps;if(h!==a){e=t.stateNode,gi(qr.current);var m=null;switch(o){case"input":h=it(e,h),a=it(e,a),m=[];break;case"select":h=W({},h,{value:void 0}),a=W({},a,{value:void 0}),m=[];break;case"textarea":h=Ce(e,h),a=Ce(e,a),m=[];break;default:typeof h.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Ta)}bn(o,a);var C;o=null;for(de in h)if(!a.hasOwnProperty(de)&&h.hasOwnProperty(de)&&h[de]!=null)if(de==="style"){var V=h[de];for(C in V)V.hasOwnProperty(C)&&(o||(o={}),o[C]="")}else de!=="dangerouslySetInnerHTML"&&de!=="children"&&de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&de!=="autoFocus"&&(d.hasOwnProperty(de)?m||(m=[]):(m=m||[]).push(de,null));for(de in a){var Z=a[de];if(V=h!=null?h[de]:void 0,a.hasOwnProperty(de)&&Z!==V&&(Z!=null||V!=null))if(de==="style")if(V){for(C in V)!V.hasOwnProperty(C)||Z&&Z.hasOwnProperty(C)||(o||(o={}),o[C]="");for(C in Z)Z.hasOwnProperty(C)&&V[C]!==Z[C]&&(o||(o={}),o[C]=Z[C])}else o||(m||(m=[]),m.push(de,o)),o=Z;else de==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,V=V?V.__html:void 0,Z!=null&&V!==Z&&(m=m||[]).push(de,Z)):de==="children"?typeof Z!="string"&&typeof Z!="number"||(m=m||[]).push(de,""+Z):de!=="suppressContentEditableWarning"&&de!=="suppressHydrationWarning"&&(d.hasOwnProperty(de)?(Z!=null&&de==="onScroll"&&Pt("scroll",e),m||V===Z||(m=[])):(m=m||[]).push(de,Z))}o&&(m=m||[]).push("style",o);var de=m;(t.updateQueue=de)&&(t.flags|=4)}},Bc=function(e,t,o,a){o!==a&&(t.flags|=4)};function Tl(e,t){if(!At)switch(e.tailMode){case"hidden":t=e.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function un(e){var t=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(t)for(var h=e.child;h!==null;)o|=h.lanes|h.childLanes,a|=h.subtreeFlags&14680064,a|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)o|=h.lanes|h.childLanes,a|=h.subtreeFlags,a|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=a,e.childLanes=o,t}function gp(e,t,o){var a=t.pendingProps;switch(Ss(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(t),null;case 1:return In(t.type)&&Da(),un(t),null;case 3:return a=t.stateNode,Bi(),Rt(On),Rt(mn),Wa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Sr!==null&&(Jc(Sr),Sr=null))),Uc(e,t),un(t),null;case 5:Ba(t);var h=gi(yo.current);if(o=t.type,e!==null&&t.stateNode!=null)Od(e,t,o,a,h),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return un(t),null}if(e=gi(qr.current),hl(t)){a=t.stateNode,o=t.type;var m=t.memoizedProps;switch(a[Fr]=t,a[$i]=m,e=(t.mode&1)!==0,o){case"dialog":Pt("cancel",a),Pt("close",a);break;case"iframe":case"object":case"embed":Pt("load",a);break;case"video":case"audio":for(h=0;h<ui.length;h++)Pt(ui[h],a);break;case"source":Pt("error",a);break;case"img":case"image":case"link":Pt("error",a),Pt("load",a);break;case"details":Pt("toggle",a);break;case"input":at(a,m),Pt("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!m.multiple},Pt("invalid",a);break;case"textarea":qe(a,m),Pt("invalid",a)}bn(o,m),h=null;for(var C in m)if(m.hasOwnProperty(C)){var V=m[C];C==="children"?typeof V=="string"?a.textContent!==V&&(m.suppressHydrationWarning!==!0&&al(a.textContent,V,e),h=["children",V]):typeof V=="number"&&a.textContent!==""+V&&(m.suppressHydrationWarning!==!0&&al(a.textContent,V,e),h=["children",""+V]):d.hasOwnProperty(C)&&V!=null&&C==="onScroll"&&Pt("scroll",a)}switch(o){case"input":xt(a),Oe(a,m,!0);break;case"textarea":xt(a),_e(a);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(a.onclick=Ta)}a=h,t.updateQueue=a,a!==null&&(t.flags|=4)}else{C=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=He(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=C.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=C.createElement(o,{is:a.is}):(e=C.createElement(o),o==="select"&&(C=e,a.multiple?C.multiple=!0:a.size&&(C.size=a.size))):e=C.createElementNS(e,o),e[Fr]=t,e[$i]=a,an(e,t,!1,!1),t.stateNode=e;e:{switch(C=dn(o,a),o){case"dialog":Pt("cancel",e),Pt("close",e),h=a;break;case"iframe":case"object":case"embed":Pt("load",e),h=a;break;case"video":case"audio":for(h=0;h<ui.length;h++)Pt(ui[h],e);h=a;break;case"source":Pt("error",e),h=a;break;case"img":case"image":case"link":Pt("error",e),Pt("load",e),h=a;break;case"details":Pt("toggle",e),h=a;break;case"input":at(e,a),h=it(e,a),Pt("invalid",e);break;case"option":h=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},h=W({},a,{value:void 0}),Pt("invalid",e);break;case"textarea":qe(e,a),h=Ce(e,a),Pt("invalid",e);break;default:h=a}bn(o,h),V=h;for(m in V)if(V.hasOwnProperty(m)){var Z=V[m];m==="style"?Jn(e,Z):m==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&sn(e,Z)):m==="children"?typeof Z=="string"?(o!=="textarea"||Z!=="")&&Un(e,Z):typeof Z=="number"&&Un(e,""+Z):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(d.hasOwnProperty(m)?Z!=null&&m==="onScroll"&&Pt("scroll",e):Z!=null&&P(e,m,Z,C))}switch(o){case"input":xt(e),Oe(e,a,!1);break;case"textarea":xt(e),_e(e);break;case"option":a.value!=null&&e.setAttribute("value",""+De(a.value));break;case"select":e.multiple=!!a.multiple,m=a.value,m!=null?_t(e,!!a.multiple,m,!1):a.defaultValue!=null&&_t(e,!!a.multiple,a.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Ta)}switch(o){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return un(t),null;case 6:if(e&&t.stateNode!=null)Bc(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(o=gi(yo.current),gi(qr.current),hl(t)){if(a=t.stateNode,o=t.memoizedProps,a[Fr]=t,(m=a.nodeValue!==o)&&(e=xn,e!==null))switch(e.tag){case 3:al(a.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&al(a.nodeValue,o,(e.mode&1)!==0)}m&&(t.flags|=4)}else a=(o.nodeType===9?o:o.ownerDocument).createTextNode(a),a[Fr]=t,t.stateNode=a}return un(t),null;case 13:if(Rt(zt),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(At&&Yn!==null&&(t.mode&1)!==0&&(t.flags&128)===0)mc(),Vr(),t.flags|=98560,m=!1;else if(m=hl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!m)throw Error(s(318));if(m=t.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[Fr]=t}else Vr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;un(t),m=!1}else Sr!==null&&(Jc(Sr),Sr=null),m=!0;if(!m)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=o,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(zt.current&1)!==0?Qt===0&&(Qt=3):nf())),t.updateQueue!==null&&(t.flags|=4),un(t),null);case 4:return Bi(),Uc(e,t),e===null&&zi(t.stateNode.containerInfo),un(t),null;case 10:return La(t.type._context),un(t),null;case 17:return In(t.type)&&Da(),un(t),null;case 19:if(Rt(zt),m=t.memoizedState,m===null)return un(t),null;if(a=(t.flags&128)!==0,C=m.rendering,C===null)if(a)Tl(m,!1);else{if(Qt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(C=Es(e),C!==null){for(t.flags|=128,Tl(m,!1),a=C.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=o,o=t.child;o!==null;)m=o,e=a,m.flags&=14680066,C=m.alternate,C===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=C.childLanes,m.lanes=C.lanes,m.child=C.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=C.memoizedProps,m.memoizedState=C.memoizedState,m.updateQueue=C.updateQueue,m.type=C.type,e=C.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return jt(zt,zt.current&1|2),t.child}e=e.sibling}m.tail!==null&&Ct()>Ps&&(t.flags|=128,a=!0,Tl(m,!1),t.lanes=4194304)}else{if(!a)if(e=Es(C),e!==null){if(t.flags|=128,a=!0,o=e.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),Tl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!C.alternate&&!At)return un(t),null}else 2*Ct()-m.renderingStartTime>Ps&&o!==1073741824&&(t.flags|=128,a=!0,Tl(m,!1),t.lanes=4194304);m.isBackwards?(C.sibling=t.child,t.child=C):(o=m.last,o!==null?o.sibling=C:t.child=C,m.last=C)}return m.tail!==null?(t=m.tail,m.rendering=t,m.tail=t.sibling,m.renderingStartTime=Ct(),t.sibling=null,o=zt.current,jt(zt,a?o&1|2:o&1),t):(un(t),null);case 22:case 23:return tf(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(Xn&1073741824)!==0&&(un(t),t.subtreeFlags&6&&(t.flags|=8192)):un(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function mp(e,t){switch(Ss(t),t.tag){case 1:return In(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(),Rt(On),Rt(mn),Wa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Ba(t),null;case 13:if(Rt(zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Rt(zt),null;case 4:return Bi(),null;case 10:return La(t.type._context),null;case 22:case 23:return tf(),null;case 24:return null;default:return null}}var su=!1,Ot=!1,Pn=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function Co(e,t){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(a){Lt(e,t,a)}else o.current=null}function Pl(e,t,o){try{o()}catch(a){Lt(e,t,a)}}var Id=!1;function yp(e,t){if(ul=fa,e=St(),nl(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var h=a.anchorOffset,m=a.focusNode;a=a.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var C=0,V=-1,Z=-1,de=0,Se=0,be=e,we=null;t:for(;;){for(var Pe;be!==o||h!==0&&be.nodeType!==3||(V=C+h),be!==m||a!==0&&be.nodeType!==3||(Z=C+a),be.nodeType===3&&(C+=be.nodeValue.length),(Pe=be.firstChild)!==null;)we=be,be=Pe;for(;;){if(be===e)break t;if(we===o&&++de===h&&(V=C),we===m&&++Se===a&&(Z=C),(Pe=be.nextSibling)!==null)break;be=we,we=be.parentNode}be=Pe}o=V===-1||Z===-1?null:{start:V,end:Z}}else o=null}o=o||{start:0,end:0}}else o=null;for(xs={focusedElem:e,selectionRange:o},fa=!1,Ae=t;Ae!==null;)if(t=Ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ae=e;else for(;Ae!==null;){t=Ae;try{var ze=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(ze!==null){var Ie=ze.memoizedProps,Ut=ze.memoizedState,le=t.stateNode,te=le.getSnapshotBeforeUpdate(t.elementType===t.type?Ie:cr(t.type,Ie),Ut);le.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var ue=t.stateNode.containerInfo;ue.nodeType===1?ue.textContent="":ue.nodeType===9&&ue.documentElement&&ue.removeChild(ue.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Ee){Lt(t,t.return,Ee)}if(e=t.sibling,e!==null){e.return=t.return,Ae=e;break}Ae=t.return}return ze=Id,Id=!1,ze}function vi(e,t,o){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var h=a=a.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&Pl(t,o,m)}h=h.next}while(h!==a)}}function Rl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var o=t=t.next;do{if((o.tag&e)===e){var a=o.create;o.destroy=a()}o=o.next}while(o!==t)}}function ou(e){var t=e.ref;if(t!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof t=="function"?t(e):t.current=e}}function $d(e){var t=e.alternate;t!==null&&(e.alternate=null,$d(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fr],delete t[$i],delete t[Ra],delete t[R],delete t[co])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ld(e){return e.tag===5||e.tag===3||e.tag===4}function Fd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.nodeType===8?o.parentNode.insertBefore(e,t):o.insertBefore(e,t):(o.nodeType===8?(t=o.parentNode,t.insertBefore(e,o)):(t=o,t.appendChild(e)),o=o._reactRootContainer,o!=null||t.onclick!==null||(t.onclick=Ta));else if(a!==4&&(e=e.child,e!==null))for(Wc(e,t,o),e=e.sibling;e!==null;)Wc(e,t,o),e=e.sibling}function lu(e,t,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?o.insertBefore(e,t):o.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(lu(e,t,o),e=e.sibling;e!==null;)lu(e,t,o),e=e.sibling}var tn=null,Er=!1;function Zr(e,t,o){for(o=o.child;o!==null;)Vc(e,t,o),o=o.sibling}function Vc(e,t,o){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Ys,o)}catch{}switch(o.tag){case 5:Ot||Co(o,t);case 6:var a=tn,h=Er;tn=null,Zr(e,t,o),tn=a,Er=h,tn!==null&&(Er?(e=tn,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):tn.removeChild(o.stateNode));break;case 18:tn!==null&&(Er?(e=tn,o=o.stateNode,e.nodeType===8?hc(e.parentNode,o):e.nodeType===1&&hc(e,o),yt(e)):hc(tn,o.stateNode));break;case 4:a=tn,h=Er,tn=o.stateNode.containerInfo,Er=!0,Zr(e,t,o),tn=a,Er=h;break;case 0:case 11:case 14:case 15:if(!Ot&&(a=o.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){h=a=a.next;do{var m=h,C=m.destroy;m=m.tag,C!==void 0&&((m&2)!==0||(m&4)!==0)&&Pl(o,t,C),h=h.next}while(h!==a)}Zr(e,t,o);break;case 1:if(!Ot&&(Co(o,t),a=o.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=o.memoizedProps,a.state=o.memoizedState,a.componentWillUnmount()}catch(V){Lt(o,t,V)}Zr(e,t,o);break;case 21:Zr(e,t,o);break;case 22:o.mode&1?(Ot=(a=Ot)||o.memoizedState!==null,Zr(e,t,o),Ot=a):Zr(e,t,o);break;default:Zr(e,t,o)}}function ko(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Pn),t.forEach(function(a){var h=bp.bind(null,e,a);o.has(a)||(o.add(a),a.then(h,h))})}}function Gn(e,t){var o=t.deletions;if(o!==null)for(var a=0;a<o.length;a++){var h=o[a];try{var m=e,C=t,V=C;e:for(;V!==null;){switch(V.tag){case 5:tn=V.stateNode,Er=!1;break e;case 3:tn=V.stateNode.containerInfo,Er=!0;break e;case 4:tn=V.stateNode.containerInfo,Er=!0;break e}V=V.return}if(tn===null)throw Error(s(160));Vc(m,C,h),tn=null,Er=!1;var Z=h.alternate;Z!==null&&(Z.return=null),h.return=null}catch(de){Lt(h,t,de)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Yc(t,e),t=t.sibling}function Yc(e,t){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gn(t,e),Cr(e),a&4){try{vi(3,e,e.return),Rl(3,e)}catch(Ie){Lt(e,e.return,Ie)}try{vi(5,e,e.return)}catch(Ie){Lt(e,e.return,Ie)}}break;case 1:Gn(t,e),Cr(e),a&512&&o!==null&&Co(o,o.return);break;case 5:if(Gn(t,e),Cr(e),a&512&&o!==null&&Co(o,o.return),e.flags&32){var h=e.stateNode;try{Un(h,"")}catch(Ie){Lt(e,e.return,Ie)}}if(a&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,C=o!==null?o.memoizedProps:m,V=e.type,Z=e.updateQueue;if(e.updateQueue=null,Z!==null)try{V==="input"&&m.type==="radio"&&m.name!=null&&Wt(h,m),dn(V,C);var de=dn(V,m);for(C=0;C<Z.length;C+=2){var Se=Z[C],be=Z[C+1];Se==="style"?Jn(h,be):Se==="dangerouslySetInnerHTML"?sn(h,be):Se==="children"?Un(h,be):P(h,Se,be,de)}switch(V){case"input":Ze(h,m);break;case"textarea":ce(h,m);break;case"select":var we=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var Pe=m.value;Pe!=null?_t(h,!!m.multiple,Pe,!1):we!==!!m.multiple&&(m.defaultValue!=null?_t(h,!!m.multiple,m.defaultValue,!0):_t(h,!!m.multiple,m.multiple?[]:"",!1))}h[$i]=m}catch(Ie){Lt(e,e.return,Ie)}}break;case 6:if(Gn(t,e),Cr(e),a&4){if(e.stateNode===null)throw Error(s(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(Ie){Lt(e,e.return,Ie)}}break;case 3:if(Gn(t,e),Cr(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{yt(t.containerInfo)}catch(Ie){Lt(e,e.return,Ie)}break;case 4:Gn(t,e),Cr(e);break;case 13:Gn(t,e),Cr(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(Xc=Ct())),a&4&&ko(e);break;case 22:if(Se=o!==null&&o.memoizedState!==null,e.mode&1?(Ot=(de=Ot)||Se,Gn(t,e),Ot=de):Gn(t,e),Cr(e),a&8192){if(de=e.memoizedState!==null,(e.stateNode.isHidden=de)&&!Se&&(e.mode&1)!==0)for(Ae=e,Se=e.child;Se!==null;){for(be=Ae=Se;Ae!==null;){switch(we=Ae,Pe=we.child,we.tag){case 0:case 11:case 14:case 15:vi(4,we,we.return);break;case 1:Co(we,we.return);var ze=we.stateNode;if(typeof ze.componentWillUnmount=="function"){a=we,o=we.return;try{t=a,ze.props=t.memoizedProps,ze.state=t.memoizedState,ze.componentWillUnmount()}catch(Ie){Lt(a,o,Ie)}}break;case 5:Co(we,we.return);break;case 22:if(we.memoizedState!==null){Yi(be);continue}}Pe!==null?(Pe.return=we,Ae=Pe):Yi(be)}Se=Se.sibling}e:for(Se=null,be=e;;){if(be.tag===5){if(Se===null){Se=be;try{h=be.stateNode,de?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(V=be.stateNode,Z=be.memoizedProps.style,C=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,V.style.display=Zn("display",C))}catch(Ie){Lt(e,e.return,Ie)}}}else if(be.tag===6){if(Se===null)try{be.stateNode.nodeValue=de?"":be.memoizedProps}catch(Ie){Lt(e,e.return,Ie)}}else if((be.tag!==22&&be.tag!==23||be.memoizedState===null||be===e)&&be.child!==null){be.child.return=be,be=be.child;continue}if(be===e)break e;for(;be.sibling===null;){if(be.return===null||be.return===e)break e;Se===be&&(Se=null),be=be.return}Se===be&&(Se=null),be.sibling.return=be.return,be=be.sibling}}break;case 19:Gn(t,e),Cr(e),a&4&&ko(e);break;case 21:break;default:Gn(t,e),Cr(e)}}function Cr(e){var t=e.flags;if(t&2){try{e:{for(var o=e.return;o!==null;){if(Ld(o)){var a=o;break e}o=o.return}throw Error(s(160))}switch(a.tag){case 5:var h=a.stateNode;a.flags&32&&(Un(h,""),a.flags&=-33);var m=Fd(e);lu(e,m,h);break;case 3:case 4:var C=a.stateNode.containerInfo,V=Fd(e);Wc(e,V,C);break;default:throw Error(s(161))}}catch(Z){Lt(e,e.return,Z)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function au(e,t,o){Ae=e,qc(e)}function qc(e,t,o){for(var a=(e.mode&1)!==0;Ae!==null;){var h=Ae,m=h.child;if(h.tag===22&&a){var C=h.memoizedState!==null||su;if(!C){var V=h.alternate,Z=V!==null&&V.memoizedState!==null||Ot;V=su;var de=Ot;if(su=C,(Ot=Z)&&!de)for(Ae=h;Ae!==null;)C=Ae,Z=C.child,C.tag===22&&C.memoizedState!==null?Hd(h):Z!==null?(Z.return=C,Ae=Z):Hd(h);for(;m!==null;)Ae=m,qc(m),m=m.sibling;Ae=h,su=V,Ot=de}kr(e)}else(h.subtreeFlags&8772)!==0&&m!==null?(m.return=h,Ae=m):kr(e)}}function kr(e){for(;Ae!==null;){var t=Ae;if((t.flags&8772)!==0){var o=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Ot||Rl(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Ot)if(o===null)a.componentDidMount();else{var h=t.elementType===t.type?o.memoizedProps:cr(t.type,o.memoizedProps);a.componentDidUpdate(h,o.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var m=t.updateQueue;m!==null&&vc(t,m,a);break;case 3:var C=t.updateQueue;if(C!==null){if(o=null,t.child!==null)switch(t.child.tag){case 5:o=t.child.stateNode;break;case 1:o=t.child.stateNode}vc(t,C,o)}break;case 5:var V=t.stateNode;if(o===null&&t.flags&4){o=V;var Z=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&o.focus();break;case"img":Z.src&&(o.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var de=t.alternate;if(de!==null){var Se=de.memoizedState;if(Se!==null){var be=Se.dehydrated;be!==null&&yt(be)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Ot||t.flags&512&&ou(t)}catch(we){Lt(t,t.return,we)}}if(t===e){Ae=null;break}if(o=t.sibling,o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}function Yi(e){for(;Ae!==null;){var t=Ae;if(t===e){Ae=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Ae=o;break}Ae=t.return}}function Hd(e){for(;Ae!==null;){var t=Ae;try{switch(t.tag){case 0:case 11:case 15:var o=t.return;try{Rl(4,t)}catch(Z){Lt(t,o,Z)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var h=t.return;try{a.componentDidMount()}catch(Z){Lt(t,h,Z)}}var m=t.return;try{ou(t)}catch(Z){Lt(t,m,Z)}break;case 5:var C=t.return;try{ou(t)}catch(Z){Lt(t,C,Z)}}}catch(Z){Lt(t,t.return,Z)}if(t===e){Ae=null;break}var V=t.sibling;if(V!==null){V.return=t.return,Ae=V;break}Ae=t.return}}var Ud=Math.ceil,uu=k.ReactCurrentDispatcher,Gc=k.ReactCurrentOwner,fr=k.ReactCurrentBatchConfig,ft=0,nn=null,qt=null,cn=0,Xn=0,jo=zn(0),Qt=0,Al=null,qi=0,Dl=0,cu=0,Ml=null,Fn=null,Xc=0,Ps=1/0,wi=null,fu=!1,Kc=null,Gi=null,du=!1,Xi=null,Rn=0,zl=0,Qc=null,hu=-1,Ol=0;function An(){return(ft&6)!==0?Ct():hu!==-1?hu:hu=Ct()}function Ki(e){return(e.mode&1)===0?1:(ft&2)!==0&&cn!==0?cn&-cn:_d.transition!==null?(Ol===0&&(Ol=Vu()),Ol):(e=mt,e!==0||(e=window.event,e=e===void 0?16:qf(e.type)),e)}function jr(e,t,o,a){if(50<zl)throw zl=0,Qc=null,Error(s(185));Ko(e,o,a),((ft&2)===0||e!==nn)&&(e===nn&&((ft&2)===0&&(Dl|=o),Qt===4&&Qi(e,cn)),Hn(e,a),o===1&&ft===0&&(t.mode&1)===0&&(Ps=Ct()+500,Ma&&Fi()))}function Hn(e,t){var o=e.callbackNode;Gh(e,t);var a=fs(e,e===nn?cn:0);if(a===0)o!==null&&ia(o),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(o!=null&&ia(o),t===1)e.tag===0?vs(Bd.bind(null,e)):xd(Bd.bind(null,e)),Pa(function(){(ft&6)===0&&Fi()}),o=null;else{switch(ds(a)){case 1:o=Vo;break;case 4:o=sa;break;case 16:o=cs;break;case 536870912:o=qo;break;default:o=cs}o=Kd(o,pu.bind(null,e))}e.callbackPriority=t,e.callbackNode=o}}function pu(e,t){if(hu=-1,Ol=0,(ft&6)!==0)throw Error(s(327));var o=e.callbackNode;if(To()&&e.callbackNode!==o)return null;var a=fs(e,e===nn?cn:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=gu(e,a);else{t=a;var h=ft;ft|=2;var m=Vd();(nn!==e||cn!==t)&&(wi=null,Ps=Ct()+500,As(e,t));do try{wp();break}catch(V){Wd(e,V)}while(!0);di(),uu.current=m,ft=h,qt!==null?t=0:(nn=null,cn=0,t=Qt)}if(t!==0){if(t===2&&(h=la(e),h!==0&&(a=h,t=Zc(e,h))),t===1)throw o=Al,As(e,0),Qi(e,a),Hn(e,Ct()),o;if(t===6)Qi(e,a);else{if(h=e.current.alternate,(a&30)===0&&!xp(h)&&(t=gu(e,a),t===2&&(m=la(e),m!==0&&(a=m,t=Zc(e,m))),t===1))throw o=Al,As(e,0),Qi(e,a),Hn(e,Ct()),o;switch(e.finishedWork=h,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:Ds(e,Fn,wi);break;case 3:if(Qi(e,a),(a&130023424)===a&&(t=Xc+500-Ct(),10<t)){if(fs(e,0)!==0)break;if(h=e.suspendedLanes,(h&a)!==a){An(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Oi(Ds.bind(null,e,Fn,wi),t);break}Ds(e,Fn,wi);break;case 4:if(Qi(e,a),(a&4194240)===a)break;for(t=e.eventTimes,h=-1;0<a;){var C=31-wr(a);m=1<<C,C=t[C],C>h&&(h=C),a&=~m}if(a=h,a=Ct()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ud(a/1960))-a,10<a){e.timeoutHandle=Oi(Ds.bind(null,e,Fn,wi),a);break}Ds(e,Fn,wi);break;case 5:Ds(e,Fn,wi);break;default:throw Error(s(329))}}}return Hn(e,Ct()),e.callbackNode===o?pu.bind(null,e):null}function Zc(e,t){var o=Ml;return e.current.memoizedState.isDehydrated&&(As(e,t).flags|=256),e=gu(e,t),e!==2&&(t=Fn,Fn=o,t!==null&&Jc(t)),e}function Jc(e){Fn===null?Fn=e:Fn.push.apply(Fn,e)}function xp(e){for(var t=e;;){if(t.flags&16384){var o=t.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var a=0;a<o.length;a++){var h=o[a],m=h.getSnapshot;h=h.value;try{if(!fe(m(),h))return!1}catch{return!1}}}if(o=t.child,t.subtreeFlags&16384&&o!==null)o.return=t,t=o;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qi(e,t){for(t&=~cu,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var o=31-wr(t),a=1<<o;e[o]=-1,t&=~a}}function Bd(e){if((ft&6)!==0)throw Error(s(327));To();var t=fs(e,0);if((t&1)===0)return Hn(e,Ct()),null;var o=gu(e,t);if(e.tag!==0&&o===2){var a=la(e);a!==0&&(t=a,o=Zc(e,a))}if(o===1)throw o=Al,As(e,0),Qi(e,t),Hn(e,Ct()),o;if(o===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ds(e,Fn,wi),Hn(e,Ct()),null}function ef(e,t){var o=ft;ft|=1;try{return e(t)}finally{ft=o,ft===0&&(Ps=Ct()+500,Ma&&Fi())}}function Rs(e){Xi!==null&&Xi.tag===0&&(ft&6)===0&&To();var t=ft;ft|=1;var o=fr.transition,a=mt;try{if(fr.transition=null,mt=1,e)return e()}finally{mt=a,fr.transition=o,ft=t,(ft&6)===0&&Fi()}}function tf(){Xn=jo.current,Rt(jo)}function As(e,t){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,fl(o)),qt!==null)for(o=qt.return;o!==null;){var a=o;switch(Ss(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Da();break;case 3:Bi(),Rt(On),Rt(mn),Wa();break;case 5:Ba(a);break;case 4:Bi();break;case 13:Rt(zt);break;case 19:Rt(zt);break;case 10:La(a.type._context);break;case 22:case 23:tf()}o=o.return}if(nn=e,qt=e=Tr(e.current,null),cn=Xn=t,Qt=0,Al=null,cu=Dl=qi=0,Fn=Ml=null,bs!==null){for(t=0;t<bs.length;t++)if(o=bs[t],a=o.interleaved,a!==null){o.interleaved=null;var h=a.next,m=o.pending;if(m!==null){var C=m.next;m.next=h,a.next=C}o.pending=a}bs=null}return e}function Wd(e,t){do{var o=qt;try{if(di(),xl.current=Ka,xo){for(var a=$t.memoizedState;a!==null;){var h=a.queue;h!==null&&(h.pending=null),a=a.next}xo=!1}if(Wi=0,Kt=Ht=$t=null,vl=!1,Cs=0,Gc.current=null,o===null||o.return===null){Qt=1,Al=t,qt=null;break}e:{var m=e,C=o.return,V=o,Z=t;if(t=cn,V.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var de=Z,Se=V,be=Se.tag;if((Se.mode&1)===0&&(be===0||be===11||be===15)){var we=Se.alternate;we?(Se.updateQueue=we.updateQueue,Se.memoizedState=we.memoizedState,Se.lanes=we.lanes):(Se.updateQueue=null,Se.memoizedState=null)}var Pe=Ad(C);if(Pe!==null){Pe.flags&=-257,zc(Pe,C,V,m,t),Pe.mode&1&&bl(m,de,t),t=Pe,Z=de;var ze=t.updateQueue;if(ze===null){var Ie=new Set;Ie.add(Z),t.updateQueue=Ie}else ze.add(Z);break e}else{if((t&1)===0){bl(m,de,t),nf();break e}Z=Error(s(426))}}else if(At&&V.mode&1){var Ut=Ad(C);if(Ut!==null){(Ut.flags&65536)===0&&(Ut.flags|=256),zc(Ut,C,V,m,t),Yr(Ts(Z,V));break e}}m=Z=Ts(Z,V),Qt!==4&&(Qt=2),Ml===null?Ml=[m]:Ml.push(m),m=C;do{switch(m.tag){case 3:m.flags|=65536,t&=-t,m.lanes|=t;var le=Nl(m,Z,t);bd(m,le);break e;case 1:V=Z;var te=m.type,ue=m.stateNode;if((m.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||ue!==null&&typeof ue.componentDidCatch=="function"&&(Gi===null||!Gi.has(ue)))){m.flags|=65536,t&=-t,m.lanes|=t;var Ee=tu(m,V,t);bd(m,Ee);break e}}m=m.return}while(m!==null)}qd(o)}catch($e){t=$e,qt===o&&o!==null&&(qt=o=o.return);continue}break}while(!0)}function Vd(){var e=uu.current;return uu.current=Ka,e===null?Ka:e}function nf(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),nn===null||(qi&268435455)===0&&(Dl&268435455)===0||Qi(nn,cn)}function gu(e,t){var o=ft;ft|=2;var a=Vd();(nn!==e||cn!==t)&&(wi=null,As(e,t));do try{vp();break}catch(h){Wd(e,h)}while(!0);if(di(),ft=o,uu.current=a,qt!==null)throw Error(s(261));return nn=null,cn=0,Qt}function vp(){for(;qt!==null;)Yd(qt)}function wp(){for(;qt!==null&&!us();)Yd(qt)}function Yd(e){var t=Xd(e.alternate,e,Xn);e.memoizedProps=e.pendingProps,t===null?qd(e):qt=t,Gc.current=null}function qd(e){var t=e;do{var o=t.alternate;if(e=t.return,(t.flags&32768)===0){if(o=gp(o,t,Xn),o!==null){qt=o;return}}else{if(o=mp(o,t),o!==null){o.flags&=32767,qt=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qt=6,qt=null;return}}if(t=t.sibling,t!==null){qt=t;return}qt=t=e}while(t!==null);Qt===0&&(Qt=5)}function Ds(e,t,o){var a=mt,h=fr.transition;try{fr.transition=null,mt=1,_p(e,t,o,a)}finally{fr.transition=h,mt=a}return null}function _p(e,t,o,a){do To();while(Xi!==null);if((ft&6)!==0)throw Error(s(327));o=e.finishedWork;var h=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var m=o.lanes|o.childLanes;if(Uf(e,m),e===nn&&(qt=nn=null,cn=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||du||(du=!0,Kd(cs,function(){return To(),null})),m=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||m){m=fr.transition,fr.transition=null;var C=mt;mt=1;var V=ft;ft|=4,Gc.current=null,yp(e,o),Yc(o,e),fp(xs),fa=!!ul,xs=ul=null,e.current=o,au(o),Bu(),ft=V,mt=C,fr.transition=m}else e.current=o;if(du&&(du=!1,Xi=e,Rn=h),m=e.pendingLanes,m===0&&(Gi=null),Go(o.stateNode),Hn(e,Ct()),t!==null)for(a=e.onRecoverableError,o=0;o<t.length;o++)h=t[o],a(h.value,{componentStack:h.stack,digest:h.digest});if(fu)throw fu=!1,e=Kc,Kc=null,e;return(Rn&1)!==0&&e.tag!==0&&To(),m=e.pendingLanes,(m&1)!==0?e===Qc?zl++:(zl=0,Qc=e):zl=0,Fi(),null}function To(){if(Xi!==null){var e=ds(Rn),t=fr.transition,o=mt;try{if(fr.transition=null,mt=16>e?16:e,Xi===null)var a=!1;else{if(e=Xi,Xi=null,Rn=0,(ft&6)!==0)throw Error(s(331));var h=ft;for(ft|=4,Ae=e.current;Ae!==null;){var m=Ae,C=m.child;if((Ae.flags&16)!==0){var V=m.deletions;if(V!==null){for(var Z=0;Z<V.length;Z++){var de=V[Z];for(Ae=de;Ae!==null;){var Se=Ae;switch(Se.tag){case 0:case 11:case 15:vi(8,Se,m)}var be=Se.child;if(be!==null)be.return=Se,Ae=be;else for(;Ae!==null;){Se=Ae;var we=Se.sibling,Pe=Se.return;if($d(Se),Se===de){Ae=null;break}if(we!==null){we.return=Pe,Ae=we;break}Ae=Pe}}}var ze=m.alternate;if(ze!==null){var Ie=ze.child;if(Ie!==null){ze.child=null;do{var Ut=Ie.sibling;Ie.sibling=null,Ie=Ut}while(Ie!==null)}}Ae=m}}if((m.subtreeFlags&2064)!==0&&C!==null)C.return=m,Ae=C;else e:for(;Ae!==null;){if(m=Ae,(m.flags&2048)!==0)switch(m.tag){case 0:case 11:case 15:vi(9,m,m.return)}var le=m.sibling;if(le!==null){le.return=m.return,Ae=le;break e}Ae=m.return}}var te=e.current;for(Ae=te;Ae!==null;){C=Ae;var ue=C.child;if((C.subtreeFlags&2064)!==0&&ue!==null)ue.return=C,Ae=ue;else e:for(C=te;Ae!==null;){if(V=Ae,(V.flags&2048)!==0)try{switch(V.tag){case 0:case 11:case 15:Rl(9,V)}}catch($e){Lt(V,V.return,$e)}if(V===C){Ae=null;break e}var Ee=V.sibling;if(Ee!==null){Ee.return=V.return,Ae=Ee;break e}Ae=V.return}}if(ft=h,Fi(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Ys,e)}catch{}a=!0}return a}finally{mt=o,fr.transition=t}}return!1}function mu(e,t,o){t=Ts(o,t),t=Nl(e,t,1),e=ar(e,t,1),t=An(),e!==null&&(Ko(e,1,t),Hn(e,t))}function Lt(e,t,o){if(e.tag===3)mu(e,e,o);else for(;t!==null;){if(t.tag===3){mu(t,e,o);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Gi===null||!Gi.has(a))){e=Ts(o,e),e=tu(t,e,1),t=ar(t,e,1),e=An(),t!==null&&(Ko(t,1,e),Hn(t,e));break}}t=t.return}}function Sp(e,t,o){var a=e.pingCache;a!==null&&a.delete(t),t=An(),e.pingedLanes|=e.suspendedLanes&o,nn===e&&(cn&o)===o&&(Qt===4||Qt===3&&(cn&130023424)===cn&&500>Ct()-Xc?As(e,0):cu|=o),Hn(e,t)}function Gd(e,t){t===0&&((e.mode&1)===0?t=1:(t=oa,oa<<=1,(oa&130023424)===0&&(oa=4194304)));var o=An();e=hi(e,t),e!==null&&(Ko(e,t,o),Hn(e,o))}function Np(e){var t=e.memoizedState,o=0;t!==null&&(o=t.retryLane),Gd(e,o)}function bp(e,t){var o=0;switch(e.tag){case 13:var a=e.stateNode,h=e.memoizedState;h!==null&&(o=h.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Gd(e,o)}var Xd;Xd=function(e,t,o){if(e!==null)if(e.memoizedProps!==t.pendingProps||On.current)Tn=!0;else{if((e.lanes&o)===0&&(t.flags&128)===0)return Tn=!1,zd(e,t,o);Tn=(e.flags&131072)!==0}else Tn=!1,At&&(t.flags&1048576)!==0&&vd(t,Oa,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;iu(e,t),e=t.pendingProps;var h=ho(t,mn.current);Ui(t,o),h=ks(null,t,a,e,h,o);var m=Va();return t.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,In(a)?(m=!0,rr(t)):m=!1,t.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Ha(t),h.updater=Ja,t.stateNode=h,h._reactInternals=t,Mc(t,a,e,o),t=Hc(null,t,a,!0,m,o)):(t.tag=0,At&&m&&dl(t),ln(null,t,h,o),t=t.child),t;case 16:a=t.elementType;e:{switch(iu(e,t),e=t.pendingProps,h=a._init,a=h(a._payload),t.type=a,h=t.tag=Cp(a),e=cr(a,e),h){case 0:t=Lc(null,t,a,e,o);break e;case 1:t=Fc(null,t,a,e,o);break e;case 11:t=Dd(null,t,a,e,o);break e;case 14:t=Oc(null,t,a,cr(a.type,e),o);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:cr(a,h),Lc(e,t,a,h,o);case 1:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:cr(a,h),Fc(e,t,a,h,o);case 3:e:{if(Md(t),e===null)throw Error(s(387));a=t.pendingProps,m=t.memoizedState,h=m.element,Nd(e,t),mo(t,a,null,o);var C=t.memoizedState;if(a=C.element,m.isDehydrated)if(m={element:a,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},t.updateQueue.baseState=m,t.memoizedState=m,t.flags&256){h=Ts(Error(s(423)),t),t=Qr(e,t,a,o,h);break e}else if(a!==h){h=Ts(Error(s(424)),t),t=Qr(e,t,a,o,h);break e}else for(Yn=Ii(t.stateNode.containerInfo.firstChild),xn=t,At=!0,Sr=null,o=$a(t,null,a,o),t.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Vr(),a===h){t=br(e,t,o);break e}ln(e,t,a,o)}t=t.child}return t;case 5:return _c(t),e===null&&$n(t),a=t.type,h=t.pendingProps,m=e!==null?e.memoizedProps:null,C=h.children,cl(a,h)?C=null:m!==null&&cl(a,m)&&(t.flags|=32),$c(e,t),ln(e,t,C,o),t.child;case 6:return e===null&&$n(t),null;case 13:return ru(e,t,o);case 4:return wc(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ft(t,null,a,o):ln(e,t,a,o),t.child;case 11:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:cr(a,h),Dd(e,t,a,h,o);case 7:return ln(e,t,t.pendingProps,o),t.child;case 8:return ln(e,t,t.pendingProps.children,o),t.child;case 12:return ln(e,t,t.pendingProps.children,o),t.child;case 10:e:{if(a=t.type._context,h=t.pendingProps,m=t.memoizedProps,C=h.value,jt(gl,a._currentValue),a._currentValue=C,m!==null)if(fe(m.value,C)){if(m.children===h.children&&!On.current){t=br(e,t,o);break e}}else for(m=t.child,m!==null&&(m.return=t);m!==null;){var V=m.dependencies;if(V!==null){C=m.child;for(var Z=V.firstContext;Z!==null;){if(Z.context===a){if(m.tag===1){Z=pi(-1,o&-o),Z.tag=2;var de=m.updateQueue;if(de!==null){de=de.shared;var Se=de.pending;Se===null?Z.next=Z:(Z.next=Se.next,Se.next=Z),de.pending=Z}}m.lanes|=o,Z=m.alternate,Z!==null&&(Z.lanes|=o),on(m.return,o,t),V.lanes|=o;break}Z=Z.next}}else if(m.tag===10)C=m.type===t.type?null:m.child;else if(m.tag===18){if(C=m.return,C===null)throw Error(s(341));C.lanes|=o,V=C.alternate,V!==null&&(V.lanes|=o),on(C,o,t),C=m.sibling}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===t){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}ln(e,t,h.children,o),t=t.child}return t;case 9:return h=t.type,a=t.pendingProps.children,Ui(t,o),h=or(h),a=a(h),t.flags|=1,ln(e,t,a,o),t.child;case 14:return a=t.type,h=cr(a,t.pendingProps),h=cr(a.type,h),Oc(e,t,a,h,o);case 15:return Kr(e,t,t.type,t.pendingProps,o);case 17:return a=t.type,h=t.pendingProps,h=t.elementType===a?h:cr(a,h),iu(e,t),t.tag=1,In(a)?(e=!0,rr(t)):e=!1,Ui(t,o),js(t,a,h),Mc(t,a,h,o),Hc(null,t,a,!0,e,o);case 19:return Vi(e,t,o);case 22:return Ic(e,t,o)}throw Error(s(156,t.tag))};function Kd(e,t){return ra(e,t)}function Ep(e,t,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(e,t,o,a){return new Ep(e,t,o,a)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Cp(e){if(typeof e=="function")return yu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ne)return 11;if(e===oe)return 14}return 2}function Tr(e,t){var o=e.alternate;return o===null?(o=dr(e.tag,t,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=t,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,t=e.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function xu(e,t,o,a,h,m){var C=2;if(a=e,typeof e=="function")yu(e)&&(C=1);else if(typeof e=="string")C=5;else e:switch(e){case b:return Ms(o.children,h,m,t);case H:C=8,h|=8;break;case q:return e=dr(12,o,t,h|2),e.elementType=q,e.lanes=m,e;case ae:return e=dr(13,o,t,h),e.elementType=ae,e.lanes=m,e;case I:return e=dr(19,o,t,h),e.elementType=I,e.lanes=m,e;case ee:return vu(o,h,m,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:C=10;break e;case Y:C=9;break e;case ne:C=11;break e;case oe:C=14;break e;case B:C=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=dr(C,o,t,h),t.elementType=e,t.type=a,t.lanes=m,t}function Ms(e,t,o,a){return e=dr(7,e,a,t),e.lanes=o,e}function vu(e,t,o,a){return e=dr(22,e,a,t),e.elementType=ee,e.lanes=o,e.stateNode={isHidden:!1},e}function rf(e,t,o){return e=dr(6,e,null,t),e.lanes=o,e}function sf(e,t,o){return t=dr(4,e.children!==null?e.children:[],e.key,t),t.lanes=o,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kp(e,t,o,a,h){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xo(0),this.expirationTimes=Xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xo(0),this.identifierPrefix=a,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function of(e,t,o,a,h,m,C,V,Z){return e=new kp(e,t,o,V,Z),t===1?(t=1,m===!0&&(t|=8)):t=0,m=dr(3,null,null,t),e.current=m,m.stateNode=e,m.memoizedState={element:a,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(m),e}function jp(e,t,o){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:a==null?null:""+a,children:e,containerInfo:t,implementation:o}}function Qd(e){if(!e)return Li;e=e._reactInternals;e:{if(si(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(In(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var o=e.type;if(In(o))return md(e,o,t)}return t}function Zd(e,t,o,a,h,m,C,V,Z){return e=of(o,a,!0,e,h,m,C,V,Z),e.context=Qd(null),o=e.current,a=An(),h=Ki(o),m=pi(a,h),m.callback=t??null,ar(o,m,h),e.current.lanes=h,Ko(e,h,a),Hn(e,a),e}function wu(e,t,o,a){var h=t.current,m=An(),C=Ki(h);return o=Qd(o),t.context===null?t.context=o:t.pendingContext=o,t=pi(m,C),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=ar(h,t,C),e!==null&&(jr(e,h,C,m),Ua(e,h,C)),C}function _u(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<t?o:t}}function lf(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function Tp(){return null}var eh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Su(e){this._internalRoot=e}Il.prototype.render=Su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));wu(e,t,null,null)},Il.prototype.unmount=Su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rs(function(){wu(null,e,null,null)}),t[Vn]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var t=qu();e={blockedOn:null,target:e,priority:t};for(var o=0;o<Ri.length&&t!==0&&t<Ri[o].priority;o++);Ri.splice(o,0,e),o===0&&Vf(e)}};function af(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Nu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function th(){}function Pp(e,t,o,a,h){if(h){if(typeof a=="function"){var m=a;a=function(){var de=_u(C);m.call(de)}}var C=Zd(t,a,e,0,null,!1,!1,"",th);return e._reactRootContainer=C,e[Vn]=C.current,zi(e.nodeType===8?e.parentNode:e),Rs(),C}for(;h=e.lastChild;)e.removeChild(h);if(typeof a=="function"){var V=a;a=function(){var de=_u(Z);V.call(de)}}var Z=of(e,0,!1,null,null,!1,!1,"",th);return e._reactRootContainer=Z,e[Vn]=Z.current,zi(e.nodeType===8?e.parentNode:e),Rs(function(){wu(t,Z,o,a)}),Z}function zs(e,t,o,a,h){var m=o._reactRootContainer;if(m){var C=m;if(typeof h=="function"){var V=h;h=function(){var Z=_u(C);V.call(Z)}}wu(t,C,e,h)}else C=Pp(o,t,e,h,a);return _u(C)}Yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var o=Gs(t.pendingLanes);o!==0&&(Qo(t,o|1),Hn(t,Ct()),(ft&6)===0&&(Ps=Ct()+500,Fi()))}break;case 13:Rs(function(){var a=hi(e,1);if(a!==null){var h=An();jr(a,e,1,h)}}),lf(e,1)}},aa=function(e){if(e.tag===13){var t=hi(e,134217728);if(t!==null){var o=An();jr(t,e,134217728,o)}lf(e,134217728)}},Bf=function(e){if(e.tag===13){var t=Ki(e),o=hi(e,t);if(o!==null){var a=An();jr(o,e,t,a)}lf(e,t)}},qu=function(){return mt},Gu=function(e,t){var o=mt;try{return mt=e,t()}finally{mt=o}},ii=function(e,t,o){switch(t){case"input":if(Ze(e,o),t=o.name,o.type==="radio"&&t!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<o.length;t++){var a=o[t];if(a!==e&&a.form===e.form){var h=Aa(a);if(!h)throw Error(s(90));vt(a),Ze(a,h)}}}break;case"textarea":ce(e,o);break;case"select":t=o.value,t!=null&&_t(e,!!o.multiple,t,!1)}},Ql=ef,Fo=Rs;var Rp={usingClientEntryPoint:!1,Events:[gn,Je,Aa,Xl,Kl,ef]},$l={findFiberByHostInstance:Hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ap={bundleType:$l.bundleType,version:$l.version,rendererPackageName:$l.rendererPackageName,rendererConfig:$l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ta(e),e===null?null:e.stateNode},findFiberByHostInstance:$l.findFiberByHostInstance||Tp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Ys=bu.inject(Ap),er=bu}catch{}}return mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rp,mr.createPortal=function(e,t){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!af(t))throw Error(s(200));return jp(e,t,null,o)},mr.createRoot=function(e,t){if(!af(e))throw Error(s(299));var o=!1,a="",h=eh;return t!=null&&(t.unstable_strictMode===!0&&(o=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=of(e,1,!1,null,null,o,!1,a,h),e[Vn]=t.current,zi(e.nodeType===8?e.parentNode:e),new Su(t)},mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=ta(t),e=e===null?null:e.stateNode,e},mr.flushSync=function(e){return Rs(e)},mr.hydrate=function(e,t,o){if(!Nu(t))throw Error(s(200));return zs(null,e,t,!0,o)},mr.hydrateRoot=function(e,t,o){if(!af(e))throw Error(s(405));var a=o!=null&&o.hydratedSources||null,h=!1,m="",C=eh;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onRecoverableError!==void 0&&(C=o.onRecoverableError)),t=Zd(t,null,e,1,o??null,h,!1,m,C),e[Vn]=t.current,zi(e),a)for(e=0;e<a.length;e++)o=a[e],h=o._getVersion,h=h(o._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[o,h]:t.mutableSourceEagerHydrationData.push(o,h);return new Il(t)},mr.render=function(e,t,o){if(!Nu(t))throw Error(s(200));return zs(null,e,t,!1,o)},mr.unmountComponentAtNode=function(e){if(!Nu(e))throw Error(s(40));return e._reactRootContainer?(Rs(function(){zs(null,null,e,!1,function(){e._reactRootContainer=null,e[Vn]=null})}),!0):!1},mr.unstable_batchedUpdates=ef,mr.unstable_renderSubtreeIntoContainer=function(e,t,o,a){if(!Nu(o))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return zs(e,t,o,!1,a)},mr.version="18.3.1-next-f1338f8080-20240426",mr}var E0;function $h(){if(E0)return qp.exports;E0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),qp.exports=Jw(),qp.exports}var C0;function e1(){if(C0)return oh;C0=1;var n=$h();return oh.createRoot=n.createRoot,oh.hydrateRoot=n.hydrateRoot,oh}var t1=e1();/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var n1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ct=(n,l)=>{const s=G.forwardRef(({color:c="currentColor",size:d=24,strokeWidth:g=2,absoluteStrokeWidth:p,className:x="",children:w,...v},_)=>G.createElement("svg",{ref:_,...n1,width:d,height:d,stroke:c,strokeWidth:p?Number(g)*24/Number(d):g,className:["lucide",`lucide-${r1(n)}`,x].join(" "),...v},[...l.map(([S,T])=>G.createElement(S,T)),...Array.isArray(w)?w:[w]]));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=ct("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=ct("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=ct("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=ct("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=ct("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=ct("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ct("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kp=ct("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=ct("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ct("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=ct("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=ct("FileX",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m14.5 12.5-5 5",key:"b62r18"}],["path",{d:"m9.5 12.5 5 5",key:"1rk7el"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=ct("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=ct("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ct("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ct("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ct("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=ct("PenTool",[["path",{d:"m12 19 7-7 3 3-7 7-3-3z",key:"rklqx2"}],["path",{d:"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z",key:"1et58u"}],["path",{d:"m2 2 7.586 7.586",key:"etlp93"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=ct("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=ct("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=ct("ScrollText",[["path",{d:"M8 21h12a2 2 0 0 0 2-2v-2H10v2a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v3h4",key:"13a6an"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M15 12h-5",key:"r7krc0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ct("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ct("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=ct("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=ct("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=ct("Tags",[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ct("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=ct("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kh=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ei="http://127.0.0.1:8000";function m1({novelId:n,onBack:l}){const[s,c]=G.useState([]),[d,g]=G.useState([]),[p,x]=G.useState(!1),[w,v]=G.useState(null),[_,S]=G.useState({name:"",appearance:"",personality:"",groups:[]}),[T,A]=G.useState(!1),[U,F]=G.useState(null),[L,j]=G.useState({name:"",description:"",color:"#6366F1"}),[E,P]=G.useState(!1),[k,M]=G.useState(""),[$,b]=G.useState(!1),[H,q]=G.useState("characters");G.useEffect(()=>{fetch(`${ei}/characters/${n}`).then(O=>O.json()).then(c).catch(O=>console.error("Error fetching characters:",O)),fetch(`${ei}/characters/${n}/groups`).then(O=>O.json()).then(g).catch(O=>console.error("Error fetching groups:",O))},[n]);const ie=he.useMemo(()=>s.filter(O=>{var W,D;return O.name.toLowerCase().includes(k.toLowerCase())||((W=O.appearance)==null?void 0:W.toLowerCase().includes(k.toLowerCase()))||((D=O.personality)==null?void 0:D.toLowerCase().includes(k.toLowerCase()))}).sort((O,W)=>O.name.localeCompare(W.name)),[s,k]),Y=E?ie:ie.slice(0,6),ne=async()=>{if(!_.name.trim())return;const O={id:w?w.id:crypto.randomUUID(),novelId:n,name:_.name.trim(),appearance:_.appearance.trim()||void 0,personality:_.personality.trim()||void 0,groups:_.groups};let W=`${ei}/characters/${n}`,D="POST";w&&(W=`${ei}/characters/${n}/${w.id}`,D="PUT");try{if(!(await fetch(W,{method:D,headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).ok)throw new Error("Failed to save character");const ge=await fetch(`${ei}/characters/${n}`).then(me=>me.json());c(ge),x(!1),v(null),S({name:"",appearance:"",personality:"",groups:[]})}catch(Q){console.error("Error saving character:",Q)}},ae=async()=>{if(!L.name.trim())return;const O={id:U?U.id:crypto.randomUUID(),novelId:n,name:L.name.trim(),description:L.description.trim()||void 0,color:L.color};let W=`${ei}/characters/${n}/groups`,D="POST";U&&(W=`${ei}/characters/${n}/groups/${U.id}`,D="PUT");try{if(!(await fetch(W,{method:D,headers:{"Content-Type":"application/json"},body:JSON.stringify(O)})).ok)throw new Error("Failed to save group");const ge=await fetch(`${ei}/characters/${n}/groups`).then(me=>me.json());g(ge),A(!1),F(null),j({name:"",description:"",color:"#6366F1"})}catch(Q){console.error("Error saving group:",Q)}},I=O=>{v(O),S({name:O.name,appearance:O.appearance||"",personality:O.personality||"",groups:O.groups}),x(!0)},oe=O=>{F(O),j({name:O.name,description:O.description||"",color:O.color}),A(!0)},B=async O=>{if(confirm("Are you sure you want to delete this character?"))try{await fetch(`${ei}/characters/${n}/${O}`,{method:"DELETE"});const W=await fetch(`${ei}/characters/${n}`).then(D=>D.json());c(W)}catch(W){console.error("Error deleting character:",W)}},ee=async O=>{if(confirm("Are you sure you want to delete this group?"))try{await fetch(`${ei}/characters/${n}/groups/${O}`,{method:"DELETE"});const W=await fetch(`${ei}/characters/${n}/groups`).then(D=>D.json());g(W)}catch(W){console.error("Error deleting group:",W)}},K=O=>s.filter(W=>W.groups.includes(O));return f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800 transition-colors",children:f.jsx(Gl,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""})]}),f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:f.jsx(kh,{className:"w-6 h-6 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Characters & Groups"}),f.jsxs("p",{className:"text-sm text-gray-500",children:[s.length," characters, ",d.length," groups"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>q("characters"),className:`px-4 py-2 rounded-lg transition-colors ${H==="characters"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Characters"}),f.jsx("button",{onClick:()=>q("groups"),className:`px-4 py-2 rounded-lg transition-colors ${H==="groups"?"bg-white text-purple-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:"Groups"})]}),H==="characters"?f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>b(!$),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[f.jsx(Ch,{size:20}),f.jsx("span",{children:"Quick Edit"}),f.jsx(Qn,{size:16,className:`transform transition-transform ${$?"rotate-180":""}`})]}),$&&f.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-10",children:[f.jsx("input",{type:"text",placeholder:"Search characters...",value:k,onChange:O=>M(O.target.value),className:"mx-2 mb-2 w-[calc(100%-16px)] px-3 py-2 border border-gray-200 rounded-lg text-sm"}),f.jsx("div",{className:"max-h-64 overflow-y-auto",children:ie.map(O=>f.jsx("button",{onClick:()=>{I(O),b(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",children:O.name},O.id))})]})]}),f.jsxs("button",{onClick:()=>{x(!0),v(null),S({name:"",appearance:"",personality:"",groups:[]})},className:"flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-full hover:bg-purple-700 transition-colors duration-200 shadow-lg hover:shadow-purple-200",children:[f.jsx(Lo,{size:20}),"Add Character"]})]}):f.jsxs("button",{onClick:()=>{A(!0),F(null),j({name:"",description:"",color:"#6366F1"})},className:"flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-full hover:bg-purple-700 transition-colors duration-200 shadow-lg hover:shadow-purple-200",children:[f.jsx(Lo,{size:20}),"Add Group"]})]})]}),H==="characters"?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(O=>f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-200 p-6 group",onClick:()=>I(O),children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:f.jsx(Cf,{className:"w-6 h-6 text-purple-600"})}),f.jsx("div",{children:f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.name})})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:W=>{W.stopPropagation(),I(O)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-full transition-colors",title:"Edit character",children:f.jsx(es,{size:18})}),f.jsx("button",{onClick:W=>{W.stopPropagation(),B(O.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete character",children:f.jsx(Vl,{size:18})})]})]}),O.groups.length>0&&f.jsx("div",{children:f.jsx("div",{className:"flex flex-wrap gap-2",children:O.groups.map(W=>{const D=d.find(Q=>Q.id===W);return D?f.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-lg text-sm",style:{backgroundColor:`${D.color}15`,color:D.color},children:[f.jsx(P0,{size:14}),D.name]},D.id):null})})})]},O.id))}),ie.length>6&&f.jsx("div",{className:"mt-8 text-center",children:f.jsx("button",{onClick:()=>P(!E),className:"inline-flex items-center gap-2 px-4 py-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:E?f.jsxs(f.Fragment,{children:[f.jsx(Mg,{size:20}),"Show Less"]}):f.jsxs(f.Fragment,{children:[f.jsx(Qn,{size:20}),"Show ",ie.length-6," More Characters"]})})}),s.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Cf,{size:64,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No Characters Yet"}),f.jsx("p",{className:"text-gray-500",children:'Click the "Add Character" button to create your first character'})]})]}):f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[d.map(O=>{const W=K(O.id);return f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-200 p-6 group",onClick:()=>oe(O),children:[f.jsxs("div",{className:"flex items-start justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 rounded-xl",style:{backgroundColor:`${O.color}15`},children:f.jsx(R0,{className:"w-6 h-6",style:{color:O.color}})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.name}),f.jsxs("p",{className:"text-sm text-gray-500",children:[W.length," characters"]})]})]}),f.jsxs("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:D=>{D.stopPropagation(),oe(O)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-full transition-colors",title:"Edit group",children:f.jsx(es,{size:18})}),f.jsx("button",{onClick:D=>{D.stopPropagation(),ee(O.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete group",children:f.jsx(Vl,{size:18})})]})]}),O.description&&f.jsx("p",{className:"text-gray-600 text-sm mb-4",children:O.description}),W.length>0&&f.jsxs("div",{children:[f.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Characters"}),f.jsxs("div",{className:"space-y-2",children:[W.slice(0,3).map(D=>f.jsx("div",{className:"text-sm px-3 py-1 bg-gray-50 rounded-lg text-gray-600",children:D.name},D.id)),W.length>3&&f.jsxs("div",{className:"text-sm text-gray-500",children:["+",W.length-3," more characters"]})]})]})]},O.id)}),d.length===0&&f.jsxs("div",{className:"text-center py-12 col-span-full",children:[f.jsx(R0,{size:64,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No Groups Yet"}),f.jsx("p",{className:"text-gray-500",children:'Click the "Add Group" button to create your first character group'})]})]}),(p||w)&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:()=>{x(!1),v(null),S({name:"",appearance:"",personality:"",groups:[]})},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:w?"Edit Character":"Add New Character"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),f.jsx("input",{type:"text",value:_.name,onChange:O=>S(W=>({...W,name:O.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter character name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Groups"}),f.jsx("div",{className:"relative",children:f.jsxs("select",{onChange:O=>{const W=O.target.value;W&&!_.groups.includes(W)&&S(D=>({...D,groups:[...D.groups,W]}))},className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[f.jsx("option",{value:"",children:"Select a group"}),d.map(O=>f.jsx("option",{value:O.id,children:O.name},O.id))]})}),f.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:_.groups.map(O=>{const W=d.find(D=>D.id===O);return W?f.jsxs("span",{className:"flex items-center gap-1 px-2 py-1 rounded-lg text-sm",style:{backgroundColor:`${W.color}15`,color:W.color},children:[f.jsx(P0,{size:14}),W.name,f.jsx("button",{onClick:()=>{S(D=>({...D,groups:D.groups.filter(Q=>Q!==O)}))},className:"ml-2 text-gray-500 hover:text-red-500",children:f.jsx(Mr,{size:14})})]},W.id):null})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Appearance"}),f.jsx("textarea",{value:_.appearance,onChange:O=>S(W=>({...W,appearance:O.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200 min-h-[100px]",placeholder:"Describe the character's appearance"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Personality"}),f.jsx("textarea",{value:_.personality,onChange:O=>S(W=>({...W,personality:O.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200 min-h-[100px]",placeholder:"Describe the character's personality"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:ne,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-colors duration-200 shadow-lg hover:shadow-purple-200",children:w?"Save Changes":"Add Character"}),f.jsx("button",{onClick:()=>{x(!1),v(null),S({name:"",appearance:"",personality:"",groups:[]})},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})}),(T||U)&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:()=>{A(!1),F(null),j({name:"",description:"",color:"#6366F1"})},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:U?"Edit Group":"Add New Group"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),f.jsx("input",{type:"text",value:L.name,onChange:O=>j(W=>({...W,name:O.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter group name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),f.jsx("textarea",{value:L.description,onChange:O=>j(W=>({...W,description:O.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200 min-h-[100px]",placeholder:"Describe the group"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color"}),f.jsx("input",{type:"color",value:L.color,onChange:O=>j(W=>({...W,color:O.target.value})),className:"w-full h-12 px-2 py-1 border border-gray-200 rounded-xl cursor-pointer"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:ae,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-colors duration-200 shadow-lg hover:shadow-purple-200",children:U?"Save Changes":"Add Group"}),f.jsx("button",{onClick:()=>{A(!1),F(null),j({name:"",description:"",color:"#6366F1"})},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})})]})}const ku="http://127.0.0.1:8000";function y1({scenario:n,onTimelineUpdate:l}){var ie;const[s,c]=G.useState(!1),[d,g]=G.useState(null),[p,x]=G.useState(!1),[w,v]=G.useState(null),[_,S]=G.useState({when:"",where:"",what:"",chapterId:"",episodeId:""}),[T,A]=G.useState([]);G.useEffect(()=>{fetch(`${ku}/scenarios/${n.id}/timeline`).then(Y=>Y.json()).then(Y=>A(Y)).catch(Y=>console.error("Error fetching timeline:",Y))},[n.id]);const U=he.useMemo(()=>[...n.timeline||[]].sort((Y,ne)=>{const ae=new Date(Y.when),I=new Date(ne.when);return!isNaN(ae.getTime())&&!isNaN(I.getTime())?ae.getTime()-I.getTime():Y.when.localeCompare(ne.when)}),[n.timeline]),[F,L]=G.useState(""),[j,E]=G.useState(!1),P=he.useMemo(()=>U.filter(Y=>Y.when.toLowerCase().includes(F.toLowerCase())||Y.where.toLowerCase().includes(F.toLowerCase())||Y.what.toLowerCase().includes(F.toLowerCase())),[U,F]),k=p?U:U.slice(0,5),M=async()=>{if(!_.when.trim()||!_.what.trim())return;const Y={id:d?d.id:crypto.randomUUID(),when:_.when.trim(),where:_.where.trim(),what:_.what.trim(),chapterId:_.chapterId,episodeId:_.episodeId};let ne=`${ku}/scenarios/${n.id}/timeline`,ae="POST";d&&(ne=`${ku}/scenarios/${n.id}/timeline/${d.id}`,ae="PUT");try{if(!(await fetch(ne,{method:ae,headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)})).ok)throw new Error("Failed to save event");const B=await(await fetch(`${ku}/scenarios/${n.id}`)).json();A(B.timeline),c(!1),g(null),S({when:"",where:"",what:"",chapterId:"",episodeId:""}),l(B)}catch(I){console.error("Error saving event:",I)}},$=Y=>{g(Y),S({when:Y.when,where:Y.where,what:Y.what,chapterId:Y.chapterId||"",episodeId:Y.episodeId||""}),c(!0)},b=async Y=>{if(confirm("Are you sure you want to delete this event?"))try{await fetch(`${ku}/scenarios/${n.id}/timeline/${Y}`,{method:"DELETE"});const ne=await fetch(`${ku}/scenarios/${n.id}/timeline`).then(I=>I.json());A(ne);const ae={...n,timeline:ne};l(ae)}catch(ne){console.error("Error deleting event:",ne)}},H=Y=>{if(!Y.chapterId||!Y.episodeId)return null;const ne=n.chapters.find(I=>I.id===Y.chapterId);if(!ne)return null;const ae=ne.episodes.find(I=>I.id===Y.episodeId);return ae?{chapterNumber:ne.number,chapterTitle:ne.title,episodeNumber:ae.number,episodeTitle:ae.title}:null},q=Y=>{v(w===Y?null:Y)};return f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-amber-100 rounded-xl",children:f.jsx(a1,{className:"w-6 h-6 text-amber-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),f.jsxs("p",{className:"text-sm text-gray-500",children:[(n.timeline||[]).length," events recorded"]})]})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>E(!j),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[f.jsx(Ch,{size:20}),f.jsx("span",{children:"Quick Edit"}),f.jsx(Qn,{size:16,className:`transform transition-transform ${j?"rotate-180":""}`})]}),j&&f.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-10",children:[f.jsx("input",{type:"text",placeholder:"Search events...",value:F,onChange:Y=>L(Y.target.value),className:"mx-2 mb-2 w-[calc(100%-16px)] px-3 py-2 border border-gray-200 rounded-lg text-sm"}),f.jsx("div",{className:"max-h-64 overflow-y-auto",children:P.map(Y=>f.jsx("button",{onClick:()=>{$(Y),E(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",children:Y.when},Y.id))})]})]}),f.jsxs("button",{onClick:()=>{c(!0),g(null),S({when:"",where:"",what:"",chapterId:"",episodeId:""})},className:"flex items-center gap-2 bg-amber-600 text-white px-6 py-3 rounded-full hover:bg-amber-700 transition-colors duration-200 shadow-lg hover:shadow-amber-200",children:[f.jsx(Lo,{size:20}),"Add Event"]})]})]}),f.jsxs("div",{className:"space-y-4",children:[k.map(Y=>{const ne=H(Y),ae=w===Y.id;return f.jsx("div",{className:"bg-white p-4 rounded-xl border border-gray-200 hover:border-indigo-200 hover:shadow-md transition-all duration-200",onClick:()=>q(Y.id),children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2 text-lg font-medium text-gray-900 mb-3",children:[f.jsx(mg,{className:"w-5 h-5 text-indigo-500"}),Y.when]}),Y.where&&f.jsxs("div",{className:"flex items-center gap-2 text-gray-600 mb-2",children:[f.jsx(f1,{className:"w-4 h-4 flex-shrink-0"}),f.jsx("span",{className:w===Y.id?"":"line-clamp-1",children:Y.where})]}),f.jsxs("div",{className:"flex items-start gap-2 text-gray-700",children:[f.jsx(l1,{className:"w-4 h-4 mt-1 flex-shrink-0"}),f.jsx("p",{className:w===Y.id?"":"line-clamp-1",children:Y.what})]}),ne&&f.jsx("div",{className:"mt-3 text-sm",children:f.jsxs("span",{className:"text-indigo-600 bg-indigo-50 px-2 py-1 rounded-md",children:["Chapter ",ne.chapterNumber,", Episode ",ne.episodeNumber]})})]}),f.jsxs("div",{className:"flex gap-2 ml-4",children:[f.jsx("button",{onClick:I=>{I.stopPropagation(),q(Y.id)},className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:w===Y.id?"Collapse":"Expand",children:f.jsx(Qn,{className:`transform transition-transform ${ae?"rotate-180":""}`,size:18})}),f.jsx("button",{onClick:()=>$(Y),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",title:"Edit event",children:f.jsx(es,{size:18})}),f.jsx("button",{onClick:()=>b(Y.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete event",children:f.jsx(Vl,{size:18})})]})]})},Y.id)}),U.length>5&&f.jsx("button",{onClick:()=>x(!p),className:"w-full py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors flex items-center justify-center gap-2",children:p?f.jsxs(f.Fragment,{children:[f.jsx(Mg,{size:20}),"Show Less"]}):f.jsxs(f.Fragment,{children:[f.jsx(Qn,{size:20}),"Show ",U.length-5," More Events"]})}),U.length===0&&f.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[f.jsx(mg,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),f.jsx("p",{className:"text-gray-500",children:"No timeline events yet"})]})]}),s&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:()=>{c(!1),g(null),S({when:"",where:"",what:"",chapterId:"",episodeId:""})},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:d?"Edit Event":"Add New Event"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"When"}),f.jsx("input",{type:"text",value:_.when,onChange:Y=>S(ne=>({...ne,when:Y.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter time/date"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Where"}),f.jsx("input",{type:"text",value:_.where,onChange:Y=>S(ne=>({...ne,where:Y.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter location"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What"}),f.jsx("textarea",{value:_.what,onChange:Y=>S(ne=>({...ne,what:Y.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 min-h-[100px]",placeholder:"Describe what happens"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Link to Scene"}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("select",{value:_.chapterId,onChange:Y=>{S(ne=>({...ne,chapterId:Y.target.value,episodeId:""}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",children:[f.jsx("option",{value:"",children:"Select Chapter"}),n.chapters.map(Y=>f.jsxs("option",{value:Y.id,children:["Chapter ",Y.number,": ",Y.title]},Y.id))]}),_.chapterId&&f.jsxs("select",{value:_.episodeId,onChange:Y=>{S(ne=>({...ne,episodeId:Y.target.value}))},className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",children:[f.jsx("option",{value:"",children:"Select Episode"}),(ie=n.chapters.find(Y=>Y.id===_.chapterId))==null?void 0:ie.episodes.map(Y=>f.jsxs("option",{value:Y.id,children:["Episode ",Y.number,": ",Y.title]},Y.id))]})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:M,className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:d?"Save Changes":"Add Event"}),f.jsx("button",{onClick:()=>{c(!1),g(null),S({when:"",where:"",what:"",chapterId:"",episodeId:""})},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})})]})}function Dn(n){if(typeof n=="string"||typeof n=="number")return""+n;let l="";if(Array.isArray(n))for(let s=0,c;s<n.length;s++)(c=Dn(n[s]))!==""&&(l+=(l&&" ")+c);else for(let s in n)n[s]&&(l+=(l&&" ")+s);return l}var Qp={exports:{}},Zp={},Jp={exports:{}},eg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A0;function x1(){if(A0)return eg;A0=1;var n=ns();function l(S,T){return S===T&&(S!==0||1/S===1/T)||S!==S&&T!==T}var s=typeof Object.is=="function"?Object.is:l,c=n.useState,d=n.useEffect,g=n.useLayoutEffect,p=n.useDebugValue;function x(S,T){var A=T(),U=c({inst:{value:A,getSnapshot:T}}),F=U[0].inst,L=U[1];return g(function(){F.value=A,F.getSnapshot=T,w(F)&&L({inst:F})},[S,A,T]),d(function(){return w(F)&&L({inst:F}),S(function(){w(F)&&L({inst:F})})},[S]),p(A),A}function w(S){var T=S.getSnapshot;S=S.value;try{var A=T();return!s(S,A)}catch{return!0}}function v(S,T){return T()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:x;return eg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:_,eg}var D0;function v1(){return D0||(D0=1,Jp.exports=x1()),Jp.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function w1(){if(M0)return Zp;M0=1;var n=ns(),l=v1();function s(v,_){return v===_&&(v!==0||1/v===1/_)||v!==v&&_!==_}var c=typeof Object.is=="function"?Object.is:s,d=l.useSyncExternalStore,g=n.useRef,p=n.useEffect,x=n.useMemo,w=n.useDebugValue;return Zp.useSyncExternalStoreWithSelector=function(v,_,S,T,A){var U=g(null);if(U.current===null){var F={hasValue:!1,value:null};U.current=F}else F=U.current;U=x(function(){function j($){if(!E){if(E=!0,P=$,$=T($),A!==void 0&&F.hasValue){var b=F.value;if(A(b,$))return k=b}return k=$}if(b=k,c(P,$))return b;var H=T($);return A!==void 0&&A(b,H)?(P=$,b):(P=$,k=H)}var E=!1,P,k,M=S===void 0?null:S;return[function(){return j(_())},M===null?void 0:function(){return j(M())}]},[_,S,T,A]);var L=d(v,U[0],U[1]);return p(function(){F.hasValue=!0,F.value=L},[L]),w(L),L},Zp}var z0;function _1(){return z0||(z0=1,Qp.exports=w1()),Qp.exports}var S1=_1();const N1=Bm(S1),b1={},O0=n=>{let l;const s=new Set,c=(_,S)=>{const T=typeof _=="function"?_(l):_;if(!Object.is(T,l)){const A=l;l=S??(typeof T!="object"||T===null)?T:Object.assign({},l,T),s.forEach(U=>U(l,A))}},d=()=>l,w={setState:c,getState:d,getInitialState:()=>v,subscribe:_=>(s.add(_),()=>s.delete(_)),destroy:()=>{(b1?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),s.clear()}},v=l=n(c,d,w);return w},E1=n=>n?O0(n):O0,{useDebugValue:C1}=he,{useSyncExternalStoreWithSelector:k1}=N1,j1=n=>n;function Xm(n,l=j1,s){const c=k1(n.subscribe,n.getState,n.getServerState||n.getInitialState,l,s);return C1(c),c}const I0=(n,l)=>{const s=E1(n),c=(d,g=l)=>Xm(s,d,g);return Object.assign(c,s),c},T1=(n,l)=>n?I0(n,l):I0;function Sn(n,l){if(Object.is(n,l))return!0;if(typeof n!="object"||n===null||typeof l!="object"||l===null)return!1;if(n instanceof Map&&l instanceof Map){if(n.size!==l.size)return!1;for(const[c,d]of n)if(!Object.is(d,l.get(c)))return!1;return!0}if(n instanceof Set&&l instanceof Set){if(n.size!==l.size)return!1;for(const c of n)if(!l.has(c))return!1;return!0}const s=Object.keys(n);if(s.length!==Object.keys(l).length)return!1;for(const c of s)if(!Object.prototype.hasOwnProperty.call(l,c)||!Object.is(n[c],l[c]))return!1;return!0}var P1={value:()=>{}};function Lh(){for(var n=0,l=arguments.length,s={},c;n<l;++n){if(!(c=arguments[n]+"")||c in s||/[\s.]/.test(c))throw new Error("illegal type: "+c);s[c]=[]}return new wh(s)}function wh(n){this._=n}function R1(n,l){return n.trim().split(/^|\s+/).map(function(s){var c="",d=s.indexOf(".");if(d>=0&&(c=s.slice(d+1),s=s.slice(0,d)),s&&!l.hasOwnProperty(s))throw new Error("unknown type: "+s);return{type:s,name:c}})}wh.prototype=Lh.prototype={constructor:wh,on:function(n,l){var s=this._,c=R1(n+"",s),d,g=-1,p=c.length;if(arguments.length<2){for(;++g<p;)if((d=(n=c[g]).type)&&(d=A1(s[d],n.name)))return d;return}if(l!=null&&typeof l!="function")throw new Error("invalid callback: "+l);for(;++g<p;)if(d=(n=c[g]).type)s[d]=$0(s[d],n.name,l);else if(l==null)for(d in s)s[d]=$0(s[d],n.name,null);return this},copy:function(){var n={},l=this._;for(var s in l)n[s]=l[s].slice();return new wh(n)},call:function(n,l){if((d=arguments.length-2)>0)for(var s=new Array(d),c=0,d,g;c<d;++c)s[c]=arguments[c+2];if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(g=this._[n],c=0,d=g.length;c<d;++c)g[c].value.apply(l,s)},apply:function(n,l,s){if(!this._.hasOwnProperty(n))throw new Error("unknown type: "+n);for(var c=this._[n],d=0,g=c.length;d<g;++d)c[d].value.apply(l,s)}};function A1(n,l){for(var s=0,c=n.length,d;s<c;++s)if((d=n[s]).name===l)return d.value}function $0(n,l,s){for(var c=0,d=n.length;c<d;++c)if(n[c].name===l){n[c]=P1,n=n.slice(0,c).concat(n.slice(c+1));break}return s!=null&&n.push({name:l,value:s}),n}var yg="http://www.w3.org/1999/xhtml";const L0={svg:"http://www.w3.org/2000/svg",xhtml:yg,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Fh(n){var l=n+="",s=l.indexOf(":");return s>=0&&(l=n.slice(0,s))!=="xmlns"&&(n=n.slice(s+1)),L0.hasOwnProperty(l)?{space:L0[l],local:n}:n}function D1(n){return function(){var l=this.ownerDocument,s=this.namespaceURI;return s===yg&&l.documentElement.namespaceURI===yg?l.createElement(n):l.createElementNS(s,n)}}function M1(n){return function(){return this.ownerDocument.createElementNS(n.space,n.local)}}function Km(n){var l=Fh(n);return(l.local?M1:D1)(l)}function z1(){}function zg(n){return n==null?z1:function(){return this.querySelector(n)}}function O1(n){typeof n!="function"&&(n=zg(n));for(var l=this._groups,s=l.length,c=new Array(s),d=0;d<s;++d)for(var g=l[d],p=g.length,x=c[d]=new Array(p),w,v,_=0;_<p;++_)(w=g[_])&&(v=n.call(w,w.__data__,_,g))&&("__data__"in w&&(v.__data__=w.__data__),x[_]=v);return new zr(c,this._parents)}function I1(n){return n==null?[]:Array.isArray(n)?n:Array.from(n)}function $1(){return[]}function Qm(n){return n==null?$1:function(){return this.querySelectorAll(n)}}function L1(n){return function(){return I1(n.apply(this,arguments))}}function F1(n){typeof n=="function"?n=L1(n):n=Qm(n);for(var l=this._groups,s=l.length,c=[],d=[],g=0;g<s;++g)for(var p=l[g],x=p.length,w,v=0;v<x;++v)(w=p[v])&&(c.push(n.call(w,w.__data__,v,p)),d.push(w));return new zr(c,d)}function Zm(n){return function(){return this.matches(n)}}function Jm(n){return function(l){return l.matches(n)}}var H1=Array.prototype.find;function U1(n){return function(){return H1.call(this.children,n)}}function B1(){return this.firstElementChild}function W1(n){return this.select(n==null?B1:U1(typeof n=="function"?n:Jm(n)))}var V1=Array.prototype.filter;function Y1(){return Array.from(this.children)}function q1(n){return function(){return V1.call(this.children,n)}}function G1(n){return this.selectAll(n==null?Y1:q1(typeof n=="function"?n:Jm(n)))}function X1(n){typeof n!="function"&&(n=Zm(n));for(var l=this._groups,s=l.length,c=new Array(s),d=0;d<s;++d)for(var g=l[d],p=g.length,x=c[d]=[],w,v=0;v<p;++v)(w=g[v])&&n.call(w,w.__data__,v,g)&&x.push(w);return new zr(c,this._parents)}function ey(n){return new Array(n.length)}function K1(){return new zr(this._enter||this._groups.map(ey),this._parents)}function jh(n,l){this.ownerDocument=n.ownerDocument,this.namespaceURI=n.namespaceURI,this._next=null,this._parent=n,this.__data__=l}jh.prototype={constructor:jh,appendChild:function(n){return this._parent.insertBefore(n,this._next)},insertBefore:function(n,l){return this._parent.insertBefore(n,l)},querySelector:function(n){return this._parent.querySelector(n)},querySelectorAll:function(n){return this._parent.querySelectorAll(n)}};function Q1(n){return function(){return n}}function Z1(n,l,s,c,d,g){for(var p=0,x,w=l.length,v=g.length;p<v;++p)(x=l[p])?(x.__data__=g[p],c[p]=x):s[p]=new jh(n,g[p]);for(;p<w;++p)(x=l[p])&&(d[p]=x)}function J1(n,l,s,c,d,g,p){var x,w,v=new Map,_=l.length,S=g.length,T=new Array(_),A;for(x=0;x<_;++x)(w=l[x])&&(T[x]=A=p.call(w,w.__data__,x,l)+"",v.has(A)?d[x]=w:v.set(A,w));for(x=0;x<S;++x)A=p.call(n,g[x],x,g)+"",(w=v.get(A))?(c[x]=w,w.__data__=g[x],v.delete(A)):s[x]=new jh(n,g[x]);for(x=0;x<_;++x)(w=l[x])&&v.get(T[x])===w&&(d[x]=w)}function e2(n){return n.__data__}function t2(n,l){if(!arguments.length)return Array.from(this,e2);var s=l?J1:Z1,c=this._parents,d=this._groups;typeof n!="function"&&(n=Q1(n));for(var g=d.length,p=new Array(g),x=new Array(g),w=new Array(g),v=0;v<g;++v){var _=c[v],S=d[v],T=S.length,A=n2(n.call(_,_&&_.__data__,v,c)),U=A.length,F=x[v]=new Array(U),L=p[v]=new Array(U),j=w[v]=new Array(T);s(_,S,F,L,j,A,l);for(var E=0,P=0,k,M;E<U;++E)if(k=F[E]){for(E>=P&&(P=E+1);!(M=L[P])&&++P<U;);k._next=M||null}}return p=new zr(p,c),p._enter=x,p._exit=w,p}function n2(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function r2(){return new zr(this._exit||this._groups.map(ey),this._parents)}function i2(n,l,s){var c=this.enter(),d=this,g=this.exit();return typeof n=="function"?(c=n(c),c&&(c=c.selection())):c=c.append(n+""),l!=null&&(d=l(d),d&&(d=d.selection())),s==null?g.remove():s(g),c&&d?c.merge(d).order():d}function s2(n){for(var l=n.selection?n.selection():n,s=this._groups,c=l._groups,d=s.length,g=c.length,p=Math.min(d,g),x=new Array(d),w=0;w<p;++w)for(var v=s[w],_=c[w],S=v.length,T=x[w]=new Array(S),A,U=0;U<S;++U)(A=v[U]||_[U])&&(T[U]=A);for(;w<d;++w)x[w]=s[w];return new zr(x,this._parents)}function o2(){for(var n=this._groups,l=-1,s=n.length;++l<s;)for(var c=n[l],d=c.length-1,g=c[d],p;--d>=0;)(p=c[d])&&(g&&p.compareDocumentPosition(g)^4&&g.parentNode.insertBefore(p,g),g=p);return this}function l2(n){n||(n=a2);function l(S,T){return S&&T?n(S.__data__,T.__data__):!S-!T}for(var s=this._groups,c=s.length,d=new Array(c),g=0;g<c;++g){for(var p=s[g],x=p.length,w=d[g]=new Array(x),v,_=0;_<x;++_)(v=p[_])&&(w[_]=v);w.sort(l)}return new zr(d,this._parents).order()}function a2(n,l){return n<l?-1:n>l?1:n>=l?0:NaN}function u2(){var n=arguments[0];return arguments[0]=this,n.apply(null,arguments),this}function c2(){return Array.from(this)}function f2(){for(var n=this._groups,l=0,s=n.length;l<s;++l)for(var c=n[l],d=0,g=c.length;d<g;++d){var p=c[d];if(p)return p}return null}function d2(){let n=0;for(const l of this)++n;return n}function h2(){return!this.node()}function p2(n){for(var l=this._groups,s=0,c=l.length;s<c;++s)for(var d=l[s],g=0,p=d.length,x;g<p;++g)(x=d[g])&&n.call(x,x.__data__,g,d);return this}function g2(n){return function(){this.removeAttribute(n)}}function m2(n){return function(){this.removeAttributeNS(n.space,n.local)}}function y2(n,l){return function(){this.setAttribute(n,l)}}function x2(n,l){return function(){this.setAttributeNS(n.space,n.local,l)}}function v2(n,l){return function(){var s=l.apply(this,arguments);s==null?this.removeAttribute(n):this.setAttribute(n,s)}}function w2(n,l){return function(){var s=l.apply(this,arguments);s==null?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,s)}}function _2(n,l){var s=Fh(n);if(arguments.length<2){var c=this.node();return s.local?c.getAttributeNS(s.space,s.local):c.getAttribute(s)}return this.each((l==null?s.local?m2:g2:typeof l=="function"?s.local?w2:v2:s.local?x2:y2)(s,l))}function ty(n){return n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView}function S2(n){return function(){this.style.removeProperty(n)}}function N2(n,l,s){return function(){this.style.setProperty(n,l,s)}}function b2(n,l,s){return function(){var c=l.apply(this,arguments);c==null?this.style.removeProperty(n):this.style.setProperty(n,c,s)}}function E2(n,l,s){return arguments.length>1?this.each((l==null?S2:typeof l=="function"?b2:N2)(n,l,s??"")):Iu(this.node(),n)}function Iu(n,l){return n.style.getPropertyValue(l)||ty(n).getComputedStyle(n,null).getPropertyValue(l)}function C2(n){return function(){delete this[n]}}function k2(n,l){return function(){this[n]=l}}function j2(n,l){return function(){var s=l.apply(this,arguments);s==null?delete this[n]:this[n]=s}}function T2(n,l){return arguments.length>1?this.each((l==null?C2:typeof l=="function"?j2:k2)(n,l)):this.node()[n]}function ny(n){return n.trim().split(/^|\s+/)}function Og(n){return n.classList||new ry(n)}function ry(n){this._node=n,this._names=ny(n.getAttribute("class")||"")}ry.prototype={add:function(n){var l=this._names.indexOf(n);l<0&&(this._names.push(n),this._node.setAttribute("class",this._names.join(" ")))},remove:function(n){var l=this._names.indexOf(n);l>=0&&(this._names.splice(l,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(n){return this._names.indexOf(n)>=0}};function iy(n,l){for(var s=Og(n),c=-1,d=l.length;++c<d;)s.add(l[c])}function sy(n,l){for(var s=Og(n),c=-1,d=l.length;++c<d;)s.remove(l[c])}function P2(n){return function(){iy(this,n)}}function R2(n){return function(){sy(this,n)}}function A2(n,l){return function(){(l.apply(this,arguments)?iy:sy)(this,n)}}function D2(n,l){var s=ny(n+"");if(arguments.length<2){for(var c=Og(this.node()),d=-1,g=s.length;++d<g;)if(!c.contains(s[d]))return!1;return!0}return this.each((typeof l=="function"?A2:l?P2:R2)(s,l))}function M2(){this.textContent=""}function z2(n){return function(){this.textContent=n}}function O2(n){return function(){var l=n.apply(this,arguments);this.textContent=l??""}}function I2(n){return arguments.length?this.each(n==null?M2:(typeof n=="function"?O2:z2)(n)):this.node().textContent}function $2(){this.innerHTML=""}function L2(n){return function(){this.innerHTML=n}}function F2(n){return function(){var l=n.apply(this,arguments);this.innerHTML=l??""}}function H2(n){return arguments.length?this.each(n==null?$2:(typeof n=="function"?F2:L2)(n)):this.node().innerHTML}function U2(){this.nextSibling&&this.parentNode.appendChild(this)}function B2(){return this.each(U2)}function W2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function V2(){return this.each(W2)}function Y2(n){var l=typeof n=="function"?n:Km(n);return this.select(function(){return this.appendChild(l.apply(this,arguments))})}function q2(){return null}function G2(n,l){var s=typeof n=="function"?n:Km(n),c=l==null?q2:typeof l=="function"?l:zg(l);return this.select(function(){return this.insertBefore(s.apply(this,arguments),c.apply(this,arguments)||null)})}function X2(){var n=this.parentNode;n&&n.removeChild(this)}function K2(){return this.each(X2)}function Q2(){var n=this.cloneNode(!1),l=this.parentNode;return l?l.insertBefore(n,this.nextSibling):n}function Z2(){var n=this.cloneNode(!0),l=this.parentNode;return l?l.insertBefore(n,this.nextSibling):n}function J2(n){return this.select(n?Z2:Q2)}function e_(n){return arguments.length?this.property("__data__",n):this.node().__data__}function t_(n){return function(l){n.call(this,l,this.__data__)}}function n_(n){return n.trim().split(/^|\s+/).map(function(l){var s="",c=l.indexOf(".");return c>=0&&(s=l.slice(c+1),l=l.slice(0,c)),{type:l,name:s}})}function r_(n){return function(){var l=this.__on;if(l){for(var s=0,c=-1,d=l.length,g;s<d;++s)g=l[s],(!n.type||g.type===n.type)&&g.name===n.name?this.removeEventListener(g.type,g.listener,g.options):l[++c]=g;++c?l.length=c:delete this.__on}}}function i_(n,l,s){return function(){var c=this.__on,d,g=t_(l);if(c){for(var p=0,x=c.length;p<x;++p)if((d=c[p]).type===n.type&&d.name===n.name){this.removeEventListener(d.type,d.listener,d.options),this.addEventListener(d.type,d.listener=g,d.options=s),d.value=l;return}}this.addEventListener(n.type,g,s),d={type:n.type,name:n.name,value:l,listener:g,options:s},c?c.push(d):this.__on=[d]}}function s_(n,l,s){var c=n_(n+""),d,g=c.length,p;if(arguments.length<2){var x=this.node().__on;if(x){for(var w=0,v=x.length,_;w<v;++w)for(d=0,_=x[w];d<g;++d)if((p=c[d]).type===_.type&&p.name===_.name)return _.value}return}for(x=l?i_:r_,d=0;d<g;++d)this.each(x(c[d],l,s));return this}function oy(n,l,s){var c=ty(n),d=c.CustomEvent;typeof d=="function"?d=new d(l,s):(d=c.document.createEvent("Event"),s?(d.initEvent(l,s.bubbles,s.cancelable),d.detail=s.detail):d.initEvent(l,!1,!1)),n.dispatchEvent(d)}function o_(n,l){return function(){return oy(this,n,l)}}function l_(n,l){return function(){return oy(this,n,l.apply(this,arguments))}}function a_(n,l){return this.each((typeof l=="function"?l_:o_)(n,l))}function*u_(){for(var n=this._groups,l=0,s=n.length;l<s;++l)for(var c=n[l],d=0,g=c.length,p;d<g;++d)(p=c[d])&&(yield p)}var ly=[null];function zr(n,l){this._groups=n,this._parents=l}function zf(){return new zr([[document.documentElement]],ly)}function c_(){return this}zr.prototype=zf.prototype={constructor:zr,select:O1,selectAll:F1,selectChild:W1,selectChildren:G1,filter:X1,data:t2,enter:K1,exit:r2,join:i2,merge:s2,selection:c_,order:o2,sort:l2,call:u2,nodes:c2,node:f2,size:d2,empty:h2,each:p2,attr:_2,style:E2,property:T2,classed:D2,text:I2,html:H2,raise:B2,lower:V2,append:Y2,insert:G2,remove:K2,clone:J2,datum:e_,on:s_,dispatch:a_,[Symbol.iterator]:u_};function ti(n){return typeof n=="string"?new zr([[document.querySelector(n)]],[document.documentElement]):new zr([[n]],ly)}function f_(n){let l;for(;l=n.sourceEvent;)n=l;return n}function bi(n,l){if(n=f_(n),l===void 0&&(l=n.currentTarget),l){var s=l.ownerSVGElement||l;if(s.createSVGPoint){var c=s.createSVGPoint();return c.x=n.clientX,c.y=n.clientY,c=c.matrixTransform(l.getScreenCTM().inverse()),[c.x,c.y]}if(l.getBoundingClientRect){var d=l.getBoundingClientRect();return[n.clientX-d.left-l.clientLeft,n.clientY-d.top-l.clientTop]}}return[n.pageX,n.pageY]}const d_={passive:!1},kf={capture:!0,passive:!1};function tg(n){n.stopImmediatePropagation()}function Mu(n){n.preventDefault(),n.stopImmediatePropagation()}function ay(n){var l=n.document.documentElement,s=ti(n).on("dragstart.drag",Mu,kf);"onselectstart"in l?s.on("selectstart.drag",Mu,kf):(l.__noselect=l.style.MozUserSelect,l.style.MozUserSelect="none")}function uy(n,l){var s=n.document.documentElement,c=ti(n).on("dragstart.drag",null);l&&(c.on("click.drag",Mu,kf),setTimeout(function(){c.on("click.drag",null)},0)),"onselectstart"in s?c.on("selectstart.drag",null):(s.style.MozUserSelect=s.__noselect,delete s.__noselect)}const lh=n=>()=>n;function xg(n,{sourceEvent:l,subject:s,target:c,identifier:d,active:g,x:p,y:x,dx:w,dy:v,dispatch:_}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},subject:{value:s,enumerable:!0,configurable:!0},target:{value:c,enumerable:!0,configurable:!0},identifier:{value:d,enumerable:!0,configurable:!0},active:{value:g,enumerable:!0,configurable:!0},x:{value:p,enumerable:!0,configurable:!0},y:{value:x,enumerable:!0,configurable:!0},dx:{value:w,enumerable:!0,configurable:!0},dy:{value:v,enumerable:!0,configurable:!0},_:{value:_}})}xg.prototype.on=function(){var n=this._.on.apply(this._,arguments);return n===this._?this:n};function h_(n){return!n.ctrlKey&&!n.button}function p_(){return this.parentNode}function g_(n,l){return l??{x:n.x,y:n.y}}function m_(){return navigator.maxTouchPoints||"ontouchstart"in this}function y_(){var n=h_,l=p_,s=g_,c=m_,d={},g=Lh("start","drag","end"),p=0,x,w,v,_,S=0;function T(k){k.on("mousedown.drag",A).filter(c).on("touchstart.drag",L).on("touchmove.drag",j,d_).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function A(k,M){if(!(_||!n.call(this,k,M))){var $=P(this,l.call(this,k,M),k,M,"mouse");$&&(ti(k.view).on("mousemove.drag",U,kf).on("mouseup.drag",F,kf),ay(k.view),tg(k),v=!1,x=k.clientX,w=k.clientY,$("start",k))}}function U(k){if(Mu(k),!v){var M=k.clientX-x,$=k.clientY-w;v=M*M+$*$>S}d.mouse("drag",k)}function F(k){ti(k.view).on("mousemove.drag mouseup.drag",null),uy(k.view,v),Mu(k),d.mouse("end",k)}function L(k,M){if(n.call(this,k,M)){var $=k.changedTouches,b=l.call(this,k,M),H=$.length,q,ie;for(q=0;q<H;++q)(ie=P(this,b,k,M,$[q].identifier,$[q]))&&(tg(k),ie("start",k,$[q]))}}function j(k){var M=k.changedTouches,$=M.length,b,H;for(b=0;b<$;++b)(H=d[M[b].identifier])&&(Mu(k),H("drag",k,M[b]))}function E(k){var M=k.changedTouches,$=M.length,b,H;for(_&&clearTimeout(_),_=setTimeout(function(){_=null},500),b=0;b<$;++b)(H=d[M[b].identifier])&&(tg(k),H("end",k,M[b]))}function P(k,M,$,b,H,q){var ie=g.copy(),Y=bi(q||$,M),ne,ae,I;if((I=s.call(k,new xg("beforestart",{sourceEvent:$,target:T,identifier:H,active:p,x:Y[0],y:Y[1],dx:0,dy:0,dispatch:ie}),b))!=null)return ne=I.x-Y[0]||0,ae=I.y-Y[1]||0,function oe(B,ee,K){var O=Y,W;switch(B){case"start":d[H]=oe,W=p++;break;case"end":delete d[H],--p;case"drag":Y=bi(K||ee,M),W=p;break}ie.call(B,k,new xg(B,{sourceEvent:ee,subject:I,target:T,identifier:H,active:W,x:Y[0]+ne,y:Y[1]+ae,dx:Y[0]-O[0],dy:Y[1]-O[1],dispatch:ie}),b)}}return T.filter=function(k){return arguments.length?(n=typeof k=="function"?k:lh(!!k),T):n},T.container=function(k){return arguments.length?(l=typeof k=="function"?k:lh(k),T):l},T.subject=function(k){return arguments.length?(s=typeof k=="function"?k:lh(k),T):s},T.touchable=function(k){return arguments.length?(c=typeof k=="function"?k:lh(!!k),T):c},T.on=function(){var k=g.on.apply(g,arguments);return k===g?T:k},T.clickDistance=function(k){return arguments.length?(S=(k=+k)*k,T):Math.sqrt(S)},T}function Ig(n,l,s){n.prototype=l.prototype=s,s.constructor=n}function cy(n,l){var s=Object.create(n.prototype);for(var c in l)s[c]=l[c];return s}function Of(){}var jf=.7,Th=1/jf,zu="\\s*([+-]?\\d+)\\s*",Tf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x_=/^#([0-9a-f]{3,8})$/,v_=new RegExp(`^rgb\\(${zu},${zu},${zu}\\)$`),w_=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),__=new RegExp(`^rgba\\(${zu},${zu},${zu},${Tf}\\)$`),S_=new RegExp(`^rgba\\(${ts},${ts},${ts},${Tf}\\)$`),N_=new RegExp(`^hsl\\(${Tf},${ts},${ts}\\)$`),b_=new RegExp(`^hsla\\(${Tf},${ts},${ts},${Tf}\\)$`),F0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ig(Of,Pf,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:H0,formatHex:H0,formatHex8:E_,formatHsl:C_,formatRgb:U0,toString:U0});function H0(){return this.rgb().formatHex()}function E_(){return this.rgb().formatHex8()}function C_(){return fy(this).formatHsl()}function U0(){return this.rgb().formatRgb()}function Pf(n){var l,s;return n=(n+"").trim().toLowerCase(),(l=x_.exec(n))?(s=l[1].length,l=parseInt(l[1],16),s===6?B0(l):s===3?new yr(l>>8&15|l>>4&240,l>>4&15|l&240,(l&15)<<4|l&15,1):s===8?ah(l>>24&255,l>>16&255,l>>8&255,(l&255)/255):s===4?ah(l>>12&15|l>>8&240,l>>8&15|l>>4&240,l>>4&15|l&240,((l&15)<<4|l&15)/255):null):(l=v_.exec(n))?new yr(l[1],l[2],l[3],1):(l=w_.exec(n))?new yr(l[1]*255/100,l[2]*255/100,l[3]*255/100,1):(l=__.exec(n))?ah(l[1],l[2],l[3],l[4]):(l=S_.exec(n))?ah(l[1]*255/100,l[2]*255/100,l[3]*255/100,l[4]):(l=N_.exec(n))?Y0(l[1],l[2]/100,l[3]/100,1):(l=b_.exec(n))?Y0(l[1],l[2]/100,l[3]/100,l[4]):F0.hasOwnProperty(n)?B0(F0[n]):n==="transparent"?new yr(NaN,NaN,NaN,0):null}function B0(n){return new yr(n>>16&255,n>>8&255,n&255,1)}function ah(n,l,s,c){return c<=0&&(n=l=s=NaN),new yr(n,l,s,c)}function k_(n){return n instanceof Of||(n=Pf(n)),n?(n=n.rgb(),new yr(n.r,n.g,n.b,n.opacity)):new yr}function vg(n,l,s,c){return arguments.length===1?k_(n):new yr(n,l,s,c??1)}function yr(n,l,s,c){this.r=+n,this.g=+l,this.b=+s,this.opacity=+c}Ig(yr,vg,cy(Of,{brighter(n){return n=n==null?Th:Math.pow(Th,n),new yr(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?jf:Math.pow(jf,n),new yr(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new yr(Bl(this.r),Bl(this.g),Bl(this.b),Ph(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:W0,formatHex:W0,formatHex8:j_,formatRgb:V0,toString:V0}));function W0(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}`}function j_(){return`#${Hl(this.r)}${Hl(this.g)}${Hl(this.b)}${Hl((isNaN(this.opacity)?1:this.opacity)*255)}`}function V0(){const n=Ph(this.opacity);return`${n===1?"rgb(":"rgba("}${Bl(this.r)}, ${Bl(this.g)}, ${Bl(this.b)}${n===1?")":`, ${n})`}`}function Ph(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Bl(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function Hl(n){return n=Bl(n),(n<16?"0":"")+n.toString(16)}function Y0(n,l,s,c){return c<=0?n=l=s=NaN:s<=0||s>=1?n=l=NaN:l<=0&&(n=NaN),new Ei(n,l,s,c)}function fy(n){if(n instanceof Ei)return new Ei(n.h,n.s,n.l,n.opacity);if(n instanceof Of||(n=Pf(n)),!n)return new Ei;if(n instanceof Ei)return n;n=n.rgb();var l=n.r/255,s=n.g/255,c=n.b/255,d=Math.min(l,s,c),g=Math.max(l,s,c),p=NaN,x=g-d,w=(g+d)/2;return x?(l===g?p=(s-c)/x+(s<c)*6:s===g?p=(c-l)/x+2:p=(l-s)/x+4,x/=w<.5?g+d:2-g-d,p*=60):x=w>0&&w<1?0:p,new Ei(p,x,w,n.opacity)}function T_(n,l,s,c){return arguments.length===1?fy(n):new Ei(n,l,s,c??1)}function Ei(n,l,s,c){this.h=+n,this.s=+l,this.l=+s,this.opacity=+c}Ig(Ei,T_,cy(Of,{brighter(n){return n=n==null?Th:Math.pow(Th,n),new Ei(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?jf:Math.pow(jf,n),new Ei(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,l=isNaN(n)||isNaN(this.s)?0:this.s,s=this.l,c=s+(s<.5?s:1-s)*l,d=2*s-c;return new yr(ng(n>=240?n-240:n+120,d,c),ng(n,d,c),ng(n<120?n+240:n-120,d,c),this.opacity)},clamp(){return new Ei(q0(this.h),uh(this.s),uh(this.l),Ph(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Ph(this.opacity);return`${n===1?"hsl(":"hsla("}${q0(this.h)}, ${uh(this.s)*100}%, ${uh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function q0(n){return n=(n||0)%360,n<0?n+360:n}function uh(n){return Math.max(0,Math.min(1,n||0))}function ng(n,l,s){return(n<60?l+(s-l)*n/60:n<180?s:n<240?l+(s-l)*(240-n)/60:l)*255}const dy=n=>()=>n;function P_(n,l){return function(s){return n+s*l}}function R_(n,l,s){return n=Math.pow(n,s),l=Math.pow(l,s)-n,s=1/s,function(c){return Math.pow(n+c*l,s)}}function A_(n){return(n=+n)==1?hy:function(l,s){return s-l?R_(l,s,n):dy(isNaN(l)?s:l)}}function hy(n,l){var s=l-n;return s?P_(n,s):dy(isNaN(n)?l:n)}const G0=function n(l){var s=A_(l);function c(d,g){var p=s((d=vg(d)).r,(g=vg(g)).r),x=s(d.g,g.g),w=s(d.b,g.b),v=hy(d.opacity,g.opacity);return function(_){return d.r=p(_),d.g=x(_),d.b=w(_),d.opacity=v(_),d+""}}return c.gamma=n,c}(1);function zo(n,l){return n=+n,l=+l,function(s){return n*(1-s)+l*s}}var wg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rg=new RegExp(wg.source,"g");function D_(n){return function(){return n}}function M_(n){return function(l){return n(l)+""}}function z_(n,l){var s=wg.lastIndex=rg.lastIndex=0,c,d,g,p=-1,x=[],w=[];for(n=n+"",l=l+"";(c=wg.exec(n))&&(d=rg.exec(l));)(g=d.index)>s&&(g=l.slice(s,g),x[p]?x[p]+=g:x[++p]=g),(c=c[0])===(d=d[0])?x[p]?x[p]+=d:x[++p]=d:(x[++p]=null,w.push({i:p,x:zo(c,d)})),s=rg.lastIndex;return s<l.length&&(g=l.slice(s),x[p]?x[p]+=g:x[++p]=g),x.length<2?w[0]?M_(w[0].x):D_(l):(l=w.length,function(v){for(var _=0,S;_<l;++_)x[(S=w[_]).i]=S.x(v);return x.join("")})}var X0=180/Math.PI,_g={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function py(n,l,s,c,d,g){var p,x,w;return(p=Math.sqrt(n*n+l*l))&&(n/=p,l/=p),(w=n*s+l*c)&&(s-=n*w,c-=l*w),(x=Math.sqrt(s*s+c*c))&&(s/=x,c/=x,w/=x),n*c<l*s&&(n=-n,l=-l,w=-w,p=-p),{translateX:d,translateY:g,rotate:Math.atan2(l,n)*X0,skewX:Math.atan(w)*X0,scaleX:p,scaleY:x}}var ch;function O_(n){const l=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(n+"");return l.isIdentity?_g:py(l.a,l.b,l.c,l.d,l.e,l.f)}function I_(n){return n==null||(ch||(ch=document.createElementNS("http://www.w3.org/2000/svg","g")),ch.setAttribute("transform",n),!(n=ch.transform.baseVal.consolidate()))?_g:(n=n.matrix,py(n.a,n.b,n.c,n.d,n.e,n.f))}function gy(n,l,s,c){function d(v){return v.length?v.pop()+" ":""}function g(v,_,S,T,A,U){if(v!==S||_!==T){var F=A.push("translate(",null,l,null,s);U.push({i:F-4,x:zo(v,S)},{i:F-2,x:zo(_,T)})}else(S||T)&&A.push("translate("+S+l+T+s)}function p(v,_,S,T){v!==_?(v-_>180?_+=360:_-v>180&&(v+=360),T.push({i:S.push(d(S)+"rotate(",null,c)-2,x:zo(v,_)})):_&&S.push(d(S)+"rotate("+_+c)}function x(v,_,S,T){v!==_?T.push({i:S.push(d(S)+"skewX(",null,c)-2,x:zo(v,_)}):_&&S.push(d(S)+"skewX("+_+c)}function w(v,_,S,T,A,U){if(v!==S||_!==T){var F=A.push(d(A)+"scale(",null,",",null,")");U.push({i:F-4,x:zo(v,S)},{i:F-2,x:zo(_,T)})}else(S!==1||T!==1)&&A.push(d(A)+"scale("+S+","+T+")")}return function(v,_){var S=[],T=[];return v=n(v),_=n(_),g(v.translateX,v.translateY,_.translateX,_.translateY,S,T),p(v.rotate,_.rotate,S,T),x(v.skewX,_.skewX,S,T),w(v.scaleX,v.scaleY,_.scaleX,_.scaleY,S,T),v=_=null,function(A){for(var U=-1,F=T.length,L;++U<F;)S[(L=T[U]).i]=L.x(A);return S.join("")}}}var $_=gy(O_,"px, ","px)","deg)"),L_=gy(I_,", ",")",")"),F_=1e-12;function K0(n){return((n=Math.exp(n))+1/n)/2}function H_(n){return((n=Math.exp(n))-1/n)/2}function U_(n){return((n=Math.exp(2*n))-1)/(n+1)}const B_=function n(l,s,c){function d(g,p){var x=g[0],w=g[1],v=g[2],_=p[0],S=p[1],T=p[2],A=_-x,U=S-w,F=A*A+U*U,L,j;if(F<F_)j=Math.log(T/v)/l,L=function(b){return[x+b*A,w+b*U,v*Math.exp(l*b*j)]};else{var E=Math.sqrt(F),P=(T*T-v*v+c*F)/(2*v*s*E),k=(T*T-v*v-c*F)/(2*T*s*E),M=Math.log(Math.sqrt(P*P+1)-P),$=Math.log(Math.sqrt(k*k+1)-k);j=($-M)/l,L=function(b){var H=b*j,q=K0(M),ie=v/(s*E)*(q*U_(l*H+M)-H_(M));return[x+ie*A,w+ie*U,v*q/K0(l*H+M)]}}return L.duration=j*1e3*l/Math.SQRT2,L}return d.rho=function(g){var p=Math.max(.001,+g),x=p*p,w=x*x;return n(p,x,w)},d}(Math.SQRT2,2,4);var $u=0,Sf=0,ff=0,my=1e3,Rh,Nf,Ah=0,Yl=0,Hh=0,Rf=typeof performance=="object"&&performance.now?performance:Date,yy=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(n){setTimeout(n,17)};function $g(){return Yl||(yy(W_),Yl=Rf.now()+Hh)}function W_(){Yl=0}function Dh(){this._call=this._time=this._next=null}Dh.prototype=xy.prototype={constructor:Dh,restart:function(n,l,s){if(typeof n!="function")throw new TypeError("callback is not a function");s=(s==null?$g():+s)+(l==null?0:+l),!this._next&&Nf!==this&&(Nf?Nf._next=this:Rh=this,Nf=this),this._call=n,this._time=s,Sg()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sg())}};function xy(n,l,s){var c=new Dh;return c.restart(n,l,s),c}function V_(){$g(),++$u;for(var n=Rh,l;n;)(l=Yl-n._time)>=0&&n._call.call(void 0,l),n=n._next;--$u}function Q0(){Yl=(Ah=Rf.now())+Hh,$u=Sf=0;try{V_()}finally{$u=0,q_(),Yl=0}}function Y_(){var n=Rf.now(),l=n-Ah;l>my&&(Hh-=l,Ah=n)}function q_(){for(var n,l=Rh,s,c=1/0;l;)l._call?(c>l._time&&(c=l._time),n=l,l=l._next):(s=l._next,l._next=null,l=n?n._next=s:Rh=s);Nf=n,Sg(c)}function Sg(n){if(!$u){Sf&&(Sf=clearTimeout(Sf));var l=n-Yl;l>24?(n<1/0&&(Sf=setTimeout(Q0,n-Rf.now()-Hh)),ff&&(ff=clearInterval(ff))):(ff||(Ah=Rf.now(),ff=setInterval(Y_,my)),$u=1,yy(Q0))}}function Z0(n,l,s){var c=new Dh;return l=l==null?0:+l,c.restart(d=>{c.stop(),n(d+l)},l,s),c}var G_=Lh("start","end","cancel","interrupt"),X_=[],vy=0,J0=1,Ng=2,_h=3,em=4,bg=5,Sh=6;function Uh(n,l,s,c,d,g){var p=n.__transition;if(!p)n.__transition={};else if(s in p)return;K_(n,s,{name:l,index:c,group:d,on:G_,tween:X_,time:g.time,delay:g.delay,duration:g.duration,ease:g.ease,timer:null,state:vy})}function Lg(n,l){var s=ki(n,l);if(s.state>vy)throw new Error("too late; already scheduled");return s}function rs(n,l){var s=ki(n,l);if(s.state>_h)throw new Error("too late; already running");return s}function ki(n,l){var s=n.__transition;if(!s||!(s=s[l]))throw new Error("transition not found");return s}function K_(n,l,s){var c=n.__transition,d;c[l]=s,s.timer=xy(g,0,s.time);function g(v){s.state=J0,s.timer.restart(p,s.delay,s.time),s.delay<=v&&p(v-s.delay)}function p(v){var _,S,T,A;if(s.state!==J0)return w();for(_ in c)if(A=c[_],A.name===s.name){if(A.state===_h)return Z0(p);A.state===em?(A.state=Sh,A.timer.stop(),A.on.call("interrupt",n,n.__data__,A.index,A.group),delete c[_]):+_<l&&(A.state=Sh,A.timer.stop(),A.on.call("cancel",n,n.__data__,A.index,A.group),delete c[_])}if(Z0(function(){s.state===_h&&(s.state=em,s.timer.restart(x,s.delay,s.time),x(v))}),s.state=Ng,s.on.call("start",n,n.__data__,s.index,s.group),s.state===Ng){for(s.state=_h,d=new Array(T=s.tween.length),_=0,S=-1;_<T;++_)(A=s.tween[_].value.call(n,n.__data__,s.index,s.group))&&(d[++S]=A);d.length=S+1}}function x(v){for(var _=v<s.duration?s.ease.call(null,v/s.duration):(s.timer.restart(w),s.state=bg,1),S=-1,T=d.length;++S<T;)d[S].call(n,_);s.state===bg&&(s.on.call("end",n,n.__data__,s.index,s.group),w())}function w(){s.state=Sh,s.timer.stop(),delete c[l];for(var v in c)return;delete n.__transition}}function Nh(n,l){var s=n.__transition,c,d,g=!0,p;if(s){l=l==null?null:l+"";for(p in s){if((c=s[p]).name!==l){g=!1;continue}d=c.state>Ng&&c.state<bg,c.state=Sh,c.timer.stop(),c.on.call(d?"interrupt":"cancel",n,n.__data__,c.index,c.group),delete s[p]}g&&delete n.__transition}}function Q_(n){return this.each(function(){Nh(this,n)})}function Z_(n,l){var s,c;return function(){var d=rs(this,n),g=d.tween;if(g!==s){c=s=g;for(var p=0,x=c.length;p<x;++p)if(c[p].name===l){c=c.slice(),c.splice(p,1);break}}d.tween=c}}function J_(n,l,s){var c,d;if(typeof s!="function")throw new Error;return function(){var g=rs(this,n),p=g.tween;if(p!==c){d=(c=p).slice();for(var x={name:l,value:s},w=0,v=d.length;w<v;++w)if(d[w].name===l){d[w]=x;break}w===v&&d.push(x)}g.tween=d}}function eS(n,l){var s=this._id;if(n+="",arguments.length<2){for(var c=ki(this.node(),s).tween,d=0,g=c.length,p;d<g;++d)if((p=c[d]).name===n)return p.value;return null}return this.each((l==null?Z_:J_)(s,n,l))}function Fg(n,l,s){var c=n._id;return n.each(function(){var d=rs(this,c);(d.value||(d.value={}))[l]=s.apply(this,arguments)}),function(d){return ki(d,c).value[l]}}function wy(n,l){var s;return(typeof l=="number"?zo:l instanceof Pf?G0:(s=Pf(l))?(l=s,G0):z_)(n,l)}function tS(n){return function(){this.removeAttribute(n)}}function nS(n){return function(){this.removeAttributeNS(n.space,n.local)}}function rS(n,l,s){var c,d=s+"",g;return function(){var p=this.getAttribute(n);return p===d?null:p===c?g:g=l(c=p,s)}}function iS(n,l,s){var c,d=s+"",g;return function(){var p=this.getAttributeNS(n.space,n.local);return p===d?null:p===c?g:g=l(c=p,s)}}function sS(n,l,s){var c,d,g;return function(){var p,x=s(this),w;return x==null?void this.removeAttribute(n):(p=this.getAttribute(n),w=x+"",p===w?null:p===c&&w===d?g:(d=w,g=l(c=p,x)))}}function oS(n,l,s){var c,d,g;return function(){var p,x=s(this),w;return x==null?void this.removeAttributeNS(n.space,n.local):(p=this.getAttributeNS(n.space,n.local),w=x+"",p===w?null:p===c&&w===d?g:(d=w,g=l(c=p,x)))}}function lS(n,l){var s=Fh(n),c=s==="transform"?L_:wy;return this.attrTween(n,typeof l=="function"?(s.local?oS:sS)(s,c,Fg(this,"attr."+n,l)):l==null?(s.local?nS:tS)(s):(s.local?iS:rS)(s,c,l))}function aS(n,l){return function(s){this.setAttribute(n,l.call(this,s))}}function uS(n,l){return function(s){this.setAttributeNS(n.space,n.local,l.call(this,s))}}function cS(n,l){var s,c;function d(){var g=l.apply(this,arguments);return g!==c&&(s=(c=g)&&uS(n,g)),s}return d._value=l,d}function fS(n,l){var s,c;function d(){var g=l.apply(this,arguments);return g!==c&&(s=(c=g)&&aS(n,g)),s}return d._value=l,d}function dS(n,l){var s="attr."+n;if(arguments.length<2)return(s=this.tween(s))&&s._value;if(l==null)return this.tween(s,null);if(typeof l!="function")throw new Error;var c=Fh(n);return this.tween(s,(c.local?cS:fS)(c,l))}function hS(n,l){return function(){Lg(this,n).delay=+l.apply(this,arguments)}}function pS(n,l){return l=+l,function(){Lg(this,n).delay=l}}function gS(n){var l=this._id;return arguments.length?this.each((typeof n=="function"?hS:pS)(l,n)):ki(this.node(),l).delay}function mS(n,l){return function(){rs(this,n).duration=+l.apply(this,arguments)}}function yS(n,l){return l=+l,function(){rs(this,n).duration=l}}function xS(n){var l=this._id;return arguments.length?this.each((typeof n=="function"?mS:yS)(l,n)):ki(this.node(),l).duration}function vS(n,l){if(typeof l!="function")throw new Error;return function(){rs(this,n).ease=l}}function wS(n){var l=this._id;return arguments.length?this.each(vS(l,n)):ki(this.node(),l).ease}function _S(n,l){return function(){var s=l.apply(this,arguments);if(typeof s!="function")throw new Error;rs(this,n).ease=s}}function SS(n){if(typeof n!="function")throw new Error;return this.each(_S(this._id,n))}function NS(n){typeof n!="function"&&(n=Zm(n));for(var l=this._groups,s=l.length,c=new Array(s),d=0;d<s;++d)for(var g=l[d],p=g.length,x=c[d]=[],w,v=0;v<p;++v)(w=g[v])&&n.call(w,w.__data__,v,g)&&x.push(w);return new Us(c,this._parents,this._name,this._id)}function bS(n){if(n._id!==this._id)throw new Error;for(var l=this._groups,s=n._groups,c=l.length,d=s.length,g=Math.min(c,d),p=new Array(c),x=0;x<g;++x)for(var w=l[x],v=s[x],_=w.length,S=p[x]=new Array(_),T,A=0;A<_;++A)(T=w[A]||v[A])&&(S[A]=T);for(;x<c;++x)p[x]=l[x];return new Us(p,this._parents,this._name,this._id)}function ES(n){return(n+"").trim().split(/^|\s+/).every(function(l){var s=l.indexOf(".");return s>=0&&(l=l.slice(0,s)),!l||l==="start"})}function CS(n,l,s){var c,d,g=ES(l)?Lg:rs;return function(){var p=g(this,n),x=p.on;x!==c&&(d=(c=x).copy()).on(l,s),p.on=d}}function kS(n,l){var s=this._id;return arguments.length<2?ki(this.node(),s).on.on(n):this.each(CS(s,n,l))}function jS(n){return function(){var l=this.parentNode;for(var s in this.__transition)if(+s!==n)return;l&&l.removeChild(this)}}function TS(){return this.on("end.remove",jS(this._id))}function PS(n){var l=this._name,s=this._id;typeof n!="function"&&(n=zg(n));for(var c=this._groups,d=c.length,g=new Array(d),p=0;p<d;++p)for(var x=c[p],w=x.length,v=g[p]=new Array(w),_,S,T=0;T<w;++T)(_=x[T])&&(S=n.call(_,_.__data__,T,x))&&("__data__"in _&&(S.__data__=_.__data__),v[T]=S,Uh(v[T],l,s,T,v,ki(_,s)));return new Us(g,this._parents,l,s)}function RS(n){var l=this._name,s=this._id;typeof n!="function"&&(n=Qm(n));for(var c=this._groups,d=c.length,g=[],p=[],x=0;x<d;++x)for(var w=c[x],v=w.length,_,S=0;S<v;++S)if(_=w[S]){for(var T=n.call(_,_.__data__,S,w),A,U=ki(_,s),F=0,L=T.length;F<L;++F)(A=T[F])&&Uh(A,l,s,F,T,U);g.push(T),p.push(_)}return new Us(g,p,l,s)}var AS=zf.prototype.constructor;function DS(){return new AS(this._groups,this._parents)}function MS(n,l){var s,c,d;return function(){var g=Iu(this,n),p=(this.style.removeProperty(n),Iu(this,n));return g===p?null:g===s&&p===c?d:d=l(s=g,c=p)}}function _y(n){return function(){this.style.removeProperty(n)}}function zS(n,l,s){var c,d=s+"",g;return function(){var p=Iu(this,n);return p===d?null:p===c?g:g=l(c=p,s)}}function OS(n,l,s){var c,d,g;return function(){var p=Iu(this,n),x=s(this),w=x+"";return x==null&&(w=x=(this.style.removeProperty(n),Iu(this,n))),p===w?null:p===c&&w===d?g:(d=w,g=l(c=p,x))}}function IS(n,l){var s,c,d,g="style."+l,p="end."+g,x;return function(){var w=rs(this,n),v=w.on,_=w.value[g]==null?x||(x=_y(l)):void 0;(v!==s||d!==_)&&(c=(s=v).copy()).on(p,d=_),w.on=c}}function $S(n,l,s){var c=(n+="")=="transform"?$_:wy;return l==null?this.styleTween(n,MS(n,c)).on("end.style."+n,_y(n)):typeof l=="function"?this.styleTween(n,OS(n,c,Fg(this,"style."+n,l))).each(IS(this._id,n)):this.styleTween(n,zS(n,c,l),s).on("end.style."+n,null)}function LS(n,l,s){return function(c){this.style.setProperty(n,l.call(this,c),s)}}function FS(n,l,s){var c,d;function g(){var p=l.apply(this,arguments);return p!==d&&(c=(d=p)&&LS(n,p,s)),c}return g._value=l,g}function HS(n,l,s){var c="style."+(n+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(l==null)return this.tween(c,null);if(typeof l!="function")throw new Error;return this.tween(c,FS(n,l,s??""))}function US(n){return function(){this.textContent=n}}function BS(n){return function(){var l=n(this);this.textContent=l??""}}function WS(n){return this.tween("text",typeof n=="function"?BS(Fg(this,"text",n)):US(n==null?"":n+""))}function VS(n){return function(l){this.textContent=n.call(this,l)}}function YS(n){var l,s;function c(){var d=n.apply(this,arguments);return d!==s&&(l=(s=d)&&VS(d)),l}return c._value=n,c}function qS(n){var l="text";if(arguments.length<1)return(l=this.tween(l))&&l._value;if(n==null)return this.tween(l,null);if(typeof n!="function")throw new Error;return this.tween(l,YS(n))}function GS(){for(var n=this._name,l=this._id,s=Sy(),c=this._groups,d=c.length,g=0;g<d;++g)for(var p=c[g],x=p.length,w,v=0;v<x;++v)if(w=p[v]){var _=ki(w,l);Uh(w,n,s,v,p,{time:_.time+_.delay+_.duration,delay:0,duration:_.duration,ease:_.ease})}return new Us(c,this._parents,n,s)}function XS(){var n,l,s=this,c=s._id,d=s.size();return new Promise(function(g,p){var x={value:p},w={value:function(){--d===0&&g()}};s.each(function(){var v=rs(this,c),_=v.on;_!==n&&(l=(n=_).copy(),l._.cancel.push(x),l._.interrupt.push(x),l._.end.push(w)),v.on=l}),d===0&&g()})}var KS=0;function Us(n,l,s,c){this._groups=n,this._parents=l,this._name=s,this._id=c}function Sy(){return++KS}var Ls=zf.prototype;Us.prototype={constructor:Us,select:PS,selectAll:RS,selectChild:Ls.selectChild,selectChildren:Ls.selectChildren,filter:NS,merge:bS,selection:DS,transition:GS,call:Ls.call,nodes:Ls.nodes,node:Ls.node,size:Ls.size,empty:Ls.empty,each:Ls.each,on:kS,attr:lS,attrTween:dS,style:$S,styleTween:HS,text:WS,textTween:qS,remove:TS,tween:eS,delay:gS,duration:xS,ease:wS,easeVarying:SS,end:XS,[Symbol.iterator]:Ls[Symbol.iterator]};function QS(n){return((n*=2)<=1?n*n*n:(n-=2)*n*n+2)/2}var ZS={time:null,delay:0,duration:250,ease:QS};function JS(n,l){for(var s;!(s=n.__transition)||!(s=s[l]);)if(!(n=n.parentNode))throw new Error(`transition ${l} not found`);return s}function eN(n){var l,s;n instanceof Us?(l=n._id,n=n._name):(l=Sy(),(s=ZS).time=$g(),n=n==null?null:n+"");for(var c=this._groups,d=c.length,g=0;g<d;++g)for(var p=c[g],x=p.length,w,v=0;v<x;++v)(w=p[v])&&Uh(w,n,l,v,p,s||JS(w,l));return new Us(c,this._parents,n,l)}zf.prototype.interrupt=Q_;zf.prototype.transition=eN;const fh=n=>()=>n;function tN(n,{sourceEvent:l,target:s,transform:c,dispatch:d}){Object.defineProperties(this,{type:{value:n,enumerable:!0,configurable:!0},sourceEvent:{value:l,enumerable:!0,configurable:!0},target:{value:s,enumerable:!0,configurable:!0},transform:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}function Fs(n,l,s){this.k=n,this.x=l,this.y=s}Fs.prototype={constructor:Fs,scale:function(n){return n===1?this:new Fs(this.k*n,this.x,this.y)},translate:function(n,l){return n===0&l===0?this:new Fs(this.k,this.x+this.k*n,this.y+this.k*l)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Hs=new Fs(1,0,0);Fs.prototype;function ig(n){n.stopImmediatePropagation()}function df(n){n.preventDefault(),n.stopImmediatePropagation()}function nN(n){return(!n.ctrlKey||n.type==="wheel")&&!n.button}function rN(){var n=this;return n instanceof SVGElement?(n=n.ownerSVGElement||n,n.hasAttribute("viewBox")?(n=n.viewBox.baseVal,[[n.x,n.y],[n.x+n.width,n.y+n.height]]):[[0,0],[n.width.baseVal.value,n.height.baseVal.value]]):[[0,0],[n.clientWidth,n.clientHeight]]}function tm(){return this.__zoom||Hs}function iN(n){return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*(n.ctrlKey?10:1)}function sN(){return navigator.maxTouchPoints||"ontouchstart"in this}function oN(n,l,s){var c=n.invertX(l[0][0])-s[0][0],d=n.invertX(l[1][0])-s[1][0],g=n.invertY(l[0][1])-s[0][1],p=n.invertY(l[1][1])-s[1][1];return n.translate(d>c?(c+d)/2:Math.min(0,c)||Math.max(0,d),p>g?(g+p)/2:Math.min(0,g)||Math.max(0,p))}function Ny(){var n=nN,l=rN,s=oN,c=iN,d=sN,g=[0,1/0],p=[[-1/0,-1/0],[1/0,1/0]],x=250,w=B_,v=Lh("start","zoom","end"),_,S,T,A=500,U=150,F=0,L=10;function j(I){I.property("__zoom",tm).on("wheel.zoom",H,{passive:!1}).on("mousedown.zoom",q).on("dblclick.zoom",ie).filter(d).on("touchstart.zoom",Y).on("touchmove.zoom",ne).on("touchend.zoom touchcancel.zoom",ae).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}j.transform=function(I,oe,B,ee){var K=I.selection?I.selection():I;K.property("__zoom",tm),I!==K?M(I,oe,B,ee):K.interrupt().each(function(){$(this,arguments).event(ee).start().zoom(null,typeof oe=="function"?oe.apply(this,arguments):oe).end()})},j.scaleBy=function(I,oe,B,ee){j.scaleTo(I,function(){var K=this.__zoom.k,O=typeof oe=="function"?oe.apply(this,arguments):oe;return K*O},B,ee)},j.scaleTo=function(I,oe,B,ee){j.transform(I,function(){var K=l.apply(this,arguments),O=this.__zoom,W=B==null?k(K):typeof B=="function"?B.apply(this,arguments):B,D=O.invert(W),Q=typeof oe=="function"?oe.apply(this,arguments):oe;return s(P(E(O,Q),W,D),K,p)},B,ee)},j.translateBy=function(I,oe,B,ee){j.transform(I,function(){return s(this.__zoom.translate(typeof oe=="function"?oe.apply(this,arguments):oe,typeof B=="function"?B.apply(this,arguments):B),l.apply(this,arguments),p)},null,ee)},j.translateTo=function(I,oe,B,ee,K){j.transform(I,function(){var O=l.apply(this,arguments),W=this.__zoom,D=ee==null?k(O):typeof ee=="function"?ee.apply(this,arguments):ee;return s(Hs.translate(D[0],D[1]).scale(W.k).translate(typeof oe=="function"?-oe.apply(this,arguments):-oe,typeof B=="function"?-B.apply(this,arguments):-B),O,p)},ee,K)};function E(I,oe){return oe=Math.max(g[0],Math.min(g[1],oe)),oe===I.k?I:new Fs(oe,I.x,I.y)}function P(I,oe,B){var ee=oe[0]-B[0]*I.k,K=oe[1]-B[1]*I.k;return ee===I.x&&K===I.y?I:new Fs(I.k,ee,K)}function k(I){return[(+I[0][0]+ +I[1][0])/2,(+I[0][1]+ +I[1][1])/2]}function M(I,oe,B,ee){I.on("start.zoom",function(){$(this,arguments).event(ee).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(ee).end()}).tween("zoom",function(){var K=this,O=arguments,W=$(K,O).event(ee),D=l.apply(K,O),Q=B==null?k(D):typeof B=="function"?B.apply(K,O):B,ge=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),me=K.__zoom,ve=typeof oe=="function"?oe.apply(K,O):oe,ke=w(me.invert(Q).concat(ge/me.k),ve.invert(Q).concat(ge/ve.k));return function(Re){if(Re===1)Re=ve;else{var De=ke(Re),Me=ge/De[2];Re=new Fs(Me,Q[0]-De[0]*Me,Q[1]-De[1]*Me)}W.zoom(null,Re)}})}function $(I,oe,B){return!B&&I.__zooming||new b(I,oe)}function b(I,oe){this.that=I,this.args=oe,this.active=0,this.sourceEvent=null,this.extent=l.apply(I,oe),this.taps=0}b.prototype={event:function(I){return I&&(this.sourceEvent=I),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(I,oe){return this.mouse&&I!=="mouse"&&(this.mouse[1]=oe.invert(this.mouse[0])),this.touch0&&I!=="touch"&&(this.touch0[1]=oe.invert(this.touch0[0])),this.touch1&&I!=="touch"&&(this.touch1[1]=oe.invert(this.touch1[0])),this.that.__zoom=oe,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(I){var oe=ti(this.that).datum();v.call(I,this.that,new tN(I,{sourceEvent:this.sourceEvent,target:j,transform:this.that.__zoom,dispatch:v}),oe)}};function H(I,...oe){if(!n.apply(this,arguments))return;var B=$(this,oe).event(I),ee=this.__zoom,K=Math.max(g[0],Math.min(g[1],ee.k*Math.pow(2,c.apply(this,arguments)))),O=bi(I);if(B.wheel)(B.mouse[0][0]!==O[0]||B.mouse[0][1]!==O[1])&&(B.mouse[1]=ee.invert(B.mouse[0]=O)),clearTimeout(B.wheel);else{if(ee.k===K)return;B.mouse=[O,ee.invert(O)],Nh(this),B.start()}df(I),B.wheel=setTimeout(W,U),B.zoom("mouse",s(P(E(ee,K),B.mouse[0],B.mouse[1]),B.extent,p));function W(){B.wheel=null,B.end()}}function q(I,...oe){if(T||!n.apply(this,arguments))return;var B=I.currentTarget,ee=$(this,oe,!0).event(I),K=ti(I.view).on("mousemove.zoom",Q,!0).on("mouseup.zoom",ge,!0),O=bi(I,B),W=I.clientX,D=I.clientY;ay(I.view),ig(I),ee.mouse=[O,this.__zoom.invert(O)],Nh(this),ee.start();function Q(me){if(df(me),!ee.moved){var ve=me.clientX-W,ke=me.clientY-D;ee.moved=ve*ve+ke*ke>F}ee.event(me).zoom("mouse",s(P(ee.that.__zoom,ee.mouse[0]=bi(me,B),ee.mouse[1]),ee.extent,p))}function ge(me){K.on("mousemove.zoom mouseup.zoom",null),uy(me.view,ee.moved),df(me),ee.event(me).end()}}function ie(I,...oe){if(n.apply(this,arguments)){var B=this.__zoom,ee=bi(I.changedTouches?I.changedTouches[0]:I,this),K=B.invert(ee),O=B.k*(I.shiftKey?.5:2),W=s(P(E(B,O),ee,K),l.apply(this,oe),p);df(I),x>0?ti(this).transition().duration(x).call(M,W,ee,I):ti(this).call(j.transform,W,ee,I)}}function Y(I,...oe){if(n.apply(this,arguments)){var B=I.touches,ee=B.length,K=$(this,oe,I.changedTouches.length===ee).event(I),O,W,D,Q;for(ig(I),W=0;W<ee;++W)D=B[W],Q=bi(D,this),Q=[Q,this.__zoom.invert(Q),D.identifier],K.touch0?!K.touch1&&K.touch0[2]!==Q[2]&&(K.touch1=Q,K.taps=0):(K.touch0=Q,O=!0,K.taps=1+!!_);_&&(_=clearTimeout(_)),O&&(K.taps<2&&(S=Q[0],_=setTimeout(function(){_=null},A)),Nh(this),K.start())}}function ne(I,...oe){if(this.__zooming){var B=$(this,oe).event(I),ee=I.changedTouches,K=ee.length,O,W,D,Q;for(df(I),O=0;O<K;++O)W=ee[O],D=bi(W,this),B.touch0&&B.touch0[2]===W.identifier?B.touch0[0]=D:B.touch1&&B.touch1[2]===W.identifier&&(B.touch1[0]=D);if(W=B.that.__zoom,B.touch1){var ge=B.touch0[0],me=B.touch0[1],ve=B.touch1[0],ke=B.touch1[1],Re=(Re=ve[0]-ge[0])*Re+(Re=ve[1]-ge[1])*Re,De=(De=ke[0]-me[0])*De+(De=ke[1]-me[1])*De;W=E(W,Math.sqrt(Re/De)),D=[(ge[0]+ve[0])/2,(ge[1]+ve[1])/2],Q=[(me[0]+ke[0])/2,(me[1]+ke[1])/2]}else if(B.touch0)D=B.touch0[0],Q=B.touch0[1];else return;B.zoom("touch",s(P(W,D,Q),B.extent,p))}}function ae(I,...oe){if(this.__zooming){var B=$(this,oe).event(I),ee=I.changedTouches,K=ee.length,O,W;for(ig(I),T&&clearTimeout(T),T=setTimeout(function(){T=null},A),O=0;O<K;++O)W=ee[O],B.touch0&&B.touch0[2]===W.identifier?delete B.touch0:B.touch1&&B.touch1[2]===W.identifier&&delete B.touch1;if(B.touch1&&!B.touch0&&(B.touch0=B.touch1,delete B.touch1),B.touch0)B.touch0[1]=this.__zoom.invert(B.touch0[0]);else if(B.end(),B.taps===2&&(W=bi(W,this),Math.hypot(S[0]-W[0],S[1]-W[1])<L)){var D=ti(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return j.wheelDelta=function(I){return arguments.length?(c=typeof I=="function"?I:fh(+I),j):c},j.filter=function(I){return arguments.length?(n=typeof I=="function"?I:fh(!!I),j):n},j.touchable=function(I){return arguments.length?(d=typeof I=="function"?I:fh(!!I),j):d},j.extent=function(I){return arguments.length?(l=typeof I=="function"?I:fh([[+I[0][0],+I[0][1]],[+I[1][0],+I[1][1]]]),j):l},j.scaleExtent=function(I){return arguments.length?(g[0]=+I[0],g[1]=+I[1],j):[g[0],g[1]]},j.translateExtent=function(I){return arguments.length?(p[0][0]=+I[0][0],p[1][0]=+I[1][0],p[0][1]=+I[0][1],p[1][1]=+I[1][1],j):[[p[0][0],p[0][1]],[p[1][0],p[1][1]]]},j.constrain=function(I){return arguments.length?(s=I,j):s},j.duration=function(I){return arguments.length?(x=+I,j):x},j.interpolate=function(I){return arguments.length?(w=I,j):w},j.on=function(){var I=v.on.apply(v,arguments);return I===v?j:I},j.clickDistance=function(I){return arguments.length?(F=(I=+I)*I,j):Math.sqrt(F)},j.tapDistance=function(I){return arguments.length?(L=+I,j):L},j}$h();const Bh=G.createContext(null),lN=Bh.Provider,Bs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:n=>`Node type "${n}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:n=>`The old edge with id=${n} does not exist.`,error009:n=>`Marker type "${n}" doesn't exist.`,error008:(n,l)=>`Couldn't create edge for ${n?"target":"source"} handle id: "${n?l.targetHandle:l.sourceHandle}", edge id: ${l.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:n=>`Edge type "${n}" not found. Using fallback type "default".`,error012:n=>`Node with id "${n}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},by=Bs.error001();function It(n,l){const s=G.useContext(Bh);if(s===null)throw new Error(by);return Xm(s,n,l)}const fn=()=>{const n=G.useContext(Bh);if(n===null)throw new Error(by);return G.useMemo(()=>({getState:n.getState,setState:n.setState,subscribe:n.subscribe,destroy:n.destroy}),[n])},aN=n=>n.userSelectionActive?"none":"all";function Hg({position:n,children:l,className:s,style:c,...d}){const g=It(aN),p=`${n}`.split("-");return he.createElement("div",{className:Dn(["react-flow__panel",s,...p]),style:{...c,pointerEvents:g},...d},l)}function uN({proOptions:n,position:l="bottom-right"}){return n!=null&&n.hideAttribution?null:he.createElement(Hg,{position:l,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},he.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const cN=({x:n,y:l,label:s,labelStyle:c={},labelShowBg:d=!0,labelBgStyle:g={},labelBgPadding:p=[2,4],labelBgBorderRadius:x=2,children:w,className:v,..._})=>{const S=G.useRef(null),[T,A]=G.useState({x:0,y:0,width:0,height:0}),U=Dn(["react-flow__edge-textwrapper",v]);return G.useEffect(()=>{if(S.current){const F=S.current.getBBox();A({x:F.x,y:F.y,width:F.width,height:F.height})}},[s]),typeof s>"u"||!s?null:he.createElement("g",{transform:`translate(${n-T.width/2} ${l-T.height/2})`,className:U,visibility:T.width?"visible":"hidden",..._},d&&he.createElement("rect",{width:T.width+2*p[0],x:-p[0],y:-p[1],height:T.height+2*p[1],className:"react-flow__edge-textbg",style:g,rx:x,ry:x}),he.createElement("text",{className:"react-flow__edge-text",y:T.height/2,dy:"0.3em",ref:S,style:c},s),w)};var fN=G.memo(cN);const Ug=n=>({width:n.offsetWidth,height:n.offsetHeight}),Lu=(n,l=0,s=1)=>Math.min(Math.max(n,l),s),Bg=(n={x:0,y:0},l)=>({x:Lu(n.x,l[0][0],l[1][0]),y:Lu(n.y,l[0][1],l[1][1])}),nm=(n,l,s)=>n<l?Lu(Math.abs(n-l),1,50)/50:n>s?-Lu(Math.abs(n-s),1,50)/50:0,Ey=(n,l)=>{const s=nm(n.x,35,l.width-35)*20,c=nm(n.y,35,l.height-35)*20;return[s,c]},Cy=n=>{var l;return((l=n.getRootNode)==null?void 0:l.call(n))||(window==null?void 0:window.document)},ky=(n,l)=>({x:Math.min(n.x,l.x),y:Math.min(n.y,l.y),x2:Math.max(n.x2,l.x2),y2:Math.max(n.y2,l.y2)}),Af=({x:n,y:l,width:s,height:c})=>({x:n,y:l,x2:n+s,y2:l+c}),jy=({x:n,y:l,x2:s,y2:c})=>({x:n,y:l,width:s-n,height:c-l}),rm=n=>({...n.positionAbsolute||{x:0,y:0},width:n.width||0,height:n.height||0}),dN=(n,l)=>jy(ky(Af(n),Af(l))),Eg=(n,l)=>{const s=Math.max(0,Math.min(n.x+n.width,l.x+l.width)-Math.max(n.x,l.x)),c=Math.max(0,Math.min(n.y+n.height,l.y+l.height)-Math.max(n.y,l.y));return Math.ceil(s*c)},hN=n=>ni(n.width)&&ni(n.height)&&ni(n.x)&&ni(n.y),ni=n=>!isNaN(n)&&isFinite(n),Xt=Symbol.for("internals"),Ty=["Enter"," ","Escape"],pN=(n,l)=>{},gN=n=>"nativeEvent"in n;function Cg(n){var d,g;const l=gN(n)?n.nativeEvent:n,s=((g=(d=l.composedPath)==null?void 0:d.call(l))==null?void 0:g[0])||n.target;return["INPUT","SELECT","TEXTAREA"].includes(s==null?void 0:s.nodeName)||(s==null?void 0:s.hasAttribute("contenteditable"))||!!(s!=null&&s.closest(".nokey"))}const Py=n=>"clientX"in n,$o=(n,l)=>{var g,p;const s=Py(n),c=s?n.clientX:(g=n.touches)==null?void 0:g[0].clientX,d=s?n.clientY:(p=n.touches)==null?void 0:p[0].clientY;return{x:c-((l==null?void 0:l.left)??0),y:d-((l==null?void 0:l.top)??0)}},Mh=()=>{var n;return typeof navigator<"u"&&((n=navigator==null?void 0:navigator.userAgent)==null?void 0:n.indexOf("Mac"))>=0},If=({id:n,path:l,labelX:s,labelY:c,label:d,labelStyle:g,labelShowBg:p,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:v,style:_,markerEnd:S,markerStart:T,interactionWidth:A=20})=>he.createElement(he.Fragment,null,he.createElement("path",{id:n,style:_,d:l,fill:"none",className:"react-flow__edge-path",markerEnd:S,markerStart:T}),A&&he.createElement("path",{d:l,fill:"none",strokeOpacity:0,strokeWidth:A,className:"react-flow__edge-interaction"}),d&&ni(s)&&ni(c)?he.createElement(fN,{x:s,y:c,label:d,labelStyle:g,labelShowBg:p,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:v}):null);If.displayName="BaseEdge";function hf(n,l,s){return s===void 0?s:c=>{const d=l().edges.find(g=>g.id===n);d&&s(c,{...d})}}function Ry({sourceX:n,sourceY:l,targetX:s,targetY:c}){const d=Math.abs(s-n)/2,g=s<n?s+d:s-d,p=Math.abs(c-l)/2,x=c<l?c+p:c-p;return[g,x,d,p]}function Ay({sourceX:n,sourceY:l,targetX:s,targetY:c,sourceControlX:d,sourceControlY:g,targetControlX:p,targetControlY:x}){const w=n*.125+d*.375+p*.375+s*.125,v=l*.125+g*.375+x*.375+c*.125,_=Math.abs(w-n),S=Math.abs(v-l);return[w,v,_,S]}var ql;(function(n){n.Strict="strict",n.Loose="loose"})(ql||(ql={}));var Ul;(function(n){n.Free="free",n.Vertical="vertical",n.Horizontal="horizontal"})(Ul||(Ul={}));var Df;(function(n){n.Partial="partial",n.Full="full"})(Df||(Df={}));var Io;(function(n){n.Bezier="default",n.Straight="straight",n.Step="step",n.SmoothStep="smoothstep",n.SimpleBezier="simplebezier"})(Io||(Io={}));var zh;(function(n){n.Arrow="arrow",n.ArrowClosed="arrowclosed"})(zh||(zh={}));var Ve;(function(n){n.Left="left",n.Top="top",n.Right="right",n.Bottom="bottom"})(Ve||(Ve={}));function im({pos:n,x1:l,y1:s,x2:c,y2:d}){return n===Ve.Left||n===Ve.Right?[.5*(l+c),s]:[l,.5*(s+d)]}function Dy({sourceX:n,sourceY:l,sourcePosition:s=Ve.Bottom,targetX:c,targetY:d,targetPosition:g=Ve.Top}){const[p,x]=im({pos:s,x1:n,y1:l,x2:c,y2:d}),[w,v]=im({pos:g,x1:c,y1:d,x2:n,y2:l}),[_,S,T,A]=Ay({sourceX:n,sourceY:l,targetX:c,targetY:d,sourceControlX:p,sourceControlY:x,targetControlX:w,targetControlY:v});return[`M${n},${l} C${p},${x} ${w},${v} ${c},${d}`,_,S,T,A]}const Wg=G.memo(({sourceX:n,sourceY:l,targetX:s,targetY:c,sourcePosition:d=Ve.Bottom,targetPosition:g=Ve.Top,label:p,labelStyle:x,labelShowBg:w,labelBgStyle:v,labelBgPadding:_,labelBgBorderRadius:S,style:T,markerEnd:A,markerStart:U,interactionWidth:F})=>{const[L,j,E]=Dy({sourceX:n,sourceY:l,sourcePosition:d,targetX:s,targetY:c,targetPosition:g});return he.createElement(If,{path:L,labelX:j,labelY:E,label:p,labelStyle:x,labelShowBg:w,labelBgStyle:v,labelBgPadding:_,labelBgBorderRadius:S,style:T,markerEnd:A,markerStart:U,interactionWidth:F})});Wg.displayName="SimpleBezierEdge";const sm={[Ve.Left]:{x:-1,y:0},[Ve.Right]:{x:1,y:0},[Ve.Top]:{x:0,y:-1},[Ve.Bottom]:{x:0,y:1}},mN=({source:n,sourcePosition:l=Ve.Bottom,target:s})=>l===Ve.Left||l===Ve.Right?n.x<s.x?{x:1,y:0}:{x:-1,y:0}:n.y<s.y?{x:0,y:1}:{x:0,y:-1},om=(n,l)=>Math.sqrt(Math.pow(l.x-n.x,2)+Math.pow(l.y-n.y,2));function yN({source:n,sourcePosition:l=Ve.Bottom,target:s,targetPosition:c=Ve.Top,center:d,offset:g}){const p=sm[l],x=sm[c],w={x:n.x+p.x*g,y:n.y+p.y*g},v={x:s.x+x.x*g,y:s.y+x.y*g},_=mN({source:w,sourcePosition:l,target:v}),S=_.x!==0?"x":"y",T=_[S];let A=[],U,F;const L={x:0,y:0},j={x:0,y:0},[E,P,k,M]=Ry({sourceX:n.x,sourceY:n.y,targetX:s.x,targetY:s.y});if(p[S]*x[S]===-1){U=d.x??E,F=d.y??P;const b=[{x:U,y:w.y},{x:U,y:v.y}],H=[{x:w.x,y:F},{x:v.x,y:F}];p[S]===T?A=S==="x"?b:H:A=S==="x"?H:b}else{const b=[{x:w.x,y:v.y}],H=[{x:v.x,y:w.y}];if(S==="x"?A=p.x===T?H:b:A=p.y===T?b:H,l===c){const ae=Math.abs(n[S]-s[S]);if(ae<=g){const I=Math.min(g-1,g-ae);p[S]===T?L[S]=(w[S]>n[S]?-1:1)*I:j[S]=(v[S]>s[S]?-1:1)*I}}if(l!==c){const ae=S==="x"?"y":"x",I=p[S]===x[ae],oe=w[ae]>v[ae],B=w[ae]<v[ae];(p[S]===1&&(!I&&oe||I&&B)||p[S]!==1&&(!I&&B||I&&oe))&&(A=S==="x"?b:H)}const q={x:w.x+L.x,y:w.y+L.y},ie={x:v.x+j.x,y:v.y+j.y},Y=Math.max(Math.abs(q.x-A[0].x),Math.abs(ie.x-A[0].x)),ne=Math.max(Math.abs(q.y-A[0].y),Math.abs(ie.y-A[0].y));Y>=ne?(U=(q.x+ie.x)/2,F=A[0].y):(U=A[0].x,F=(q.y+ie.y)/2)}return[[n,{x:w.x+L.x,y:w.y+L.y},...A,{x:v.x+j.x,y:v.y+j.y},s],U,F,k,M]}function xN(n,l,s,c){const d=Math.min(om(n,l)/2,om(l,s)/2,c),{x:g,y:p}=l;if(n.x===g&&g===s.x||n.y===p&&p===s.y)return`L${g} ${p}`;if(n.y===p){const v=n.x<s.x?-1:1,_=n.y<s.y?1:-1;return`L ${g+d*v},${p}Q ${g},${p} ${g},${p+d*_}`}const x=n.x<s.x?1:-1,w=n.y<s.y?-1:1;return`L ${g},${p+d*w}Q ${g},${p} ${g+d*x},${p}`}function kg({sourceX:n,sourceY:l,sourcePosition:s=Ve.Bottom,targetX:c,targetY:d,targetPosition:g=Ve.Top,borderRadius:p=5,centerX:x,centerY:w,offset:v=20}){const[_,S,T,A,U]=yN({source:{x:n,y:l},sourcePosition:s,target:{x:c,y:d},targetPosition:g,center:{x,y:w},offset:v});return[_.reduce((L,j,E)=>{let P="";return E>0&&E<_.length-1?P=xN(_[E-1],j,_[E+1],p):P=`${E===0?"M":"L"}${j.x} ${j.y}`,L+=P,L},""),S,T,A,U]}const Wh=G.memo(({sourceX:n,sourceY:l,targetX:s,targetY:c,label:d,labelStyle:g,labelShowBg:p,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:v,style:_,sourcePosition:S=Ve.Bottom,targetPosition:T=Ve.Top,markerEnd:A,markerStart:U,pathOptions:F,interactionWidth:L})=>{const[j,E,P]=kg({sourceX:n,sourceY:l,sourcePosition:S,targetX:s,targetY:c,targetPosition:T,borderRadius:F==null?void 0:F.borderRadius,offset:F==null?void 0:F.offset});return he.createElement(If,{path:j,labelX:E,labelY:P,label:d,labelStyle:g,labelShowBg:p,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:v,style:_,markerEnd:A,markerStart:U,interactionWidth:L})});Wh.displayName="SmoothStepEdge";const Vg=G.memo(n=>{var l;return he.createElement(Wh,{...n,pathOptions:G.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(l=n.pathOptions)==null?void 0:l.offset])})});Vg.displayName="StepEdge";function vN({sourceX:n,sourceY:l,targetX:s,targetY:c}){const[d,g,p,x]=Ry({sourceX:n,sourceY:l,targetX:s,targetY:c});return[`M ${n},${l}L ${s},${c}`,d,g,p,x]}const Yg=G.memo(({sourceX:n,sourceY:l,targetX:s,targetY:c,label:d,labelStyle:g,labelShowBg:p,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:v,style:_,markerEnd:S,markerStart:T,interactionWidth:A})=>{const[U,F,L]=vN({sourceX:n,sourceY:l,targetX:s,targetY:c});return he.createElement(If,{path:U,labelX:F,labelY:L,label:d,labelStyle:g,labelShowBg:p,labelBgStyle:x,labelBgPadding:w,labelBgBorderRadius:v,style:_,markerEnd:S,markerStart:T,interactionWidth:A})});Yg.displayName="StraightEdge";function dh(n,l){return n>=0?.5*n:l*25*Math.sqrt(-n)}function lm({pos:n,x1:l,y1:s,x2:c,y2:d,c:g}){switch(n){case Ve.Left:return[l-dh(l-c,g),s];case Ve.Right:return[l+dh(c-l,g),s];case Ve.Top:return[l,s-dh(s-d,g)];case Ve.Bottom:return[l,s+dh(d-s,g)]}}function qg({sourceX:n,sourceY:l,sourcePosition:s=Ve.Bottom,targetX:c,targetY:d,targetPosition:g=Ve.Top,curvature:p=.25}){const[x,w]=lm({pos:s,x1:n,y1:l,x2:c,y2:d,c:p}),[v,_]=lm({pos:g,x1:c,y1:d,x2:n,y2:l,c:p}),[S,T,A,U]=Ay({sourceX:n,sourceY:l,targetX:c,targetY:d,sourceControlX:x,sourceControlY:w,targetControlX:v,targetControlY:_});return[`M${n},${l} C${x},${w} ${v},${_} ${c},${d}`,S,T,A,U]}const Oh=G.memo(({sourceX:n,sourceY:l,targetX:s,targetY:c,sourcePosition:d=Ve.Bottom,targetPosition:g=Ve.Top,label:p,labelStyle:x,labelShowBg:w,labelBgStyle:v,labelBgPadding:_,labelBgBorderRadius:S,style:T,markerEnd:A,markerStart:U,pathOptions:F,interactionWidth:L})=>{const[j,E,P]=qg({sourceX:n,sourceY:l,sourcePosition:d,targetX:s,targetY:c,targetPosition:g,curvature:F==null?void 0:F.curvature});return he.createElement(If,{path:j,labelX:E,labelY:P,label:p,labelStyle:x,labelShowBg:w,labelBgStyle:v,labelBgPadding:_,labelBgBorderRadius:S,style:T,markerEnd:A,markerStart:U,interactionWidth:L})});Oh.displayName="BezierEdge";const Gg=G.createContext(null),wN=Gg.Provider;Gg.Consumer;const _N=()=>G.useContext(Gg),SN=n=>"id"in n&&"source"in n&&"target"in n,NN=({source:n,sourceHandle:l,target:s,targetHandle:c})=>`reactflow__edge-${n}${l||""}-${s}${c||""}`,jg=(n,l)=>typeof n>"u"?"":typeof n=="string"?n:`${l?`${l}__`:""}${Object.keys(n).sort().map(c=>`${c}=${n[c]}`).join("&")}`,bN=(n,l)=>l.some(s=>s.source===n.source&&s.target===n.target&&(s.sourceHandle===n.sourceHandle||!s.sourceHandle&&!n.sourceHandle)&&(s.targetHandle===n.targetHandle||!s.targetHandle&&!n.targetHandle)),EN=(n,l)=>{if(!n.source||!n.target)return l;let s;return SN(n)?s={...n}:s={...n,id:NN(n)},bN(s,l)?l:l.concat(s)},Tg=({x:n,y:l},[s,c,d],g,[p,x])=>{const w={x:(n-s)/d,y:(l-c)/d};return g?{x:p*Math.round(w.x/p),y:x*Math.round(w.y/x)}:w},My=({x:n,y:l},[s,c,d])=>({x:n*d+s,y:l*d+c}),Wl=(n,l=[0,0])=>{if(!n)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const s=(n.width??0)*l[0],c=(n.height??0)*l[1],d={x:n.position.x-s,y:n.position.y-c};return{...d,positionAbsolute:n.positionAbsolute?{x:n.positionAbsolute.x-s,y:n.positionAbsolute.y-c}:d}},Vh=(n,l=[0,0])=>{if(n.length===0)return{x:0,y:0,width:0,height:0};const s=n.reduce((c,d)=>{const{x:g,y:p}=Wl(d,l).positionAbsolute;return ky(c,Af({x:g,y:p,width:d.width||0,height:d.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return jy(s)},zy=(n,l,[s,c,d]=[0,0,1],g=!1,p=!1,x=[0,0])=>{const w={x:(l.x-s)/d,y:(l.y-c)/d,width:l.width/d,height:l.height/d},v=[];return n.forEach(_=>{const{width:S,height:T,selectable:A=!0,hidden:U=!1}=_;if(p&&!A||U)return!1;const{positionAbsolute:F}=Wl(_,x),L={x:F.x,y:F.y,width:S||0,height:T||0},j=Eg(w,L),E=typeof S>"u"||typeof T>"u"||S===null||T===null,P=g&&j>0,k=(S||0)*(T||0);(E||P||j>=k||_.dragging)&&v.push(_)}),v},Oy=(n,l)=>{const s=n.map(c=>c.id);return l.filter(c=>s.includes(c.source)||s.includes(c.target))},Iy=(n,l,s,c,d,g=.1)=>{const p=l/(n.width*(1+g)),x=s/(n.height*(1+g)),w=Math.min(p,x),v=Lu(w,c,d),_=n.x+n.width/2,S=n.y+n.height/2,T=l/2-_*v,A=s/2-S*v;return{x:T,y:A,zoom:v}},Fl=(n,l=0)=>n.transition().duration(l);function am(n,l,s,c){return(l[s]||[]).reduce((d,g)=>{var p,x;return`${n.id}-${g.id}-${s}`!==c&&d.push({id:g.id||null,type:s,nodeId:n.id,x:(((p=n.positionAbsolute)==null?void 0:p.x)??0)+g.x+g.width/2,y:(((x=n.positionAbsolute)==null?void 0:x.y)??0)+g.y+g.height/2}),d},[])}function CN(n,l,s,c,d,g){const{x:p,y:x}=$o(n),v=l.elementsFromPoint(p,x).find(U=>U.classList.contains("react-flow__handle"));if(v){const U=v.getAttribute("data-nodeid");if(U){const F=Xg(void 0,v),L=v.getAttribute("data-handleid"),j=g({nodeId:U,id:L,type:F});if(j){const E=d.find(P=>P.nodeId===U&&P.type===F&&P.id===L);return{handle:{id:L,type:F,nodeId:U,x:(E==null?void 0:E.x)||s.x,y:(E==null?void 0:E.y)||s.y},validHandleResult:j}}}}let _=[],S=1/0;if(d.forEach(U=>{const F=Math.sqrt((U.x-s.x)**2+(U.y-s.y)**2);if(F<=c){const L=g(U);F<=S&&(F<S?_=[{handle:U,validHandleResult:L}]:F===S&&_.push({handle:U,validHandleResult:L}),S=F)}}),!_.length)return{handle:null,validHandleResult:$y()};if(_.length===1)return _[0];const T=_.some(({validHandleResult:U})=>U.isValid),A=_.some(({handle:U})=>U.type==="target");return _.find(({handle:U,validHandleResult:F})=>A?U.type==="target":T?F.isValid:!0)||_[0]}const kN={source:null,target:null,sourceHandle:null,targetHandle:null},$y=()=>({handleDomNode:null,isValid:!1,connection:kN,endHandle:null});function Ly(n,l,s,c,d,g,p){const x=d==="target",w=p.querySelector(`.react-flow__handle[data-id="${n==null?void 0:n.nodeId}-${n==null?void 0:n.id}-${n==null?void 0:n.type}"]`),v={...$y(),handleDomNode:w};if(w){const _=Xg(void 0,w),S=w.getAttribute("data-nodeid"),T=w.getAttribute("data-handleid"),A=w.classList.contains("connectable"),U=w.classList.contains("connectableend"),F={source:x?S:s,sourceHandle:x?T:c,target:x?s:S,targetHandle:x?c:T};v.connection=F,A&&U&&(l===ql.Strict?x&&_==="source"||!x&&_==="target":S!==s||T!==c)&&(v.endHandle={nodeId:S,handleId:T,type:_},v.isValid=g(F))}return v}function jN({nodes:n,nodeId:l,handleId:s,handleType:c}){return n.reduce((d,g)=>{if(g[Xt]){const{handleBounds:p}=g[Xt];let x=[],w=[];p&&(x=am(g,p,"source",`${l}-${s}-${c}`),w=am(g,p,"target",`${l}-${s}-${c}`)),d.push(...x,...w)}return d},[])}function Xg(n,l){return n||(l!=null&&l.classList.contains("target")?"target":l!=null&&l.classList.contains("source")?"source":null)}function sg(n){n==null||n.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function TN(n,l){let s=null;return l?s="valid":n&&!l&&(s="invalid"),s}function Fy({event:n,handleId:l,nodeId:s,onConnect:c,isTarget:d,getState:g,setState:p,isValidConnection:x,edgeUpdaterType:w,onReconnectEnd:v}){const _=Cy(n.target),{connectionMode:S,domNode:T,autoPanOnConnect:A,connectionRadius:U,onConnectStart:F,panBy:L,getNodes:j,cancelConnection:E}=g();let P=0,k;const{x:M,y:$}=$o(n),b=_==null?void 0:_.elementFromPoint(M,$),H=Xg(w,b),q=T==null?void 0:T.getBoundingClientRect();if(!q||!H)return;let ie,Y=$o(n,q),ne=!1,ae=null,I=!1,oe=null;const B=jN({nodes:j(),nodeId:s,handleId:l,handleType:H}),ee=()=>{if(!A)return;const[W,D]=Ey(Y,q);L({x:W,y:D}),P=requestAnimationFrame(ee)};p({connectionPosition:Y,connectionStatus:null,connectionNodeId:s,connectionHandleId:l,connectionHandleType:H,connectionStartHandle:{nodeId:s,handleId:l,type:H},connectionEndHandle:null}),F==null||F(n,{nodeId:s,handleId:l,handleType:H});function K(W){const{transform:D}=g();Y=$o(W,q);const{handle:Q,validHandleResult:ge}=CN(W,_,Tg(Y,D,!1,[1,1]),U,B,me=>Ly(me,S,s,l,d?"target":"source",x,_));if(k=Q,ne||(ee(),ne=!0),oe=ge.handleDomNode,ae=ge.connection,I=ge.isValid,p({connectionPosition:k&&I?My({x:k.x,y:k.y},D):Y,connectionStatus:TN(!!k,I),connectionEndHandle:ge.endHandle}),!k&&!I&&!oe)return sg(ie);ae.source!==ae.target&&oe&&(sg(ie),ie=oe,oe.classList.add("connecting","react-flow__handle-connecting"),oe.classList.toggle("valid",I),oe.classList.toggle("react-flow__handle-valid",I))}function O(W){var D,Q;(k||oe)&&ae&&I&&(c==null||c(ae)),(Q=(D=g()).onConnectEnd)==null||Q.call(D,W),w&&(v==null||v(W)),sg(ie),E(),cancelAnimationFrame(P),ne=!1,I=!1,ae=null,oe=null,_.removeEventListener("mousemove",K),_.removeEventListener("mouseup",O),_.removeEventListener("touchmove",K),_.removeEventListener("touchend",O)}_.addEventListener("mousemove",K),_.addEventListener("mouseup",O),_.addEventListener("touchmove",K),_.addEventListener("touchend",O)}const um=()=>!0,PN=n=>({connectionStartHandle:n.connectionStartHandle,connectOnClick:n.connectOnClick,noPanClassName:n.noPanClassName}),RN=(n,l,s)=>c=>{const{connectionStartHandle:d,connectionEndHandle:g,connectionClickStartHandle:p}=c;return{connecting:(d==null?void 0:d.nodeId)===n&&(d==null?void 0:d.handleId)===l&&(d==null?void 0:d.type)===s||(g==null?void 0:g.nodeId)===n&&(g==null?void 0:g.handleId)===l&&(g==null?void 0:g.type)===s,clickConnecting:(p==null?void 0:p.nodeId)===n&&(p==null?void 0:p.handleId)===l&&(p==null?void 0:p.type)===s}},Hy=G.forwardRef(({type:n="source",position:l=Ve.Top,isValidConnection:s,isConnectable:c=!0,isConnectableStart:d=!0,isConnectableEnd:g=!0,id:p,onConnect:x,children:w,className:v,onMouseDown:_,onTouchStart:S,...T},A)=>{var q,ie;const U=p||null,F=n==="target",L=fn(),j=_N(),{connectOnClick:E,noPanClassName:P}=It(PN,Sn),{connecting:k,clickConnecting:M}=It(RN(j,U,n),Sn);j||(ie=(q=L.getState()).onError)==null||ie.call(q,"010",Bs.error010());const $=Y=>{const{defaultEdgeOptions:ne,onConnect:ae,hasDefaultEdges:I}=L.getState(),oe={...ne,...Y};if(I){const{edges:B,setEdges:ee}=L.getState();ee(EN(oe,B))}ae==null||ae(oe),x==null||x(oe)},b=Y=>{if(!j)return;const ne=Py(Y);d&&(ne&&Y.button===0||!ne)&&Fy({event:Y,handleId:U,nodeId:j,onConnect:$,isTarget:F,getState:L.getState,setState:L.setState,isValidConnection:s||L.getState().isValidConnection||um}),ne?_==null||_(Y):S==null||S(Y)},H=Y=>{const{onClickConnectStart:ne,onClickConnectEnd:ae,connectionClickStartHandle:I,connectionMode:oe,isValidConnection:B}=L.getState();if(!j||!I&&!d)return;if(!I){ne==null||ne(Y,{nodeId:j,handleId:U,handleType:n}),L.setState({connectionClickStartHandle:{nodeId:j,type:n,handleId:U}});return}const ee=Cy(Y.target),K=s||B||um,{connection:O,isValid:W}=Ly({nodeId:j,id:U,type:n},oe,I.nodeId,I.handleId||null,I.type,K,ee);W&&$(O),ae==null||ae(Y),L.setState({connectionClickStartHandle:null})};return he.createElement("div",{"data-handleid":U,"data-nodeid":j,"data-handlepos":l,"data-id":`${j}-${U}-${n}`,className:Dn(["react-flow__handle",`react-flow__handle-${l}`,"nodrag",P,v,{source:!F,target:F,connectable:c,connectablestart:d,connectableend:g,connecting:M,connectionindicator:c&&(d&&!k||g&&k)}]),onMouseDown:b,onTouchStart:b,onClick:E?H:void 0,ref:A,...T},w)});Hy.displayName="Handle";var Ih=G.memo(Hy);const Uy=({data:n,isConnectable:l,targetPosition:s=Ve.Top,sourcePosition:c=Ve.Bottom})=>he.createElement(he.Fragment,null,he.createElement(Ih,{type:"target",position:s,isConnectable:l}),n==null?void 0:n.label,he.createElement(Ih,{type:"source",position:c,isConnectable:l}));Uy.displayName="DefaultNode";var Pg=G.memo(Uy);const By=({data:n,isConnectable:l,sourcePosition:s=Ve.Bottom})=>he.createElement(he.Fragment,null,n==null?void 0:n.label,he.createElement(Ih,{type:"source",position:s,isConnectable:l}));By.displayName="InputNode";var Wy=G.memo(By);const Vy=({data:n,isConnectable:l,targetPosition:s=Ve.Top})=>he.createElement(he.Fragment,null,he.createElement(Ih,{type:"target",position:s,isConnectable:l}),n==null?void 0:n.label);Vy.displayName="OutputNode";var Yy=G.memo(Vy);const Kg=()=>null;Kg.displayName="GroupNode";const AN=n=>({selectedNodes:n.getNodes().filter(l=>l.selected),selectedEdges:n.edges.filter(l=>l.selected).map(l=>({...l}))}),hh=n=>n.id;function DN(n,l){return Sn(n.selectedNodes.map(hh),l.selectedNodes.map(hh))&&Sn(n.selectedEdges.map(hh),l.selectedEdges.map(hh))}const qy=G.memo(({onSelectionChange:n})=>{const l=fn(),{selectedNodes:s,selectedEdges:c}=It(AN,DN);return G.useEffect(()=>{const d={nodes:s,edges:c};n==null||n(d),l.getState().onSelectionChange.forEach(g=>g(d))},[s,c,n]),null});qy.displayName="SelectionListener";const MN=n=>!!n.onSelectionChange;function zN({onSelectionChange:n}){const l=It(MN);return n||l?he.createElement(qy,{onSelectionChange:n}):null}const ON=n=>({setNodes:n.setNodes,setEdges:n.setEdges,setDefaultNodesAndEdges:n.setDefaultNodesAndEdges,setMinZoom:n.setMinZoom,setMaxZoom:n.setMaxZoom,setTranslateExtent:n.setTranslateExtent,setNodeExtent:n.setNodeExtent,reset:n.reset});function ju(n,l){G.useEffect(()=>{typeof n<"u"&&l(n)},[n])}function ot(n,l,s){G.useEffect(()=>{typeof l<"u"&&s({[n]:l})},[l])}const IN=({nodes:n,edges:l,defaultNodes:s,defaultEdges:c,onConnect:d,onConnectStart:g,onConnectEnd:p,onClickConnectStart:x,onClickConnectEnd:w,nodesDraggable:v,nodesConnectable:_,nodesFocusable:S,edgesFocusable:T,edgesUpdatable:A,elevateNodesOnSelect:U,minZoom:F,maxZoom:L,nodeExtent:j,onNodesChange:E,onEdgesChange:P,elementsSelectable:k,connectionMode:M,snapGrid:$,snapToGrid:b,translateExtent:H,connectOnClick:q,defaultEdgeOptions:ie,fitView:Y,fitViewOptions:ne,onNodesDelete:ae,onEdgesDelete:I,onNodeDrag:oe,onNodeDragStart:B,onNodeDragStop:ee,onSelectionDrag:K,onSelectionDragStart:O,onSelectionDragStop:W,noPanClassName:D,nodeOrigin:Q,rfId:ge,autoPanOnConnect:me,autoPanOnNodeDrag:ve,onError:ke,connectionRadius:Re,isValidConnection:De,nodeDragThreshold:Me})=>{const{setNodes:Be,setEdges:xt,setDefaultNodesAndEdges:vt,setMinZoom:bt,setMaxZoom:it,setTranslateExtent:at,setNodeExtent:Wt,reset:Ze}=It(ON,Sn),Oe=fn();return G.useEffect(()=>{const Et=c==null?void 0:c.map(Tt=>({...Tt,...ie}));return vt(s,Et),()=>{Ze()}},[]),ot("defaultEdgeOptions",ie,Oe.setState),ot("connectionMode",M,Oe.setState),ot("onConnect",d,Oe.setState),ot("onConnectStart",g,Oe.setState),ot("onConnectEnd",p,Oe.setState),ot("onClickConnectStart",x,Oe.setState),ot("onClickConnectEnd",w,Oe.setState),ot("nodesDraggable",v,Oe.setState),ot("nodesConnectable",_,Oe.setState),ot("nodesFocusable",S,Oe.setState),ot("edgesFocusable",T,Oe.setState),ot("edgesUpdatable",A,Oe.setState),ot("elementsSelectable",k,Oe.setState),ot("elevateNodesOnSelect",U,Oe.setState),ot("snapToGrid",b,Oe.setState),ot("snapGrid",$,Oe.setState),ot("onNodesChange",E,Oe.setState),ot("onEdgesChange",P,Oe.setState),ot("connectOnClick",q,Oe.setState),ot("fitViewOnInit",Y,Oe.setState),ot("fitViewOnInitOptions",ne,Oe.setState),ot("onNodesDelete",ae,Oe.setState),ot("onEdgesDelete",I,Oe.setState),ot("onNodeDrag",oe,Oe.setState),ot("onNodeDragStart",B,Oe.setState),ot("onNodeDragStop",ee,Oe.setState),ot("onSelectionDrag",K,Oe.setState),ot("onSelectionDragStart",O,Oe.setState),ot("onSelectionDragStop",W,Oe.setState),ot("noPanClassName",D,Oe.setState),ot("nodeOrigin",Q,Oe.setState),ot("rfId",ge,Oe.setState),ot("autoPanOnConnect",me,Oe.setState),ot("autoPanOnNodeDrag",ve,Oe.setState),ot("onError",ke,Oe.setState),ot("connectionRadius",Re,Oe.setState),ot("isValidConnection",De,Oe.setState),ot("nodeDragThreshold",Me,Oe.setState),ju(n,Be),ju(l,xt),ju(F,bt),ju(L,it),ju(H,at),ju(j,Wt),null},cm={display:"none"},$N={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Gy="react-flow__node-desc",Xy="react-flow__edge-desc",LN="react-flow__aria-live",FN=n=>n.ariaLiveMessage;function HN({rfId:n}){const l=It(FN);return he.createElement("div",{id:`${LN}-${n}`,"aria-live":"assertive","aria-atomic":"true",style:$N},l)}function UN({rfId:n,disableKeyboardA11y:l}){return he.createElement(he.Fragment,null,he.createElement("div",{id:`${Gy}-${n}`,style:cm},"Press enter or space to select a node.",!l&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),he.createElement("div",{id:`${Xy}-${n}`,style:cm},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!l&&he.createElement(HN,{rfId:n}))}var Mf=(n=null,l={actInsideInputWithModifier:!0})=>{const[s,c]=G.useState(!1),d=G.useRef(!1),g=G.useRef(new Set([])),[p,x]=G.useMemo(()=>{if(n!==null){const v=(Array.isArray(n)?n:[n]).filter(S=>typeof S=="string").map(S=>S.split("+")),_=v.reduce((S,T)=>S.concat(...T),[]);return[v,_]}return[[],[]]},[n]);return G.useEffect(()=>{const w=typeof document<"u"?document:null,v=(l==null?void 0:l.target)||w;if(n!==null){const _=A=>{if(d.current=A.ctrlKey||A.metaKey||A.shiftKey,(!d.current||d.current&&!l.actInsideInputWithModifier)&&Cg(A))return!1;const F=dm(A.code,x);g.current.add(A[F]),fm(p,g.current,!1)&&(A.preventDefault(),c(!0))},S=A=>{if((!d.current||d.current&&!l.actInsideInputWithModifier)&&Cg(A))return!1;const F=dm(A.code,x);fm(p,g.current,!0)?(c(!1),g.current.clear()):g.current.delete(A[F]),A.key==="Meta"&&g.current.clear(),d.current=!1},T=()=>{g.current.clear(),c(!1)};return v==null||v.addEventListener("keydown",_),v==null||v.addEventListener("keyup",S),window.addEventListener("blur",T),()=>{v==null||v.removeEventListener("keydown",_),v==null||v.removeEventListener("keyup",S),window.removeEventListener("blur",T)}}},[n,c]),s};function fm(n,l,s){return n.filter(c=>s||c.length===l.size).some(c=>c.every(d=>l.has(d)))}function dm(n,l){return l.includes(n)?"code":"key"}function Ky(n,l,s,c){var x,w;const d=n.parentNode||n.parentId;if(!d)return s;const g=l.get(d),p=Wl(g,c);return Ky(g,l,{x:(s.x??0)+p.x,y:(s.y??0)+p.y,z:(((x=g[Xt])==null?void 0:x.z)??0)>(s.z??0)?((w=g[Xt])==null?void 0:w.z)??0:s.z??0},c)}function Qy(n,l,s){n.forEach(c=>{var g;const d=c.parentNode||c.parentId;if(d&&!n.has(d))throw new Error(`Parent node ${d} not found`);if(d||s!=null&&s[c.id]){const{x:p,y:x,z:w}=Ky(c,n,{...c.position,z:((g=c[Xt])==null?void 0:g.z)??0},l);c.positionAbsolute={x:p,y:x},c[Xt].z=w,s!=null&&s[c.id]&&(c[Xt].isParent=!0)}})}function og(n,l,s,c){const d=new Map,g={},p=c?1e3:0;return n.forEach(x=>{var A;const w=(ni(x.zIndex)?x.zIndex:0)+(x.selected?p:0),v=l.get(x.id),_={...x,positionAbsolute:{x:x.position.x,y:x.position.y}},S=x.parentNode||x.parentId;S&&(g[S]=!0);const T=(v==null?void 0:v.type)&&(v==null?void 0:v.type)!==x.type;Object.defineProperty(_,Xt,{enumerable:!1,value:{handleBounds:T||(A=v==null?void 0:v[Xt])==null?void 0:A.handleBounds,z:w}}),d.set(x.id,_)}),Qy(d,s,g),d}function Zy(n,l={}){const{getNodes:s,width:c,height:d,minZoom:g,maxZoom:p,d3Zoom:x,d3Selection:w,fitViewOnInitDone:v,fitViewOnInit:_,nodeOrigin:S}=n(),T=l.initial&&!v&&_;if(x&&w&&(T||!l.initial)){const U=s().filter(L=>{var E;const j=l.includeHiddenNodes?L.width&&L.height:!L.hidden;return(E=l.nodes)!=null&&E.length?j&&l.nodes.some(P=>P.id===L.id):j}),F=U.every(L=>L.width&&L.height);if(U.length>0&&F){const L=Vh(U,S),{x:j,y:E,zoom:P}=Iy(L,c,d,l.minZoom??g,l.maxZoom??p,l.padding??.1),k=Hs.translate(j,E).scale(P);return typeof l.duration=="number"&&l.duration>0?x.transform(Fl(w,l.duration),k):x.transform(w,k),!0}}return!1}function BN(n,l){return n.forEach(s=>{const c=l.get(s.id);c&&l.set(c.id,{...c,[Xt]:c[Xt],selected:s.selected})}),new Map(l)}function WN(n,l){return l.map(s=>{const c=n.find(d=>d.id===s.id);return c&&(s.selected=c.selected),s})}function ph({changedNodes:n,changedEdges:l,get:s,set:c}){const{nodeInternals:d,edges:g,onNodesChange:p,onEdgesChange:x,hasDefaultNodes:w,hasDefaultEdges:v}=s();n!=null&&n.length&&(w&&c({nodeInternals:BN(n,d)}),p==null||p(n)),l!=null&&l.length&&(v&&c({edges:WN(l,g)}),x==null||x(l))}const Tu=()=>{},VN={zoomIn:Tu,zoomOut:Tu,zoomTo:Tu,getZoom:()=>1,setViewport:Tu,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Tu,fitBounds:Tu,project:n=>n,screenToFlowPosition:n=>n,flowToScreenPosition:n=>n,viewportInitialized:!1},YN=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection}),qN=()=>{const n=fn(),{d3Zoom:l,d3Selection:s}=It(YN,Sn);return G.useMemo(()=>s&&l?{zoomIn:d=>l.scaleBy(Fl(s,d==null?void 0:d.duration),1.2),zoomOut:d=>l.scaleBy(Fl(s,d==null?void 0:d.duration),1/1.2),zoomTo:(d,g)=>l.scaleTo(Fl(s,g==null?void 0:g.duration),d),getZoom:()=>n.getState().transform[2],setViewport:(d,g)=>{const[p,x,w]=n.getState().transform,v=Hs.translate(d.x??p,d.y??x).scale(d.zoom??w);l.transform(Fl(s,g==null?void 0:g.duration),v)},getViewport:()=>{const[d,g,p]=n.getState().transform;return{x:d,y:g,zoom:p}},fitView:d=>Zy(n.getState,d),setCenter:(d,g,p)=>{const{width:x,height:w,maxZoom:v}=n.getState(),_=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:v,S=x/2-d*_,T=w/2-g*_,A=Hs.translate(S,T).scale(_);l.transform(Fl(s,p==null?void 0:p.duration),A)},fitBounds:(d,g)=>{const{width:p,height:x,minZoom:w,maxZoom:v}=n.getState(),{x:_,y:S,zoom:T}=Iy(d,p,x,w,v,(g==null?void 0:g.padding)??.1),A=Hs.translate(_,S).scale(T);l.transform(Fl(s,g==null?void 0:g.duration),A)},project:d=>{const{transform:g,snapToGrid:p,snapGrid:x}=n.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Tg(d,g,p,x)},screenToFlowPosition:d=>{const{transform:g,snapToGrid:p,snapGrid:x,domNode:w}=n.getState();if(!w)return d;const{x:v,y:_}=w.getBoundingClientRect(),S={x:d.x-v,y:d.y-_};return Tg(S,g,p,x)},flowToScreenPosition:d=>{const{transform:g,domNode:p}=n.getState();if(!p)return d;const{x,y:w}=p.getBoundingClientRect(),v=My(d,g);return{x:v.x+x,y:v.y+w}},viewportInitialized:!0}:VN,[l,s])};function Qg(){const n=qN(),l=fn(),s=G.useCallback(()=>l.getState().getNodes().map(F=>({...F})),[]),c=G.useCallback(F=>l.getState().nodeInternals.get(F),[]),d=G.useCallback(()=>{const{edges:F=[]}=l.getState();return F.map(L=>({...L}))},[]),g=G.useCallback(F=>{const{edges:L=[]}=l.getState();return L.find(j=>j.id===F)},[]),p=G.useCallback(F=>{const{getNodes:L,setNodes:j,hasDefaultNodes:E,onNodesChange:P}=l.getState(),k=L(),M=typeof F=="function"?F(k):F;if(E)j(M);else if(P){const $=M.length===0?k.map(b=>({type:"remove",id:b.id})):M.map(b=>({item:b,type:"reset"}));P($)}},[]),x=G.useCallback(F=>{const{edges:L=[],setEdges:j,hasDefaultEdges:E,onEdgesChange:P}=l.getState(),k=typeof F=="function"?F(L):F;if(E)j(k);else if(P){const M=k.length===0?L.map($=>({type:"remove",id:$.id})):k.map($=>({item:$,type:"reset"}));P(M)}},[]),w=G.useCallback(F=>{const L=Array.isArray(F)?F:[F],{getNodes:j,setNodes:E,hasDefaultNodes:P,onNodesChange:k}=l.getState();if(P){const $=[...j(),...L];E($)}else if(k){const M=L.map($=>({item:$,type:"add"}));k(M)}},[]),v=G.useCallback(F=>{const L=Array.isArray(F)?F:[F],{edges:j=[],setEdges:E,hasDefaultEdges:P,onEdgesChange:k}=l.getState();if(P)E([...j,...L]);else if(k){const M=L.map($=>({item:$,type:"add"}));k(M)}},[]),_=G.useCallback(()=>{const{getNodes:F,edges:L=[],transform:j}=l.getState(),[E,P,k]=j;return{nodes:F().map(M=>({...M})),edges:L.map(M=>({...M})),viewport:{x:E,y:P,zoom:k}}},[]),S=G.useCallback(({nodes:F,edges:L})=>{const{nodeInternals:j,getNodes:E,edges:P,hasDefaultNodes:k,hasDefaultEdges:M,onNodesDelete:$,onEdgesDelete:b,onNodesChange:H,onEdgesChange:q}=l.getState(),ie=(F||[]).map(oe=>oe.id),Y=(L||[]).map(oe=>oe.id),ne=E().reduce((oe,B)=>{const ee=B.parentNode||B.parentId,K=!ie.includes(B.id)&&ee&&oe.find(W=>W.id===ee);return(typeof B.deletable=="boolean"?B.deletable:!0)&&(ie.includes(B.id)||K)&&oe.push(B),oe},[]),ae=P.filter(oe=>typeof oe.deletable=="boolean"?oe.deletable:!0),I=ae.filter(oe=>Y.includes(oe.id));if(ne||I){const oe=Oy(ne,ae),B=[...I,...oe],ee=B.reduce((K,O)=>(K.includes(O.id)||K.push(O.id),K),[]);if((M||k)&&(M&&l.setState({edges:P.filter(K=>!ee.includes(K.id))}),k&&(ne.forEach(K=>{j.delete(K.id)}),l.setState({nodeInternals:new Map(j)}))),ee.length>0&&(b==null||b(B),q&&q(ee.map(K=>({id:K,type:"remove"})))),ne.length>0&&($==null||$(ne),H)){const K=ne.map(O=>({id:O.id,type:"remove"}));H(K)}}},[]),T=G.useCallback(F=>{const L=hN(F),j=L?null:l.getState().nodeInternals.get(F.id);return!L&&!j?[null,null,L]:[L?F:rm(j),j,L]},[]),A=G.useCallback((F,L=!0,j)=>{const[E,P,k]=T(F);return E?(j||l.getState().getNodes()).filter(M=>{if(!k&&(M.id===P.id||!M.positionAbsolute))return!1;const $=rm(M),b=Eg($,E);return L&&b>0||b>=E.width*E.height}):[]},[]),U=G.useCallback((F,L,j=!0)=>{const[E]=T(F);if(!E)return!1;const P=Eg(E,L);return j&&P>0||P>=E.width*E.height},[]);return G.useMemo(()=>({...n,getNodes:s,getNode:c,getEdges:d,getEdge:g,setNodes:p,setEdges:x,addNodes:w,addEdges:v,toObject:_,deleteElements:S,getIntersectingNodes:A,isNodeIntersecting:U}),[n,s,c,d,g,p,x,w,v,_,S,A,U])}const GN={actInsideInputWithModifier:!1};var XN=({deleteKeyCode:n,multiSelectionKeyCode:l})=>{const s=fn(),{deleteElements:c}=Qg(),d=Mf(n,GN),g=Mf(l);G.useEffect(()=>{if(d){const{edges:p,getNodes:x}=s.getState(),w=x().filter(_=>_.selected),v=p.filter(_=>_.selected);c({nodes:w,edges:v}),s.setState({nodesSelectionActive:!1})}},[d]),G.useEffect(()=>{s.setState({multiSelectionActive:g})},[g])};function KN(n){const l=fn();G.useEffect(()=>{let s;const c=()=>{var g,p;if(!n.current)return;const d=Ug(n.current);(d.height===0||d.width===0)&&((p=(g=l.getState()).onError)==null||p.call(g,"004",Bs.error004())),l.setState({width:d.width||500,height:d.height||500})};return c(),window.addEventListener("resize",c),n.current&&(s=new ResizeObserver(()=>c()),s.observe(n.current)),()=>{window.removeEventListener("resize",c),s&&n.current&&s.unobserve(n.current)}},[])}const Zg={position:"absolute",width:"100%",height:"100%",top:0,left:0},QN=(n,l)=>n.x!==l.x||n.y!==l.y||n.zoom!==l.k,gh=n=>({x:n.x,y:n.y,zoom:n.k}),Pu=(n,l)=>n.target.closest(`.${l}`),hm=(n,l)=>l===2&&Array.isArray(n)&&n.includes(2),pm=n=>{const l=n.ctrlKey&&Mh()?10:1;return-n.deltaY*(n.deltaMode===1?.05:n.deltaMode?1:.002)*l},ZN=n=>({d3Zoom:n.d3Zoom,d3Selection:n.d3Selection,d3ZoomHandler:n.d3ZoomHandler,userSelectionActive:n.userSelectionActive}),JN=({onMove:n,onMoveStart:l,onMoveEnd:s,onPaneContextMenu:c,zoomOnScroll:d=!0,zoomOnPinch:g=!0,panOnScroll:p=!1,panOnScrollSpeed:x=.5,panOnScrollMode:w=Ul.Free,zoomOnDoubleClick:v=!0,elementsSelectable:_,panOnDrag:S=!0,defaultViewport:T,translateExtent:A,minZoom:U,maxZoom:F,zoomActivationKeyCode:L,preventScrolling:j=!0,children:E,noWheelClassName:P,noPanClassName:k})=>{const M=G.useRef(),$=fn(),b=G.useRef(!1),H=G.useRef(!1),q=G.useRef(null),ie=G.useRef({x:0,y:0,zoom:0}),{d3Zoom:Y,d3Selection:ne,d3ZoomHandler:ae,userSelectionActive:I}=It(ZN,Sn),oe=Mf(L),B=G.useRef(0),ee=G.useRef(!1),K=G.useRef();return KN(q),G.useEffect(()=>{if(q.current){const O=q.current.getBoundingClientRect(),W=Ny().scaleExtent([U,F]).translateExtent(A),D=ti(q.current).call(W),Q=Hs.translate(T.x,T.y).scale(Lu(T.zoom,U,F)),ge=[[0,0],[O.width,O.height]],me=W.constrain()(Q,ge,A);W.transform(D,me),W.wheelDelta(pm),$.setState({d3Zoom:W,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[me.x,me.y,me.k],domNode:q.current.closest(".react-flow")})}},[]),G.useEffect(()=>{ne&&Y&&(p&&!oe&&!I?ne.on("wheel.zoom",O=>{if(Pu(O,P))return!1;O.preventDefault(),O.stopImmediatePropagation();const W=ne.property("__zoom").k||1;if(O.ctrlKey&&g){const De=bi(O),Me=pm(O),Be=W*Math.pow(2,Me);Y.scaleTo(ne,Be,De,O);return}const D=O.deltaMode===1?20:1;let Q=w===Ul.Vertical?0:O.deltaX*D,ge=w===Ul.Horizontal?0:O.deltaY*D;!Mh()&&O.shiftKey&&w!==Ul.Vertical&&(Q=O.deltaY*D,ge=0),Y.translateBy(ne,-(Q/W)*x,-(ge/W)*x,{internal:!0});const me=gh(ne.property("__zoom")),{onViewportChangeStart:ve,onViewportChange:ke,onViewportChangeEnd:Re}=$.getState();clearTimeout(K.current),ee.current||(ee.current=!0,l==null||l(O,me),ve==null||ve(me)),ee.current&&(n==null||n(O,me),ke==null||ke(me),K.current=setTimeout(()=>{s==null||s(O,me),Re==null||Re(me),ee.current=!1},150))},{passive:!1}):typeof ae<"u"&&ne.on("wheel.zoom",function(O,W){if(!j&&O.type==="wheel"&&!O.ctrlKey||Pu(O,P))return null;O.preventDefault(),ae.call(this,O,W)},{passive:!1}))},[I,p,w,ne,Y,ae,oe,g,j,P,l,n,s]),G.useEffect(()=>{Y&&Y.on("start",O=>{var Q,ge;if(!O.sourceEvent||O.sourceEvent.internal)return null;B.current=(Q=O.sourceEvent)==null?void 0:Q.button;const{onViewportChangeStart:W}=$.getState(),D=gh(O.transform);b.current=!0,ie.current=D,((ge=O.sourceEvent)==null?void 0:ge.type)==="mousedown"&&$.setState({paneDragging:!0}),W==null||W(D),l==null||l(O.sourceEvent,D)})},[Y,l]),G.useEffect(()=>{Y&&(I&&!b.current?Y.on("zoom",null):I||Y.on("zoom",O=>{var D;const{onViewportChange:W}=$.getState();if($.setState({transform:[O.transform.x,O.transform.y,O.transform.k]}),H.current=!!(c&&hm(S,B.current??0)),(n||W)&&!((D=O.sourceEvent)!=null&&D.internal)){const Q=gh(O.transform);W==null||W(Q),n==null||n(O.sourceEvent,Q)}}))},[I,Y,n,S,c]),G.useEffect(()=>{Y&&Y.on("end",O=>{if(!O.sourceEvent||O.sourceEvent.internal)return null;const{onViewportChangeEnd:W}=$.getState();if(b.current=!1,$.setState({paneDragging:!1}),c&&hm(S,B.current??0)&&!H.current&&c(O.sourceEvent),H.current=!1,(s||W)&&QN(ie.current,O.transform)){const D=gh(O.transform);ie.current=D,clearTimeout(M.current),M.current=setTimeout(()=>{W==null||W(D),s==null||s(O.sourceEvent,D)},p?150:0)}})},[Y,p,S,s,c]),G.useEffect(()=>{Y&&Y.filter(O=>{const W=oe||d,D=g&&O.ctrlKey;if((S===!0||Array.isArray(S)&&S.includes(1))&&O.button===1&&O.type==="mousedown"&&(Pu(O,"react-flow__node")||Pu(O,"react-flow__edge")))return!0;if(!S&&!W&&!p&&!v&&!g||I||!v&&O.type==="dblclick"||Pu(O,P)&&O.type==="wheel"||Pu(O,k)&&(O.type!=="wheel"||p&&O.type==="wheel"&&!oe)||!g&&O.ctrlKey&&O.type==="wheel"||!W&&!p&&!D&&O.type==="wheel"||!S&&(O.type==="mousedown"||O.type==="touchstart")||Array.isArray(S)&&!S.includes(O.button)&&O.type==="mousedown")return!1;const Q=Array.isArray(S)&&S.includes(O.button)||!O.button||O.button<=1;return(!O.ctrlKey||O.type==="wheel")&&Q})},[I,Y,d,g,p,v,S,_,oe]),he.createElement("div",{className:"react-flow__renderer",ref:q,style:Zg},E)},eb=n=>({userSelectionActive:n.userSelectionActive,userSelectionRect:n.userSelectionRect});function tb(){const{userSelectionActive:n,userSelectionRect:l}=It(eb,Sn);return n&&l?he.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:l.width,height:l.height,transform:`translate(${l.x}px, ${l.y}px)`}}):null}function gm(n,l){const s=l.parentNode||l.parentId,c=n.find(d=>d.id===s);if(c){const d=l.position.x+l.width-c.width,g=l.position.y+l.height-c.height;if(d>0||g>0||l.position.x<0||l.position.y<0){if(c.style={...c.style},c.style.width=c.style.width??c.width,c.style.height=c.style.height??c.height,d>0&&(c.style.width+=d),g>0&&(c.style.height+=g),l.position.x<0){const p=Math.abs(l.position.x);c.position.x=c.position.x-p,c.style.width+=p,l.position.x=0}if(l.position.y<0){const p=Math.abs(l.position.y);c.position.y=c.position.y-p,c.style.height+=p,l.position.y=0}c.width=c.style.width,c.height=c.style.height}}}function nb(n,l){if(n.some(c=>c.type==="reset"))return n.filter(c=>c.type==="reset").map(c=>c.item);const s=n.filter(c=>c.type==="add").map(c=>c.item);return l.reduce((c,d)=>{const g=n.filter(x=>x.id===d.id);if(g.length===0)return c.push(d),c;const p={...d};for(const x of g)if(x)switch(x.type){case"select":{p.selected=x.selected;break}case"position":{typeof x.position<"u"&&(p.position=x.position),typeof x.positionAbsolute<"u"&&(p.positionAbsolute=x.positionAbsolute),typeof x.dragging<"u"&&(p.dragging=x.dragging),p.expandParent&&gm(c,p);break}case"dimensions":{typeof x.dimensions<"u"&&(p.width=x.dimensions.width,p.height=x.dimensions.height),typeof x.updateStyle<"u"&&(p.style={...p.style||{},...x.dimensions}),typeof x.resizing=="boolean"&&(p.resizing=x.resizing),p.expandParent&&gm(c,p);break}case"remove":return c}return c.push(p),c},s)}function Jy(n,l){return nb(n,l)}const Oo=(n,l)=>({id:n,type:"select",selected:l});function Du(n,l){return n.reduce((s,c)=>{const d=l.includes(c.id);return!c.selected&&d?(c.selected=!0,s.push(Oo(c.id,!0))):c.selected&&!d&&(c.selected=!1,s.push(Oo(c.id,!1))),s},[])}const lg=(n,l)=>s=>{s.target===l.current&&(n==null||n(s))},rb=n=>({userSelectionActive:n.userSelectionActive,elementsSelectable:n.elementsSelectable,dragging:n.paneDragging}),ex=G.memo(({isSelecting:n,selectionMode:l=Df.Full,panOnDrag:s,onSelectionStart:c,onSelectionEnd:d,onPaneClick:g,onPaneContextMenu:p,onPaneScroll:x,onPaneMouseEnter:w,onPaneMouseMove:v,onPaneMouseLeave:_,children:S})=>{const T=G.useRef(null),A=fn(),U=G.useRef(0),F=G.useRef(0),L=G.useRef(),{userSelectionActive:j,elementsSelectable:E,dragging:P}=It(rb,Sn),k=()=>{A.setState({userSelectionActive:!1,userSelectionRect:null}),U.current=0,F.current=0},M=ae=>{g==null||g(ae),A.getState().resetSelectedElements(),A.setState({nodesSelectionActive:!1})},$=ae=>{if(Array.isArray(s)&&(s!=null&&s.includes(2))){ae.preventDefault();return}p==null||p(ae)},b=x?ae=>x(ae):void 0,H=ae=>{const{resetSelectedElements:I,domNode:oe}=A.getState();if(L.current=oe==null?void 0:oe.getBoundingClientRect(),!E||!n||ae.button!==0||ae.target!==T.current||!L.current)return;const{x:B,y:ee}=$o(ae,L.current);I(),A.setState({userSelectionRect:{width:0,height:0,startX:B,startY:ee,x:B,y:ee}}),c==null||c(ae)},q=ae=>{const{userSelectionRect:I,nodeInternals:oe,edges:B,transform:ee,onNodesChange:K,onEdgesChange:O,nodeOrigin:W,getNodes:D}=A.getState();if(!n||!L.current||!I)return;A.setState({userSelectionActive:!0,nodesSelectionActive:!1});const Q=$o(ae,L.current),ge=I.startX??0,me=I.startY??0,ve={...I,x:Q.x<ge?Q.x:ge,y:Q.y<me?Q.y:me,width:Math.abs(Q.x-ge),height:Math.abs(Q.y-me)},ke=D(),Re=zy(oe,ve,ee,l===Df.Partial,!0,W),De=Oy(Re,B).map(Be=>Be.id),Me=Re.map(Be=>Be.id);if(U.current!==Me.length){U.current=Me.length;const Be=Du(ke,Me);Be.length&&(K==null||K(Be))}if(F.current!==De.length){F.current=De.length;const Be=Du(B,De);Be.length&&(O==null||O(Be))}A.setState({userSelectionRect:ve})},ie=ae=>{if(ae.button!==0)return;const{userSelectionRect:I}=A.getState();!j&&I&&ae.target===T.current&&(M==null||M(ae)),A.setState({nodesSelectionActive:U.current>0}),k(),d==null||d(ae)},Y=ae=>{j&&(A.setState({nodesSelectionActive:U.current>0}),d==null||d(ae)),k()},ne=E&&(n||j);return he.createElement("div",{className:Dn(["react-flow__pane",{dragging:P,selection:n}]),onClick:ne?void 0:lg(M,T),onContextMenu:lg($,T),onWheel:lg(b,T),onMouseEnter:ne?void 0:w,onMouseDown:ne?H:void 0,onMouseMove:ne?q:v,onMouseUp:ne?ie:void 0,onMouseLeave:ne?Y:_,ref:T,style:Zg},S,he.createElement(tb,null))});ex.displayName="Pane";function tx(n,l){const s=n.parentNode||n.parentId;if(!s)return!1;const c=l.get(s);return c?c.selected?!0:tx(c,l):!1}function mm(n,l,s){let c=n;do{if(c!=null&&c.matches(l))return!0;if(c===s.current)return!1;c=c.parentElement}while(c);return!1}function ib(n,l,s,c){return Array.from(n.values()).filter(d=>(d.selected||d.id===c)&&(!d.parentNode||d.parentId||!tx(d,n))&&(d.draggable||l&&typeof d.draggable>"u")).map(d=>{var g,p;return{id:d.id,position:d.position||{x:0,y:0},positionAbsolute:d.positionAbsolute||{x:0,y:0},distance:{x:s.x-(((g=d.positionAbsolute)==null?void 0:g.x)??0),y:s.y-(((p=d.positionAbsolute)==null?void 0:p.y)??0)},delta:{x:0,y:0},extent:d.extent,parentNode:d.parentNode||d.parentId,parentId:d.parentNode||d.parentId,width:d.width,height:d.height,expandParent:d.expandParent}})}function sb(n,l){return!l||l==="parent"?l:[l[0],[l[1][0]-(n.width||0),l[1][1]-(n.height||0)]]}function nx(n,l,s,c,d=[0,0],g){const p=sb(n,n.extent||c);let x=p;const w=n.parentNode||n.parentId;if(n.extent==="parent"&&!n.expandParent)if(w&&n.width&&n.height){const S=s.get(w),{x:T,y:A}=Wl(S,d).positionAbsolute;x=S&&ni(T)&&ni(A)&&ni(S.width)&&ni(S.height)?[[T+n.width*d[0],A+n.height*d[1]],[T+S.width-n.width+n.width*d[0],A+S.height-n.height+n.height*d[1]]]:x}else g==null||g("005",Bs.error005()),x=p;else if(n.extent&&w&&n.extent!=="parent"){const S=s.get(w),{x:T,y:A}=Wl(S,d).positionAbsolute;x=[[n.extent[0][0]+T,n.extent[0][1]+A],[n.extent[1][0]+T,n.extent[1][1]+A]]}let v={x:0,y:0};if(w){const S=s.get(w);v=Wl(S,d).positionAbsolute}const _=x&&x!=="parent"?Bg(l,x):l;return{position:{x:_.x-v.x,y:_.y-v.y},positionAbsolute:_}}function ag({nodeId:n,dragItems:l,nodeInternals:s}){const c=l.map(d=>({...s.get(d.id),position:d.position,positionAbsolute:d.positionAbsolute}));return[n?c.find(d=>d.id===n):c[0],c]}const ym=(n,l,s,c)=>{const d=l.querySelectorAll(n);if(!d||!d.length)return null;const g=Array.from(d),p=l.getBoundingClientRect(),x={x:p.width*c[0],y:p.height*c[1]};return g.map(w=>{const v=w.getBoundingClientRect();return{id:w.getAttribute("data-handleid"),position:w.getAttribute("data-handlepos"),x:(v.left-p.left-x.x)/s,y:(v.top-p.top-x.y)/s,...Ug(w)}})};function pf(n,l,s){return s===void 0?s:c=>{const d=l().nodeInternals.get(n);d&&s(c,{...d})}}function Rg({id:n,store:l,unselect:s=!1,nodeRef:c}){const{addSelectedNodes:d,unselectNodesAndEdges:g,multiSelectionActive:p,nodeInternals:x,onError:w}=l.getState(),v=x.get(n);if(!v){w==null||w("012",Bs.error012(n));return}l.setState({nodesSelectionActive:!1}),v.selected?(s||v.selected&&p)&&(g({nodes:[v],edges:[]}),requestAnimationFrame(()=>{var _;return(_=c==null?void 0:c.current)==null?void 0:_.blur()})):d([n])}function ob(){const n=fn();return G.useCallback(({sourceEvent:s})=>{const{transform:c,snapGrid:d,snapToGrid:g}=n.getState(),p=s.touches?s.touches[0].clientX:s.clientX,x=s.touches?s.touches[0].clientY:s.clientY,w={x:(p-c[0])/c[2],y:(x-c[1])/c[2]};return{xSnapped:g?d[0]*Math.round(w.x/d[0]):w.x,ySnapped:g?d[1]*Math.round(w.y/d[1]):w.y,...w}},[])}function ug(n){return(l,s,c)=>n==null?void 0:n(l,c)}function rx({nodeRef:n,disabled:l=!1,noDragClassName:s,handleSelector:c,nodeId:d,isSelectable:g,selectNodesOnDrag:p}){const x=fn(),[w,v]=G.useState(!1),_=G.useRef([]),S=G.useRef({x:null,y:null}),T=G.useRef(0),A=G.useRef(null),U=G.useRef({x:0,y:0}),F=G.useRef(null),L=G.useRef(!1),j=G.useRef(!1),E=G.useRef(!1),P=ob();return G.useEffect(()=>{if(n!=null&&n.current){const k=ti(n.current),M=({x:H,y:q})=>{const{nodeInternals:ie,onNodeDrag:Y,onSelectionDrag:ne,updateNodePositions:ae,nodeExtent:I,snapGrid:oe,snapToGrid:B,nodeOrigin:ee,onError:K}=x.getState();S.current={x:H,y:q};let O=!1,W={x:0,y:0,x2:0,y2:0};if(_.current.length>1&&I){const Q=Vh(_.current,ee);W=Af(Q)}if(_.current=_.current.map(Q=>{const ge={x:H-Q.distance.x,y:q-Q.distance.y};B&&(ge.x=oe[0]*Math.round(ge.x/oe[0]),ge.y=oe[1]*Math.round(ge.y/oe[1]));const me=[[I[0][0],I[0][1]],[I[1][0],I[1][1]]];_.current.length>1&&I&&!Q.extent&&(me[0][0]=Q.positionAbsolute.x-W.x+I[0][0],me[1][0]=Q.positionAbsolute.x+(Q.width??0)-W.x2+I[1][0],me[0][1]=Q.positionAbsolute.y-W.y+I[0][1],me[1][1]=Q.positionAbsolute.y+(Q.height??0)-W.y2+I[1][1]);const ve=nx(Q,ge,ie,me,ee,K);return O=O||Q.position.x!==ve.position.x||Q.position.y!==ve.position.y,Q.position=ve.position,Q.positionAbsolute=ve.positionAbsolute,Q}),!O)return;ae(_.current,!0,!0),v(!0);const D=d?Y:ug(ne);if(D&&F.current){const[Q,ge]=ag({nodeId:d,dragItems:_.current,nodeInternals:ie});D(F.current,Q,ge)}},$=()=>{if(!A.current)return;const[H,q]=Ey(U.current,A.current);if(H!==0||q!==0){const{transform:ie,panBy:Y}=x.getState();S.current.x=(S.current.x??0)-H/ie[2],S.current.y=(S.current.y??0)-q/ie[2],Y({x:H,y:q})&&M(S.current)}T.current=requestAnimationFrame($)},b=H=>{var ee;const{nodeInternals:q,multiSelectionActive:ie,nodesDraggable:Y,unselectNodesAndEdges:ne,onNodeDragStart:ae,onSelectionDragStart:I}=x.getState();j.current=!0;const oe=d?ae:ug(I);(!p||!g)&&!ie&&d&&((ee=q.get(d))!=null&&ee.selected||ne()),d&&g&&p&&Rg({id:d,store:x,nodeRef:n});const B=P(H);if(S.current=B,_.current=ib(q,Y,B,d),oe&&_.current){const[K,O]=ag({nodeId:d,dragItems:_.current,nodeInternals:q});oe(H.sourceEvent,K,O)}};if(l)k.on(".drag",null);else{const H=y_().on("start",q=>{const{domNode:ie,nodeDragThreshold:Y}=x.getState();Y===0&&b(q),E.current=!1;const ne=P(q);S.current=ne,A.current=(ie==null?void 0:ie.getBoundingClientRect())||null,U.current=$o(q.sourceEvent,A.current)}).on("drag",q=>{var ae,I;const ie=P(q),{autoPanOnNodeDrag:Y,nodeDragThreshold:ne}=x.getState();if(q.sourceEvent.type==="touchmove"&&q.sourceEvent.touches.length>1&&(E.current=!0),!E.current){if(!L.current&&j.current&&Y&&(L.current=!0,$()),!j.current){const oe=ie.xSnapped-(((ae=S==null?void 0:S.current)==null?void 0:ae.x)??0),B=ie.ySnapped-(((I=S==null?void 0:S.current)==null?void 0:I.y)??0);Math.sqrt(oe*oe+B*B)>ne&&b(q)}(S.current.x!==ie.xSnapped||S.current.y!==ie.ySnapped)&&_.current&&j.current&&(F.current=q.sourceEvent,U.current=$o(q.sourceEvent,A.current),M(ie))}}).on("end",q=>{if(!(!j.current||E.current)&&(v(!1),L.current=!1,j.current=!1,cancelAnimationFrame(T.current),_.current)){const{updateNodePositions:ie,nodeInternals:Y,onNodeDragStop:ne,onSelectionDragStop:ae}=x.getState(),I=d?ne:ug(ae);if(ie(_.current,!1,!1),I){const[oe,B]=ag({nodeId:d,dragItems:_.current,nodeInternals:Y});I(q.sourceEvent,oe,B)}}}).filter(q=>{const ie=q.target;return!q.button&&(!s||!mm(ie,`.${s}`,n))&&(!c||mm(ie,c,n))});return k.call(H),()=>{k.on(".drag",null)}}}},[n,l,s,c,g,x,d,p,P]),w}function ix(){const n=fn();return G.useCallback(s=>{const{nodeInternals:c,nodeExtent:d,updateNodePositions:g,getNodes:p,snapToGrid:x,snapGrid:w,onError:v,nodesDraggable:_}=n.getState(),S=p().filter(E=>E.selected&&(E.draggable||_&&typeof E.draggable>"u")),T=x?w[0]:5,A=x?w[1]:5,U=s.isShiftPressed?4:1,F=s.x*T*U,L=s.y*A*U,j=S.map(E=>{if(E.positionAbsolute){const P={x:E.positionAbsolute.x+F,y:E.positionAbsolute.y+L};x&&(P.x=w[0]*Math.round(P.x/w[0]),P.y=w[1]*Math.round(P.y/w[1]));const{positionAbsolute:k,position:M}=nx(E,P,c,d,void 0,v);E.position=M,E.positionAbsolute=k}return E});g(j,!0,!1)},[])}const Ou={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var gf=n=>{const l=({id:s,type:c,data:d,xPos:g,yPos:p,xPosOrigin:x,yPosOrigin:w,selected:v,onClick:_,onMouseEnter:S,onMouseMove:T,onMouseLeave:A,onContextMenu:U,onDoubleClick:F,style:L,className:j,isDraggable:E,isSelectable:P,isConnectable:k,isFocusable:M,selectNodesOnDrag:$,sourcePosition:b,targetPosition:H,hidden:q,resizeObserver:ie,dragHandle:Y,zIndex:ne,isParent:ae,noDragClassName:I,noPanClassName:oe,initialized:B,disableKeyboardA11y:ee,ariaLabel:K,rfId:O,hasHandleBounds:W})=>{const D=fn(),Q=G.useRef(null),ge=G.useRef(null),me=G.useRef(b),ve=G.useRef(H),ke=G.useRef(c),Re=P||E||_||S||T||A,De=ix(),Me=pf(s,D.getState,S),Be=pf(s,D.getState,T),xt=pf(s,D.getState,A),vt=pf(s,D.getState,U),bt=pf(s,D.getState,F),it=Ze=>{const{nodeDragThreshold:Oe}=D.getState();if(P&&(!$||!E||Oe>0)&&Rg({id:s,store:D,nodeRef:Q}),_){const Et=D.getState().nodeInternals.get(s);Et&&_(Ze,{...Et})}},at=Ze=>{if(!Cg(Ze)&&!ee)if(Ty.includes(Ze.key)&&P){const Oe=Ze.key==="Escape";Rg({id:s,store:D,unselect:Oe,nodeRef:Q})}else E&&v&&Object.prototype.hasOwnProperty.call(Ou,Ze.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${Ze.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~g}, y: ${~~p}`}),De({x:Ou[Ze.key].x,y:Ou[Ze.key].y,isShiftPressed:Ze.shiftKey}))};G.useEffect(()=>()=>{ge.current&&(ie==null||ie.unobserve(ge.current),ge.current=null)},[]),G.useEffect(()=>{if(Q.current&&!q){const Ze=Q.current;(!B||!W||ge.current!==Ze)&&(ge.current&&(ie==null||ie.unobserve(ge.current)),ie==null||ie.observe(Ze),ge.current=Ze)}},[q,B,W]),G.useEffect(()=>{const Ze=ke.current!==c,Oe=me.current!==b,Et=ve.current!==H;Q.current&&(Ze||Oe||Et)&&(Ze&&(ke.current=c),Oe&&(me.current=b),Et&&(ve.current=H),D.getState().updateNodeDimensions([{id:s,nodeElement:Q.current,forceUpdate:!0}]))},[s,c,b,H]);const Wt=rx({nodeRef:Q,disabled:q||!E,noDragClassName:I,handleSelector:Y,nodeId:s,isSelectable:P,selectNodesOnDrag:$});return q?null:he.createElement("div",{className:Dn(["react-flow__node",`react-flow__node-${c}`,{[oe]:E},j,{selected:v,selectable:P,parent:ae,dragging:Wt}]),ref:Q,style:{zIndex:ne,transform:`translate(${x}px,${w}px)`,pointerEvents:Re?"all":"none",visibility:B?"visible":"hidden",...L},"data-id":s,"data-testid":`rf__node-${s}`,onMouseEnter:Me,onMouseMove:Be,onMouseLeave:xt,onContextMenu:vt,onClick:it,onDoubleClick:bt,onKeyDown:M?at:void 0,tabIndex:M?0:void 0,role:M?"button":void 0,"aria-describedby":ee?void 0:`${Gy}-${O}`,"aria-label":K},he.createElement(wN,{value:s},he.createElement(n,{id:s,data:d,type:c,xPos:g,yPos:p,selected:v,isConnectable:k,sourcePosition:b,targetPosition:H,dragging:Wt,dragHandle:Y,zIndex:ne})))};return l.displayName="NodeWrapper",G.memo(l)};const lb=n=>{const l=n.getNodes().filter(s=>s.selected);return{...Vh(l,n.nodeOrigin),transformString:`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`,userSelectionActive:n.userSelectionActive}};function ab({onSelectionContextMenu:n,noPanClassName:l,disableKeyboardA11y:s}){const c=fn(),{width:d,height:g,x:p,y:x,transformString:w,userSelectionActive:v}=It(lb,Sn),_=ix(),S=G.useRef(null);if(G.useEffect(()=>{var U;s||(U=S.current)==null||U.focus({preventScroll:!0})},[s]),rx({nodeRef:S}),v||!d||!g)return null;const T=n?U=>{const F=c.getState().getNodes().filter(L=>L.selected);n(U,F)}:void 0,A=U=>{Object.prototype.hasOwnProperty.call(Ou,U.key)&&_({x:Ou[U.key].x,y:Ou[U.key].y,isShiftPressed:U.shiftKey})};return he.createElement("div",{className:Dn(["react-flow__nodesselection","react-flow__container",l]),style:{transform:w}},he.createElement("div",{ref:S,className:"react-flow__nodesselection-rect",onContextMenu:T,tabIndex:s?void 0:-1,onKeyDown:s?void 0:A,style:{width:d,height:g,top:x,left:p}}))}var ub=G.memo(ab);const cb=n=>n.nodesSelectionActive,sx=({children:n,onPaneClick:l,onPaneMouseEnter:s,onPaneMouseMove:c,onPaneMouseLeave:d,onPaneContextMenu:g,onPaneScroll:p,deleteKeyCode:x,onMove:w,onMoveStart:v,onMoveEnd:_,selectionKeyCode:S,selectionOnDrag:T,selectionMode:A,onSelectionStart:U,onSelectionEnd:F,multiSelectionKeyCode:L,panActivationKeyCode:j,zoomActivationKeyCode:E,elementsSelectable:P,zoomOnScroll:k,zoomOnPinch:M,panOnScroll:$,panOnScrollSpeed:b,panOnScrollMode:H,zoomOnDoubleClick:q,panOnDrag:ie,defaultViewport:Y,translateExtent:ne,minZoom:ae,maxZoom:I,preventScrolling:oe,onSelectionContextMenu:B,noWheelClassName:ee,noPanClassName:K,disableKeyboardA11y:O})=>{const W=It(cb),D=Mf(S),Q=Mf(j),ge=Q||ie,me=Q||$,ve=D||T&&ge!==!0;return XN({deleteKeyCode:x,multiSelectionKeyCode:L}),he.createElement(JN,{onMove:w,onMoveStart:v,onMoveEnd:_,onPaneContextMenu:g,elementsSelectable:P,zoomOnScroll:k,zoomOnPinch:M,panOnScroll:me,panOnScrollSpeed:b,panOnScrollMode:H,zoomOnDoubleClick:q,panOnDrag:!D&&ge,defaultViewport:Y,translateExtent:ne,minZoom:ae,maxZoom:I,zoomActivationKeyCode:E,preventScrolling:oe,noWheelClassName:ee,noPanClassName:K},he.createElement(ex,{onSelectionStart:U,onSelectionEnd:F,onPaneClick:l,onPaneMouseEnter:s,onPaneMouseMove:c,onPaneMouseLeave:d,onPaneContextMenu:g,onPaneScroll:p,panOnDrag:ge,isSelecting:!!ve,selectionMode:A},n,W&&he.createElement(ub,{onSelectionContextMenu:B,noPanClassName:K,disableKeyboardA11y:O})))};sx.displayName="FlowRenderer";var fb=G.memo(sx);function db(n){return It(G.useCallback(s=>n?zy(s.nodeInternals,{x:0,y:0,width:s.width,height:s.height},s.transform,!0):s.getNodes(),[n]))}function hb(n){const l={input:gf(n.input||Wy),default:gf(n.default||Pg),output:gf(n.output||Yy),group:gf(n.group||Kg)},s={},c=Object.keys(n).filter(d=>!["input","default","output","group"].includes(d)).reduce((d,g)=>(d[g]=gf(n[g]||Pg),d),s);return{...l,...c}}const pb=({x:n,y:l,width:s,height:c,origin:d})=>!s||!c?{x:n,y:l}:d[0]<0||d[1]<0||d[0]>1||d[1]>1?{x:n,y:l}:{x:n-s*d[0],y:l-c*d[1]},gb=n=>({nodesDraggable:n.nodesDraggable,nodesConnectable:n.nodesConnectable,nodesFocusable:n.nodesFocusable,elementsSelectable:n.elementsSelectable,updateNodeDimensions:n.updateNodeDimensions,onError:n.onError}),ox=n=>{const{nodesDraggable:l,nodesConnectable:s,nodesFocusable:c,elementsSelectable:d,updateNodeDimensions:g,onError:p}=It(gb,Sn),x=db(n.onlyRenderVisibleElements),w=G.useRef(),v=G.useMemo(()=>{if(typeof ResizeObserver>"u")return null;const _=new ResizeObserver(S=>{const T=S.map(A=>({id:A.target.getAttribute("data-id"),nodeElement:A.target,forceUpdate:!0}));g(T)});return w.current=_,_},[]);return G.useEffect(()=>()=>{var _;(_=w==null?void 0:w.current)==null||_.disconnect()},[]),he.createElement("div",{className:"react-flow__nodes",style:Zg},x.map(_=>{var M,$,b;let S=_.type||"default";n.nodeTypes[S]||(p==null||p("003",Bs.error003(S)),S="default");const T=n.nodeTypes[S]||n.nodeTypes.default,A=!!(_.draggable||l&&typeof _.draggable>"u"),U=!!(_.selectable||d&&typeof _.selectable>"u"),F=!!(_.connectable||s&&typeof _.connectable>"u"),L=!!(_.focusable||c&&typeof _.focusable>"u"),j=n.nodeExtent?Bg(_.positionAbsolute,n.nodeExtent):_.positionAbsolute,E=(j==null?void 0:j.x)??0,P=(j==null?void 0:j.y)??0,k=pb({x:E,y:P,width:_.width??0,height:_.height??0,origin:n.nodeOrigin});return he.createElement(T,{key:_.id,id:_.id,className:_.className,style:_.style,type:S,data:_.data,sourcePosition:_.sourcePosition||Ve.Bottom,targetPosition:_.targetPosition||Ve.Top,hidden:_.hidden,xPos:E,yPos:P,xPosOrigin:k.x,yPosOrigin:k.y,selectNodesOnDrag:n.selectNodesOnDrag,onClick:n.onNodeClick,onMouseEnter:n.onNodeMouseEnter,onMouseMove:n.onNodeMouseMove,onMouseLeave:n.onNodeMouseLeave,onContextMenu:n.onNodeContextMenu,onDoubleClick:n.onNodeDoubleClick,selected:!!_.selected,isDraggable:A,isSelectable:U,isConnectable:F,isFocusable:L,resizeObserver:v,dragHandle:_.dragHandle,zIndex:((M=_[Xt])==null?void 0:M.z)??0,isParent:!!(($=_[Xt])!=null&&$.isParent),noDragClassName:n.noDragClassName,noPanClassName:n.noPanClassName,initialized:!!_.width&&!!_.height,rfId:n.rfId,disableKeyboardA11y:n.disableKeyboardA11y,ariaLabel:_.ariaLabel,hasHandleBounds:!!((b=_[Xt])!=null&&b.handleBounds)})}))};ox.displayName="NodeRenderer";var mb=G.memo(ox);const yb=(n,l,s)=>s===Ve.Left?n-l:s===Ve.Right?n+l:n,xb=(n,l,s)=>s===Ve.Top?n-l:s===Ve.Bottom?n+l:n,xm="react-flow__edgeupdater",vm=({position:n,centerX:l,centerY:s,radius:c=10,onMouseDown:d,onMouseEnter:g,onMouseOut:p,type:x})=>he.createElement("circle",{onMouseDown:d,onMouseEnter:g,onMouseOut:p,className:Dn([xm,`${xm}-${x}`]),cx:yb(l,c,n),cy:xb(s,c,n),r:c,stroke:"transparent",fill:"transparent"}),vb=()=>!0;var Ru=n=>{const l=({id:s,className:c,type:d,data:g,onClick:p,onEdgeDoubleClick:x,selected:w,animated:v,label:_,labelStyle:S,labelShowBg:T,labelBgStyle:A,labelBgPadding:U,labelBgBorderRadius:F,style:L,source:j,target:E,sourceX:P,sourceY:k,targetX:M,targetY:$,sourcePosition:b,targetPosition:H,elementsSelectable:q,hidden:ie,sourceHandleId:Y,targetHandleId:ne,onContextMenu:ae,onMouseEnter:I,onMouseMove:oe,onMouseLeave:B,reconnectRadius:ee,onReconnect:K,onReconnectStart:O,onReconnectEnd:W,markerEnd:D,markerStart:Q,rfId:ge,ariaLabel:me,isFocusable:ve,isReconnectable:ke,pathOptions:Re,interactionWidth:De,disableKeyboardA11y:Me})=>{const Be=G.useRef(null),[xt,vt]=G.useState(!1),[bt,it]=G.useState(!1),at=fn(),Wt=G.useMemo(()=>`url('#${jg(Q,ge)}')`,[Q,ge]),Ze=G.useMemo(()=>`url('#${jg(D,ge)}')`,[D,ge]);if(ie)return null;const Oe=Dt=>{var dn;const{edges:Nn,addSelectedEdges:Zn,unselectNodesAndEdges:Jn,multiSelectionActive:xr}=at.getState(),bn=Nn.find(ri=>ri.id===s);bn&&(q&&(at.setState({nodesSelectionActive:!1}),bn.selected&&xr?(Jn({nodes:[],edges:[bn]}),(dn=Be.current)==null||dn.blur()):Zn([s])),p&&p(Dt,bn))},Et=hf(s,at.getState,x),Tt=hf(s,at.getState,ae),_t=hf(s,at.getState,I),Ce=hf(s,at.getState,oe),qe=hf(s,at.getState,B),ce=(Dt,Nn)=>{if(Dt.button!==0)return;const{edges:Zn,isValidConnection:Jn}=at.getState(),xr=Nn?E:j,bn=(Nn?ne:Y)||null,dn=Nn?"target":"source",ri=Jn||vb,is=Nn,ii=Zn.find(Ir=>Ir.id===s);it(!0),O==null||O(Dt,ii,dn);const vr=Ir=>{it(!1),W==null||W(Ir,ii,dn)};Fy({event:Dt,handleId:bn,nodeId:xr,onConnect:Ir=>K==null?void 0:K(ii,Ir),isTarget:is,getState:at.getState,setState:at.setState,isValidConnection:ri,edgeUpdaterType:dn,onReconnectEnd:vr})},_e=Dt=>ce(Dt,!0),He=Dt=>ce(Dt,!1),Fe=()=>vt(!0),ut=()=>vt(!1),sn=!q&&!p,Un=Dt=>{var Nn;if(!Me&&Ty.includes(Dt.key)&&q){const{unselectNodesAndEdges:Zn,addSelectedEdges:Jn,edges:xr}=at.getState();Dt.key==="Escape"?((Nn=Be.current)==null||Nn.blur(),Zn({edges:[xr.find(dn=>dn.id===s)]})):Jn([s])}};return he.createElement("g",{className:Dn(["react-flow__edge",`react-flow__edge-${d}`,c,{selected:w,animated:v,inactive:sn,updating:xt}]),onClick:Oe,onDoubleClick:Et,onContextMenu:Tt,onMouseEnter:_t,onMouseMove:Ce,onMouseLeave:qe,onKeyDown:ve?Un:void 0,tabIndex:ve?0:void 0,role:ve?"button":"img","data-testid":`rf__edge-${s}`,"aria-label":me===null?void 0:me||`Edge from ${j} to ${E}`,"aria-describedby":ve?`${Xy}-${ge}`:void 0,ref:Be},!bt&&he.createElement(n,{id:s,source:j,target:E,selected:w,animated:v,label:_,labelStyle:S,labelShowBg:T,labelBgStyle:A,labelBgPadding:U,labelBgBorderRadius:F,data:g,style:L,sourceX:P,sourceY:k,targetX:M,targetY:$,sourcePosition:b,targetPosition:H,sourceHandleId:Y,targetHandleId:ne,markerStart:Wt,markerEnd:Ze,pathOptions:Re,interactionWidth:De}),ke&&he.createElement(he.Fragment,null,(ke==="source"||ke===!0)&&he.createElement(vm,{position:b,centerX:P,centerY:k,radius:ee,onMouseDown:_e,onMouseEnter:Fe,onMouseOut:ut,type:"source"}),(ke==="target"||ke===!0)&&he.createElement(vm,{position:H,centerX:M,centerY:$,radius:ee,onMouseDown:He,onMouseEnter:Fe,onMouseOut:ut,type:"target"})))};return l.displayName="EdgeWrapper",G.memo(l)};function wb(n){const l={default:Ru(n.default||Oh),straight:Ru(n.bezier||Yg),step:Ru(n.step||Vg),smoothstep:Ru(n.step||Wh),simplebezier:Ru(n.simplebezier||Wg)},s={},c=Object.keys(n).filter(d=>!["default","bezier"].includes(d)).reduce((d,g)=>(d[g]=Ru(n[g]||Oh),d),s);return{...l,...c}}function wm(n,l,s=null){const c=((s==null?void 0:s.x)||0)+l.x,d=((s==null?void 0:s.y)||0)+l.y,g=(s==null?void 0:s.width)||l.width,p=(s==null?void 0:s.height)||l.height;switch(n){case Ve.Top:return{x:c+g/2,y:d};case Ve.Right:return{x:c+g,y:d+p/2};case Ve.Bottom:return{x:c+g/2,y:d+p};case Ve.Left:return{x:c,y:d+p/2}}}function _m(n,l){return n?n.length===1||!l?n[0]:l&&n.find(s=>s.id===l)||null:null}const _b=(n,l,s,c,d,g)=>{const p=wm(s,n,l),x=wm(g,c,d);return{sourceX:p.x,sourceY:p.y,targetX:x.x,targetY:x.y}};function Sb({sourcePos:n,targetPos:l,sourceWidth:s,sourceHeight:c,targetWidth:d,targetHeight:g,width:p,height:x,transform:w}){const v={x:Math.min(n.x,l.x),y:Math.min(n.y,l.y),x2:Math.max(n.x+s,l.x+d),y2:Math.max(n.y+c,l.y+g)};v.x===v.x2&&(v.x2+=1),v.y===v.y2&&(v.y2+=1);const _=Af({x:(0-w[0])/w[2],y:(0-w[1])/w[2],width:p/w[2],height:x/w[2]}),S=Math.max(0,Math.min(_.x2,v.x2)-Math.max(_.x,v.x)),T=Math.max(0,Math.min(_.y2,v.y2)-Math.max(_.y,v.y));return Math.ceil(S*T)>0}function Sm(n){var c,d,g,p,x;const l=((c=n==null?void 0:n[Xt])==null?void 0:c.handleBounds)||null,s=l&&(n==null?void 0:n.width)&&(n==null?void 0:n.height)&&typeof((d=n==null?void 0:n.positionAbsolute)==null?void 0:d.x)<"u"&&typeof((g=n==null?void 0:n.positionAbsolute)==null?void 0:g.y)<"u";return[{x:((p=n==null?void 0:n.positionAbsolute)==null?void 0:p.x)||0,y:((x=n==null?void 0:n.positionAbsolute)==null?void 0:x.y)||0,width:(n==null?void 0:n.width)||0,height:(n==null?void 0:n.height)||0},l,!!s]}const Nb=[{level:0,isMaxLevel:!0,edges:[]}];function bb(n,l,s=!1){let c=-1;const d=n.reduce((p,x)=>{var _,S;const w=ni(x.zIndex);let v=w?x.zIndex:0;if(s){const T=l.get(x.target),A=l.get(x.source),U=x.selected||(T==null?void 0:T.selected)||(A==null?void 0:A.selected),F=Math.max(((_=A==null?void 0:A[Xt])==null?void 0:_.z)||0,((S=T==null?void 0:T[Xt])==null?void 0:S.z)||0,1e3);v=(w?x.zIndex:0)+(U?F:0)}return p[v]?p[v].push(x):p[v]=[x],c=v>c?v:c,p},{}),g=Object.entries(d).map(([p,x])=>{const w=+p;return{edges:x,level:w,isMaxLevel:w===c}});return g.length===0?Nb:g}function Eb(n,l,s){const c=It(G.useCallback(d=>n?d.edges.filter(g=>{const p=l.get(g.source),x=l.get(g.target);return(p==null?void 0:p.width)&&(p==null?void 0:p.height)&&(x==null?void 0:x.width)&&(x==null?void 0:x.height)&&Sb({sourcePos:p.positionAbsolute||{x:0,y:0},targetPos:x.positionAbsolute||{x:0,y:0},sourceWidth:p.width,sourceHeight:p.height,targetWidth:x.width,targetHeight:x.height,width:d.width,height:d.height,transform:d.transform})}):d.edges,[n,l]));return bb(c,l,s)}const Cb=({color:n="none",strokeWidth:l=1})=>he.createElement("polyline",{style:{stroke:n,strokeWidth:l},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),kb=({color:n="none",strokeWidth:l=1})=>he.createElement("polyline",{style:{stroke:n,fill:n,strokeWidth:l},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Nm={[zh.Arrow]:Cb,[zh.ArrowClosed]:kb};function jb(n){const l=fn();return G.useMemo(()=>{var d,g;return Object.prototype.hasOwnProperty.call(Nm,n)?Nm[n]:((g=(d=l.getState()).onError)==null||g.call(d,"009",Bs.error009(n)),null)},[n])}const Tb=({id:n,type:l,color:s,width:c=12.5,height:d=12.5,markerUnits:g="strokeWidth",strokeWidth:p,orient:x="auto-start-reverse"})=>{const w=jb(l);return w?he.createElement("marker",{className:"react-flow__arrowhead",id:n,markerWidth:`${c}`,markerHeight:`${d}`,viewBox:"-10 -10 20 20",markerUnits:g,orient:x,refX:"0",refY:"0"},he.createElement(w,{color:s,strokeWidth:p})):null},Pb=({defaultColor:n,rfId:l})=>s=>{const c=[];return s.edges.reduce((d,g)=>([g.markerStart,g.markerEnd].forEach(p=>{if(p&&typeof p=="object"){const x=jg(p,l);c.includes(x)||(d.push({id:x,color:p.color||n,...p}),c.push(x))}}),d),[]).sort((d,g)=>d.id.localeCompare(g.id))},lx=({defaultColor:n,rfId:l})=>{const s=It(G.useCallback(Pb({defaultColor:n,rfId:l}),[n,l]),(c,d)=>!(c.length!==d.length||c.some((g,p)=>g.id!==d[p].id)));return he.createElement("defs",null,s.map(c=>he.createElement(Tb,{id:c.id,key:c.id,type:c.type,color:c.color,width:c.width,height:c.height,markerUnits:c.markerUnits,strokeWidth:c.strokeWidth,orient:c.orient})))};lx.displayName="MarkerDefinitions";var Rb=G.memo(lx);const Ab=n=>({nodesConnectable:n.nodesConnectable,edgesFocusable:n.edgesFocusable,edgesUpdatable:n.edgesUpdatable,elementsSelectable:n.elementsSelectable,width:n.width,height:n.height,connectionMode:n.connectionMode,nodeInternals:n.nodeInternals,onError:n.onError}),ax=({defaultMarkerColor:n,onlyRenderVisibleElements:l,elevateEdgesOnSelect:s,rfId:c,edgeTypes:d,noPanClassName:g,onEdgeContextMenu:p,onEdgeMouseEnter:x,onEdgeMouseMove:w,onEdgeMouseLeave:v,onEdgeClick:_,onEdgeDoubleClick:S,onReconnect:T,onReconnectStart:A,onReconnectEnd:U,reconnectRadius:F,children:L,disableKeyboardA11y:j})=>{const{edgesFocusable:E,edgesUpdatable:P,elementsSelectable:k,width:M,height:$,connectionMode:b,nodeInternals:H,onError:q}=It(Ab,Sn),ie=Eb(l,H,s);return M?he.createElement(he.Fragment,null,ie.map(({level:Y,edges:ne,isMaxLevel:ae})=>he.createElement("svg",{key:Y,style:{zIndex:Y},width:M,height:$,className:"react-flow__edges react-flow__container"},ae&&he.createElement(Rb,{defaultColor:n,rfId:c}),he.createElement("g",null,ne.map(I=>{const[oe,B,ee]=Sm(H.get(I.source)),[K,O,W]=Sm(H.get(I.target));if(!ee||!W)return null;let D=I.type||"default";d[D]||(q==null||q("011",Bs.error011(D)),D="default");const Q=d[D]||d.default,ge=b===ql.Strict?O.target:(O.target??[]).concat(O.source??[]),me=_m(B.source,I.sourceHandle),ve=_m(ge,I.targetHandle),ke=(me==null?void 0:me.position)||Ve.Bottom,Re=(ve==null?void 0:ve.position)||Ve.Top,De=!!(I.focusable||E&&typeof I.focusable>"u"),Me=I.reconnectable||I.updatable,Be=typeof T<"u"&&(Me||P&&typeof Me>"u");if(!me||!ve)return q==null||q("008",Bs.error008(me,I)),null;const{sourceX:xt,sourceY:vt,targetX:bt,targetY:it}=_b(oe,me,ke,K,ve,Re);return he.createElement(Q,{key:I.id,id:I.id,className:Dn([I.className,g]),type:D,data:I.data,selected:!!I.selected,animated:!!I.animated,hidden:!!I.hidden,label:I.label,labelStyle:I.labelStyle,labelShowBg:I.labelShowBg,labelBgStyle:I.labelBgStyle,labelBgPadding:I.labelBgPadding,labelBgBorderRadius:I.labelBgBorderRadius,style:I.style,source:I.source,target:I.target,sourceHandleId:I.sourceHandle,targetHandleId:I.targetHandle,markerEnd:I.markerEnd,markerStart:I.markerStart,sourceX:xt,sourceY:vt,targetX:bt,targetY:it,sourcePosition:ke,targetPosition:Re,elementsSelectable:k,onContextMenu:p,onMouseEnter:x,onMouseMove:w,onMouseLeave:v,onClick:_,onEdgeDoubleClick:S,onReconnect:T,onReconnectStart:A,onReconnectEnd:U,reconnectRadius:F,rfId:c,ariaLabel:I.ariaLabel,isFocusable:De,isReconnectable:Be,pathOptions:"pathOptions"in I?I.pathOptions:void 0,interactionWidth:I.interactionWidth,disableKeyboardA11y:j})})))),L):null};ax.displayName="EdgeRenderer";var Db=G.memo(ax);const Mb=n=>`translate(${n.transform[0]}px,${n.transform[1]}px) scale(${n.transform[2]})`;function zb({children:n}){const l=It(Mb);return he.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:l}},n)}function Ob(n){const l=Qg(),s=G.useRef(!1);G.useEffect(()=>{!s.current&&l.viewportInitialized&&n&&(setTimeout(()=>n(l),1),s.current=!0)},[n,l.viewportInitialized])}const Ib={[Ve.Left]:Ve.Right,[Ve.Right]:Ve.Left,[Ve.Top]:Ve.Bottom,[Ve.Bottom]:Ve.Top},ux=({nodeId:n,handleType:l,style:s,type:c=Io.Bezier,CustomComponent:d,connectionStatus:g})=>{var $,b,H;const{fromNode:p,handleId:x,toX:w,toY:v,connectionMode:_}=It(G.useCallback(q=>({fromNode:q.nodeInternals.get(n),handleId:q.connectionHandleId,toX:(q.connectionPosition.x-q.transform[0])/q.transform[2],toY:(q.connectionPosition.y-q.transform[1])/q.transform[2],connectionMode:q.connectionMode}),[n]),Sn),S=($=p==null?void 0:p[Xt])==null?void 0:$.handleBounds;let T=S==null?void 0:S[l];if(_===ql.Loose&&(T=T||(S==null?void 0:S[l==="source"?"target":"source"])),!p||!T)return null;const A=x?T.find(q=>q.id===x):T[0],U=A?A.x+A.width/2:(p.width??0)/2,F=A?A.y+A.height/2:p.height??0,L=(((b=p.positionAbsolute)==null?void 0:b.x)??0)+U,j=(((H=p.positionAbsolute)==null?void 0:H.y)??0)+F,E=A==null?void 0:A.position,P=E?Ib[E]:null;if(!E||!P)return null;if(d)return he.createElement(d,{connectionLineType:c,connectionLineStyle:s,fromNode:p,fromHandle:A,fromX:L,fromY:j,toX:w,toY:v,fromPosition:E,toPosition:P,connectionStatus:g});let k="";const M={sourceX:L,sourceY:j,sourcePosition:E,targetX:w,targetY:v,targetPosition:P};return c===Io.Bezier?[k]=qg(M):c===Io.Step?[k]=kg({...M,borderRadius:0}):c===Io.SmoothStep?[k]=kg(M):c===Io.SimpleBezier?[k]=Dy(M):k=`M${L},${j} ${w},${v}`,he.createElement("path",{d:k,fill:"none",className:"react-flow__connection-path",style:s})};ux.displayName="ConnectionLine";const $b=n=>({nodeId:n.connectionNodeId,handleType:n.connectionHandleType,nodesConnectable:n.nodesConnectable,connectionStatus:n.connectionStatus,width:n.width,height:n.height});function Lb({containerStyle:n,style:l,type:s,component:c}){const{nodeId:d,handleType:g,nodesConnectable:p,width:x,height:w,connectionStatus:v}=It($b,Sn);return!(d&&g&&x&&p)?null:he.createElement("svg",{style:n,width:x,height:w,className:"react-flow__edges react-flow__connectionline react-flow__container"},he.createElement("g",{className:Dn(["react-flow__connection",v])},he.createElement(ux,{nodeId:d,handleType:g,style:l,type:s,CustomComponent:c,connectionStatus:v})))}function bm(n,l){return G.useRef(null),fn(),G.useMemo(()=>l(n),[n])}const cx=({nodeTypes:n,edgeTypes:l,onMove:s,onMoveStart:c,onMoveEnd:d,onInit:g,onNodeClick:p,onEdgeClick:x,onNodeDoubleClick:w,onEdgeDoubleClick:v,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:A,onSelectionContextMenu:U,onSelectionStart:F,onSelectionEnd:L,connectionLineType:j,connectionLineStyle:E,connectionLineComponent:P,connectionLineContainerStyle:k,selectionKeyCode:M,selectionOnDrag:$,selectionMode:b,multiSelectionKeyCode:H,panActivationKeyCode:q,zoomActivationKeyCode:ie,deleteKeyCode:Y,onlyRenderVisibleElements:ne,elementsSelectable:ae,selectNodesOnDrag:I,defaultViewport:oe,translateExtent:B,minZoom:ee,maxZoom:K,preventScrolling:O,defaultMarkerColor:W,zoomOnScroll:D,zoomOnPinch:Q,panOnScroll:ge,panOnScrollSpeed:me,panOnScrollMode:ve,zoomOnDoubleClick:ke,panOnDrag:Re,onPaneClick:De,onPaneMouseEnter:Me,onPaneMouseMove:Be,onPaneMouseLeave:xt,onPaneScroll:vt,onPaneContextMenu:bt,onEdgeContextMenu:it,onEdgeMouseEnter:at,onEdgeMouseMove:Wt,onEdgeMouseLeave:Ze,onReconnect:Oe,onReconnectStart:Et,onReconnectEnd:Tt,reconnectRadius:_t,noDragClassName:Ce,noWheelClassName:qe,noPanClassName:ce,elevateEdgesOnSelect:_e,disableKeyboardA11y:He,nodeOrigin:Fe,nodeExtent:ut,rfId:sn})=>{const Un=bm(n,hb),Dt=bm(l,wb);return Ob(g),he.createElement(fb,{onPaneClick:De,onPaneMouseEnter:Me,onPaneMouseMove:Be,onPaneMouseLeave:xt,onPaneContextMenu:bt,onPaneScroll:vt,deleteKeyCode:Y,selectionKeyCode:M,selectionOnDrag:$,selectionMode:b,onSelectionStart:F,onSelectionEnd:L,multiSelectionKeyCode:H,panActivationKeyCode:q,zoomActivationKeyCode:ie,elementsSelectable:ae,onMove:s,onMoveStart:c,onMoveEnd:d,zoomOnScroll:D,zoomOnPinch:Q,zoomOnDoubleClick:ke,panOnScroll:ge,panOnScrollSpeed:me,panOnScrollMode:ve,panOnDrag:Re,defaultViewport:oe,translateExtent:B,minZoom:ee,maxZoom:K,onSelectionContextMenu:U,preventScrolling:O,noDragClassName:Ce,noWheelClassName:qe,noPanClassName:ce,disableKeyboardA11y:He},he.createElement(zb,null,he.createElement(Db,{edgeTypes:Dt,onEdgeClick:x,onEdgeDoubleClick:v,onlyRenderVisibleElements:ne,onEdgeContextMenu:it,onEdgeMouseEnter:at,onEdgeMouseMove:Wt,onEdgeMouseLeave:Ze,onReconnect:Oe,onReconnectStart:Et,onReconnectEnd:Tt,reconnectRadius:_t,defaultMarkerColor:W,noPanClassName:ce,elevateEdgesOnSelect:!!_e,disableKeyboardA11y:He,rfId:sn},he.createElement(Lb,{style:E,type:j,component:P,containerStyle:k})),he.createElement("div",{className:"react-flow__edgelabel-renderer"}),he.createElement(mb,{nodeTypes:Un,onNodeClick:p,onNodeDoubleClick:w,onNodeMouseEnter:_,onNodeMouseMove:S,onNodeMouseLeave:T,onNodeContextMenu:A,selectNodesOnDrag:I,onlyRenderVisibleElements:ne,noPanClassName:ce,noDragClassName:Ce,disableKeyboardA11y:He,nodeOrigin:Fe,nodeExtent:ut,rfId:sn})))};cx.displayName="GraphView";var Fb=G.memo(cx);const Ag=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Ro={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:Ag,nodeExtent:Ag,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:ql.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:pN,isValidConnection:void 0},Hb=()=>T1((n,l)=>({...Ro,setNodes:s=>{const{nodeInternals:c,nodeOrigin:d,elevateNodesOnSelect:g}=l();n({nodeInternals:og(s,c,d,g)})},getNodes:()=>Array.from(l().nodeInternals.values()),setEdges:s=>{const{defaultEdgeOptions:c={}}=l();n({edges:s.map(d=>({...c,...d}))})},setDefaultNodesAndEdges:(s,c)=>{const d=typeof s<"u",g=typeof c<"u",p=d?og(s,new Map,l().nodeOrigin,l().elevateNodesOnSelect):new Map;n({nodeInternals:p,edges:g?c:[],hasDefaultNodes:d,hasDefaultEdges:g})},updateNodeDimensions:s=>{const{onNodesChange:c,nodeInternals:d,fitViewOnInit:g,fitViewOnInitDone:p,fitViewOnInitOptions:x,domNode:w,nodeOrigin:v}=l(),_=w==null?void 0:w.querySelector(".react-flow__viewport");if(!_)return;const S=window.getComputedStyle(_),{m22:T}=new window.DOMMatrixReadOnly(S.transform),A=s.reduce((F,L)=>{const j=d.get(L.id);if(j!=null&&j.hidden)d.set(j.id,{...j,[Xt]:{...j[Xt],handleBounds:void 0}});else if(j){const E=Ug(L.nodeElement);!!(E.width&&E.height&&(j.width!==E.width||j.height!==E.height||L.forceUpdate))&&(d.set(j.id,{...j,[Xt]:{...j[Xt],handleBounds:{source:ym(".source",L.nodeElement,T,v),target:ym(".target",L.nodeElement,T,v)}},...E}),F.push({id:j.id,type:"dimensions",dimensions:E}))}return F},[]);Qy(d,v);const U=p||g&&!p&&Zy(l,{initial:!0,...x});n({nodeInternals:new Map(d),fitViewOnInitDone:U}),(A==null?void 0:A.length)>0&&(c==null||c(A))},updateNodePositions:(s,c=!0,d=!1)=>{const{triggerNodeChanges:g}=l(),p=s.map(x=>{const w={id:x.id,type:"position",dragging:d};return c&&(w.positionAbsolute=x.positionAbsolute,w.position=x.position),w});g(p)},triggerNodeChanges:s=>{const{onNodesChange:c,nodeInternals:d,hasDefaultNodes:g,nodeOrigin:p,getNodes:x,elevateNodesOnSelect:w}=l();if(s!=null&&s.length){if(g){const v=Jy(s,x()),_=og(v,d,p,w);n({nodeInternals:_})}c==null||c(s)}},addSelectedNodes:s=>{const{multiSelectionActive:c,edges:d,getNodes:g}=l();let p,x=null;c?p=s.map(w=>Oo(w,!0)):(p=Du(g(),s),x=Du(d,[])),ph({changedNodes:p,changedEdges:x,get:l,set:n})},addSelectedEdges:s=>{const{multiSelectionActive:c,edges:d,getNodes:g}=l();let p,x=null;c?p=s.map(w=>Oo(w,!0)):(p=Du(d,s),x=Du(g(),[])),ph({changedNodes:x,changedEdges:p,get:l,set:n})},unselectNodesAndEdges:({nodes:s,edges:c}={})=>{const{edges:d,getNodes:g}=l(),p=s||g(),x=c||d,w=p.map(_=>(_.selected=!1,Oo(_.id,!1))),v=x.map(_=>Oo(_.id,!1));ph({changedNodes:w,changedEdges:v,get:l,set:n})},setMinZoom:s=>{const{d3Zoom:c,maxZoom:d}=l();c==null||c.scaleExtent([s,d]),n({minZoom:s})},setMaxZoom:s=>{const{d3Zoom:c,minZoom:d}=l();c==null||c.scaleExtent([d,s]),n({maxZoom:s})},setTranslateExtent:s=>{var c;(c=l().d3Zoom)==null||c.translateExtent(s),n({translateExtent:s})},resetSelectedElements:()=>{const{edges:s,getNodes:c}=l(),g=c().filter(x=>x.selected).map(x=>Oo(x.id,!1)),p=s.filter(x=>x.selected).map(x=>Oo(x.id,!1));ph({changedNodes:g,changedEdges:p,get:l,set:n})},setNodeExtent:s=>{const{nodeInternals:c}=l();c.forEach(d=>{d.positionAbsolute=Bg(d.position,s)}),n({nodeExtent:s,nodeInternals:new Map(c)})},panBy:s=>{const{transform:c,width:d,height:g,d3Zoom:p,d3Selection:x,translateExtent:w}=l();if(!p||!x||!s.x&&!s.y)return!1;const v=Hs.translate(c[0]+s.x,c[1]+s.y).scale(c[2]),_=[[0,0],[d,g]],S=p==null?void 0:p.constrain()(v,_,w);return p.transform(x,S),c[0]!==S.x||c[1]!==S.y||c[2]!==S.k},cancelConnection:()=>n({connectionNodeId:Ro.connectionNodeId,connectionHandleId:Ro.connectionHandleId,connectionHandleType:Ro.connectionHandleType,connectionStatus:Ro.connectionStatus,connectionStartHandle:Ro.connectionStartHandle,connectionEndHandle:Ro.connectionEndHandle}),reset:()=>n({...Ro})}),Object.is),fx=({children:n})=>{const l=G.useRef(null);return l.current||(l.current=Hb()),he.createElement(lN,{value:l.current},n)};fx.displayName="ReactFlowProvider";const dx=({children:n})=>G.useContext(Bh)?he.createElement(he.Fragment,null,n):he.createElement(fx,null,n);dx.displayName="ReactFlowWrapper";const Ub={input:Wy,default:Pg,output:Yy,group:Kg},Bb={default:Oh,straight:Yg,step:Vg,smoothstep:Wh,simplebezier:Wg},Wb=[0,0],Vb=[15,15],Yb={x:0,y:0,zoom:1},qb={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},hx=G.forwardRef(({nodes:n,edges:l,defaultNodes:s,defaultEdges:c,className:d,nodeTypes:g=Ub,edgeTypes:p=Bb,onNodeClick:x,onEdgeClick:w,onInit:v,onMove:_,onMoveStart:S,onMoveEnd:T,onConnect:A,onConnectStart:U,onConnectEnd:F,onClickConnectStart:L,onClickConnectEnd:j,onNodeMouseEnter:E,onNodeMouseMove:P,onNodeMouseLeave:k,onNodeContextMenu:M,onNodeDoubleClick:$,onNodeDragStart:b,onNodeDrag:H,onNodeDragStop:q,onNodesDelete:ie,onEdgesDelete:Y,onSelectionChange:ne,onSelectionDragStart:ae,onSelectionDrag:I,onSelectionDragStop:oe,onSelectionContextMenu:B,onSelectionStart:ee,onSelectionEnd:K,connectionMode:O=ql.Strict,connectionLineType:W=Io.Bezier,connectionLineStyle:D,connectionLineComponent:Q,connectionLineContainerStyle:ge,deleteKeyCode:me="Backspace",selectionKeyCode:ve="Shift",selectionOnDrag:ke=!1,selectionMode:Re=Df.Full,panActivationKeyCode:De="Space",multiSelectionKeyCode:Me=Mh()?"Meta":"Control",zoomActivationKeyCode:Be=Mh()?"Meta":"Control",snapToGrid:xt=!1,snapGrid:vt=Vb,onlyRenderVisibleElements:bt=!1,selectNodesOnDrag:it=!0,nodesDraggable:at,nodesConnectable:Wt,nodesFocusable:Ze,nodeOrigin:Oe=Wb,edgesFocusable:Et,edgesUpdatable:Tt,elementsSelectable:_t,defaultViewport:Ce=Yb,minZoom:qe=.5,maxZoom:ce=2,translateExtent:_e=Ag,preventScrolling:He=!0,nodeExtent:Fe,defaultMarkerColor:ut="#b1b1b7",zoomOnScroll:sn=!0,zoomOnPinch:Un=!0,panOnScroll:Dt=!1,panOnScrollSpeed:Nn=.5,panOnScrollMode:Zn=Ul.Free,zoomOnDoubleClick:Jn=!0,panOnDrag:xr=!0,onPaneClick:bn,onPaneMouseEnter:dn,onPaneMouseMove:ri,onPaneMouseLeave:is,onPaneScroll:ii,onPaneContextMenu:vr,children:Or,onEdgeContextMenu:Ir,onEdgeDoubleClick:Xl,onEdgeMouseEnter:Kl,onEdgeMouseMove:Ql,onEdgeMouseLeave:Fo,onEdgeUpdate:Ho,onEdgeUpdateStart:Zl,onEdgeUpdateEnd:ss,onReconnect:os,onReconnectStart:ls,onReconnectEnd:Uo,reconnectRadius:as=10,edgeUpdaterRadius:Ws=10,onNodesChange:Vs,onEdgesChange:Bo,noDragClassName:Fu="nodrag",noWheelClassName:Hu="nowheel",noPanClassName:Jl="nopan",fitView:si=!1,fitViewOptions:Wo,connectOnClick:ea=!0,attributionPosition:Uu,proOptions:ta,defaultEdgeOptions:na,elevateNodesOnSelect:ra=!0,elevateEdgesOnSelect:ia=!1,disableKeyboardA11y:us=!1,autoPanOnConnect:Bu=!0,autoPanOnNodeDrag:Ct=!0,connectionRadius:Wu=20,isValidConnection:Vo,onError:sa,style:cs,id:Yo,nodeDragThreshold:qo,...Ys},er)=>{const Go=Yo||"1";return he.createElement("div",{...Ys,style:{...cs,...qb},ref:er,className:Dn(["react-flow",d]),"data-testid":"rf__wrapper",id:Yo},he.createElement(dx,null,he.createElement(Fb,{onInit:v,onMove:_,onMoveStart:S,onMoveEnd:T,onNodeClick:x,onEdgeClick:w,onNodeMouseEnter:E,onNodeMouseMove:P,onNodeMouseLeave:k,onNodeContextMenu:M,onNodeDoubleClick:$,nodeTypes:g,edgeTypes:p,connectionLineType:W,connectionLineStyle:D,connectionLineComponent:Q,connectionLineContainerStyle:ge,selectionKeyCode:ve,selectionOnDrag:ke,selectionMode:Re,deleteKeyCode:me,multiSelectionKeyCode:Me,panActivationKeyCode:De,zoomActivationKeyCode:Be,onlyRenderVisibleElements:bt,selectNodesOnDrag:it,defaultViewport:Ce,translateExtent:_e,minZoom:qe,maxZoom:ce,preventScrolling:He,zoomOnScroll:sn,zoomOnPinch:Un,zoomOnDoubleClick:Jn,panOnScroll:Dt,panOnScrollSpeed:Nn,panOnScrollMode:Zn,panOnDrag:xr,onPaneClick:bn,onPaneMouseEnter:dn,onPaneMouseMove:ri,onPaneMouseLeave:is,onPaneScroll:ii,onPaneContextMenu:vr,onSelectionContextMenu:B,onSelectionStart:ee,onSelectionEnd:K,onEdgeContextMenu:Ir,onEdgeDoubleClick:Xl,onEdgeMouseEnter:Kl,onEdgeMouseMove:Ql,onEdgeMouseLeave:Fo,onReconnect:os??Ho,onReconnectStart:ls??Zl,onReconnectEnd:Uo??ss,reconnectRadius:as??Ws,defaultMarkerColor:ut,noDragClassName:Fu,noWheelClassName:Hu,noPanClassName:Jl,elevateEdgesOnSelect:ia,rfId:Go,disableKeyboardA11y:us,nodeOrigin:Oe,nodeExtent:Fe}),he.createElement(IN,{nodes:n,edges:l,defaultNodes:s,defaultEdges:c,onConnect:A,onConnectStart:U,onConnectEnd:F,onClickConnectStart:L,onClickConnectEnd:j,nodesDraggable:at,nodesConnectable:Wt,nodesFocusable:Ze,edgesFocusable:Et,edgesUpdatable:Tt,elementsSelectable:_t,elevateNodesOnSelect:ra,minZoom:qe,maxZoom:ce,nodeExtent:Fe,onNodesChange:Vs,onEdgesChange:Bo,snapToGrid:xt,snapGrid:vt,connectionMode:O,translateExtent:_e,connectOnClick:ea,defaultEdgeOptions:na,fitView:si,fitViewOptions:Wo,onNodesDelete:ie,onEdgesDelete:Y,onNodeDragStart:b,onNodeDrag:H,onNodeDragStop:q,onSelectionDrag:I,onSelectionDragStart:ae,onSelectionDragStop:oe,noPanClassName:Jl,nodeOrigin:Oe,rfId:Go,autoPanOnConnect:Bu,autoPanOnNodeDrag:Ct,onError:sa,connectionRadius:Wu,isValidConnection:Vo,nodeDragThreshold:qo}),he.createElement(zN,{onSelectionChange:ne}),Or,he.createElement(uN,{proOptions:ta,position:Uu}),he.createElement(UN,{rfId:Go,disableKeyboardA11y:us})))});hx.displayName="ReactFlow";const px=({id:n,x:l,y:s,width:c,height:d,style:g,color:p,strokeColor:x,strokeWidth:w,className:v,borderRadius:_,shapeRendering:S,onClick:T,selected:A})=>{const{background:U,backgroundColor:F}=g||{},L=p||U||F;return he.createElement("rect",{className:Dn(["react-flow__minimap-node",{selected:A},v]),x:l,y:s,rx:_,ry:_,width:c,height:d,fill:L,stroke:x,strokeWidth:w,shapeRendering:S,onClick:T?j=>T(j,n):void 0})};px.displayName="MiniMapNode";var Gb=G.memo(px);const Xb=n=>n.nodeOrigin,Kb=n=>n.getNodes().filter(l=>!l.hidden&&l.width&&l.height),cg=n=>n instanceof Function?n:()=>n;function Qb({nodeStrokeColor:n="transparent",nodeColor:l="#e2e2e2",nodeClassName:s="",nodeBorderRadius:c=5,nodeStrokeWidth:d=2,nodeComponent:g=Gb,onClick:p}){const x=It(Kb,Sn),w=It(Xb),v=cg(l),_=cg(n),S=cg(s),T=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return he.createElement(he.Fragment,null,x.map(A=>{const{x:U,y:F}=Wl(A,w).positionAbsolute;return he.createElement(g,{key:A.id,x:U,y:F,width:A.width,height:A.height,style:A.style,selected:A.selected,className:S(A),color:v(A),borderRadius:c,strokeColor:_(A),strokeWidth:d,shapeRendering:T,onClick:p,id:A.id})}))}var Zb=G.memo(Qb);const Jb=200,eE=150,tE=n=>{const l=n.getNodes(),s={x:-n.transform[0]/n.transform[2],y:-n.transform[1]/n.transform[2],width:n.width/n.transform[2],height:n.height/n.transform[2]};return{viewBB:s,boundingRect:l.length>0?dN(Vh(l,n.nodeOrigin),s):s,rfId:n.rfId}},nE="react-flow__minimap-desc";function gx({style:n,className:l,nodeStrokeColor:s="transparent",nodeColor:c="#e2e2e2",nodeClassName:d="",nodeBorderRadius:g=5,nodeStrokeWidth:p=2,nodeComponent:x,maskColor:w="rgb(240, 240, 240, 0.6)",maskStrokeColor:v="none",maskStrokeWidth:_=1,position:S="bottom-right",onClick:T,onNodeClick:A,pannable:U=!1,zoomable:F=!1,ariaLabel:L="React Flow mini map",inversePan:j=!1,zoomStep:E=10,offsetScale:P=5}){const k=fn(),M=G.useRef(null),{boundingRect:$,viewBB:b,rfId:H}=It(tE,Sn),q=(n==null?void 0:n.width)??Jb,ie=(n==null?void 0:n.height)??eE,Y=$.width/q,ne=$.height/ie,ae=Math.max(Y,ne),I=ae*q,oe=ae*ie,B=P*ae,ee=$.x-(I-$.width)/2-B,K=$.y-(oe-$.height)/2-B,O=I+B*2,W=oe+B*2,D=`${nE}-${H}`,Q=G.useRef(0);Q.current=ae,G.useEffect(()=>{if(M.current){const ve=ti(M.current),ke=Me=>{const{transform:Be,d3Selection:xt,d3Zoom:vt}=k.getState();if(Me.sourceEvent.type!=="wheel"||!xt||!vt)return;const bt=-Me.sourceEvent.deltaY*(Me.sourceEvent.deltaMode===1?.05:Me.sourceEvent.deltaMode?1:.002)*E,it=Be[2]*Math.pow(2,bt);vt.scaleTo(xt,it)},Re=Me=>{const{transform:Be,d3Selection:xt,d3Zoom:vt,translateExtent:bt,width:it,height:at}=k.getState();if(Me.sourceEvent.type!=="mousemove"||!xt||!vt)return;const Wt=Q.current*Math.max(1,Be[2])*(j?-1:1),Ze={x:Be[0]-Me.sourceEvent.movementX*Wt,y:Be[1]-Me.sourceEvent.movementY*Wt},Oe=[[0,0],[it,at]],Et=Hs.translate(Ze.x,Ze.y).scale(Be[2]),Tt=vt.constrain()(Et,Oe,bt);vt.transform(xt,Tt)},De=Ny().on("zoom",U?Re:null).on("zoom.wheel",F?ke:null);return ve.call(De),()=>{ve.on("zoom",null)}}},[U,F,j,E]);const ge=T?ve=>{const ke=bi(ve);T(ve,{x:ke[0],y:ke[1]})}:void 0,me=A?(ve,ke)=>{const Re=k.getState().nodeInternals.get(ke);A(ve,Re)}:void 0;return he.createElement(Hg,{position:S,style:n,className:Dn(["react-flow__minimap",l]),"data-testid":"rf__minimap"},he.createElement("svg",{width:q,height:ie,viewBox:`${ee} ${K} ${O} ${W}`,role:"img","aria-labelledby":D,ref:M,onClick:ge},L&&he.createElement("title",{id:D},L),he.createElement(Zb,{onClick:me,nodeColor:c,nodeStrokeColor:s,nodeBorderRadius:g,nodeClassName:d,nodeStrokeWidth:p,nodeComponent:x}),he.createElement("path",{className:"react-flow__minimap-mask",d:`M${ee-B},${K-B}h${O+B*2}v${W+B*2}h${-O-B*2}z
        M${b.x},${b.y}h${b.width}v${b.height}h${-b.width}z`,fill:w,fillRule:"evenodd",stroke:v,strokeWidth:_,pointerEvents:"none"})))}gx.displayName="MiniMap";var rE=G.memo(gx);function iE(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},he.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function sE(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},he.createElement("path",{d:"M0 0h32v4.2H0z"}))}function oE(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},he.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function lE(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},he.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function aE(){return he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},he.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const bf=({children:n,className:l,...s})=>he.createElement("button",{type:"button",className:Dn(["react-flow__controls-button",l]),...s},n);bf.displayName="ControlButton";const uE=n=>({isInteractive:n.nodesDraggable||n.nodesConnectable||n.elementsSelectable,minZoomReached:n.transform[2]<=n.minZoom,maxZoomReached:n.transform[2]>=n.maxZoom}),mx=({style:n,showZoom:l=!0,showFitView:s=!0,showInteractive:c=!0,fitViewOptions:d,onZoomIn:g,onZoomOut:p,onFitView:x,onInteractiveChange:w,className:v,children:_,position:S="bottom-left"})=>{const T=fn(),[A,U]=G.useState(!1),{isInteractive:F,minZoomReached:L,maxZoomReached:j}=It(uE,Sn),{zoomIn:E,zoomOut:P,fitView:k}=Qg();if(G.useEffect(()=>{U(!0)},[]),!A)return null;const M=()=>{E(),g==null||g()},$=()=>{P(),p==null||p()},b=()=>{k(d),x==null||x()},H=()=>{T.setState({nodesDraggable:!F,nodesConnectable:!F,elementsSelectable:!F}),w==null||w(!F)};return he.createElement(Hg,{className:Dn(["react-flow__controls",v]),position:S,style:n,"data-testid":"rf__controls"},l&&he.createElement(he.Fragment,null,he.createElement(bf,{onClick:M,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:j},he.createElement(iE,null)),he.createElement(bf,{onClick:$,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:L},he.createElement(sE,null))),s&&he.createElement(bf,{className:"react-flow__controls-fitview",onClick:b,title:"fit view","aria-label":"fit view"},he.createElement(oE,null)),c&&he.createElement(bf,{className:"react-flow__controls-interactive",onClick:H,title:"toggle interactivity","aria-label":"toggle interactivity"},F?he.createElement(aE,null):he.createElement(lE,null)),_)};mx.displayName="Controls";var cE=G.memo(mx),Ci;(function(n){n.Lines="lines",n.Dots="dots",n.Cross="cross"})(Ci||(Ci={}));function fE({color:n,dimensions:l,lineWidth:s}){return he.createElement("path",{stroke:n,strokeWidth:s,d:`M${l[0]/2} 0 V${l[1]} M0 ${l[1]/2} H${l[0]}`})}function dE({color:n,radius:l}){return he.createElement("circle",{cx:l,cy:l,r:l,fill:n})}const hE={[Ci.Dots]:"#91919a",[Ci.Lines]:"#eee",[Ci.Cross]:"#e2e2e2"},pE={[Ci.Dots]:1,[Ci.Lines]:1,[Ci.Cross]:6},gE=n=>({transform:n.transform,patternId:`pattern-${n.rfId}`});function yx({id:n,variant:l=Ci.Dots,gap:s=20,size:c,lineWidth:d=1,offset:g=2,color:p,style:x,className:w}){const v=G.useRef(null),{transform:_,patternId:S}=It(gE,Sn),T=p||hE[l],A=c||pE[l],U=l===Ci.Dots,F=l===Ci.Cross,L=Array.isArray(s)?s:[s,s],j=[L[0]*_[2]||1,L[1]*_[2]||1],E=A*_[2],P=F?[E,E]:j,k=U?[E/g,E/g]:[P[0]/g,P[1]/g];return he.createElement("svg",{className:Dn(["react-flow__background",w]),style:{...x,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:v,"data-testid":"rf__background"},he.createElement("pattern",{id:S+n,x:_[0]%j[0],y:_[1]%j[1],width:j[0],height:j[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${k[0]},-${k[1]})`},U?he.createElement(dE,{color:T,radius:E/g}):he.createElement(fE,{dimensions:P,color:T,lineWidth:d})),he.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${S+n})`}))}yx.displayName="Background";var mE=G.memo(yx),Ef={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var yE=Ef.exports,Em;function xE(){return Em||(Em=1,function(n,l){(function(){var s,c="4.17.21",d=200,g="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",p="Expected a function",x="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",v=500,_="__lodash_placeholder__",S=1,T=2,A=4,U=1,F=2,L=1,j=2,E=4,P=8,k=16,M=32,$=64,b=128,H=256,q=512,ie=30,Y="...",ne=800,ae=16,I=1,oe=2,B=3,ee=1/0,K=9007199254740991,O=17976931348623157e292,W=NaN,D=4294967295,Q=D-1,ge=D>>>1,me=[["ary",b],["bind",L],["bindKey",j],["curry",P],["curryRight",k],["flip",q],["partial",M],["partialRight",$],["rearg",H]],ve="[object Arguments]",ke="[object Array]",Re="[object AsyncFunction]",De="[object Boolean]",Me="[object Date]",Be="[object DOMException]",xt="[object Error]",vt="[object Function]",bt="[object GeneratorFunction]",it="[object Map]",at="[object Number]",Wt="[object Null]",Ze="[object Object]",Oe="[object Promise]",Et="[object Proxy]",Tt="[object RegExp]",_t="[object Set]",Ce="[object String]",qe="[object Symbol]",ce="[object Undefined]",_e="[object WeakMap]",He="[object WeakSet]",Fe="[object ArrayBuffer]",ut="[object DataView]",sn="[object Float32Array]",Un="[object Float64Array]",Dt="[object Int8Array]",Nn="[object Int16Array]",Zn="[object Int32Array]",Jn="[object Uint8Array]",xr="[object Uint8ClampedArray]",bn="[object Uint16Array]",dn="[object Uint32Array]",ri=/\b__p \+= '';/g,is=/\b(__p \+=) '' \+/g,ii=/(__e\(.*?\)|\b__t\)) \+\n'';/g,vr=/&(?:amp|lt|gt|quot|#39);/g,Or=/[&<>"']/g,Ir=RegExp(vr.source),Xl=RegExp(Or.source),Kl=/<%-([\s\S]+?)%>/g,Ql=/<%([\s\S]+?)%>/g,Fo=/<%=([\s\S]+?)%>/g,Ho=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Zl=/^\w*$/,ss=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,os=/[\\^$.*+?()[\]{}|]/g,ls=RegExp(os.source),Uo=/^\s+/,as=/\s/,Ws=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Vs=/\{\n\/\* \[wrapped with (.+)\] \*/,Bo=/,? & /,Fu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Hu=/[()=,{}\[\]\/\s]/,Jl=/\\(\\)?/g,si=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wo=/\w*$/,ea=/^[-+]0x[0-9a-f]+$/i,Uu=/^0b[01]+$/i,ta=/^\[object .+?Constructor\]$/,na=/^0o[0-7]+$/i,ra=/^(?:0|[1-9]\d*)$/,ia=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,us=/($^)/,Bu=/['\n\r\u2028\u2029\\]/g,Ct="\\ud800-\\udfff",Wu="\\u0300-\\u036f",Vo="\\ufe20-\\ufe2f",sa="\\u20d0-\\u20ff",cs=Wu+Vo+sa,Yo="\\u2700-\\u27bf",qo="a-z\\xdf-\\xf6\\xf8-\\xff",Ys="\\xac\\xb1\\xd7\\xf7",er="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Go="\\u2000-\\u206f",wr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$f="A-Z\\xc0-\\xd6\\xd8-\\xde",Lf="\\ufe0e\\ufe0f",Ff=Ys+er+Go+wr,qs="[']",oa="["+Ct+"]",Gs="["+Ff+"]",fs="["+cs+"]",Hf="\\d+",Gh="["+Yo+"]",la="["+qo+"]",Vu="[^"+Ct+Ff+Hf+Yo+qo+$f+"]",Xo="\\ud83c[\\udffb-\\udfff]",Ko="(?:"+fs+"|"+Xo+")",Uf="[^"+Ct+"]",Qo="(?:\\ud83c[\\udde6-\\uddff]){2}",mt="[\\ud800-\\udbff][\\udc00-\\udfff]",ds="["+$f+"]",Yu="\\u200d",aa="(?:"+la+"|"+Vu+")",Bf="(?:"+ds+"|"+Vu+")",qu="(?:"+qs+"(?:d|ll|m|re|s|t|ve))?",Gu="(?:"+qs+"(?:D|LL|M|RE|S|T|VE))?",ua=Ko+"?",Zo="["+Lf+"]?",ji="(?:"+Yu+"(?:"+[Uf,Qo,mt].join("|")+")"+Zo+ua+")*",Ti="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Xs=Zo+ua+ji,Jo="(?:"+[Gh,Qo,mt].join("|")+")"+Xs,Ri="(?:"+[Uf+fs+"?",fs,Qo,mt,oa].join("|")+")",Xh=RegExp(qs,"g"),Wf=RegExp(fs,"g"),hs=RegExp(Xo+"(?="+Xo+")|"+Ri+Xs,"g"),Kh=RegExp([ds+"?"+la+"+"+qu+"(?="+[Gs,ds,"$"].join("|")+")",Bf+"+"+Gu+"(?="+[Gs,ds+aa,"$"].join("|")+")",ds+"?"+aa+"+"+qu,ds+"+"+Gu,Pi,Ti,Hf,Jo].join("|"),"g"),Vf=RegExp("["+Yu+Ct+cs+Lf+"]"),ca=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Qh=-1,wt={};wt[sn]=wt[Un]=wt[Dt]=wt[Nn]=wt[Zn]=wt[Jn]=wt[xr]=wt[bn]=wt[dn]=!0,wt[ve]=wt[ke]=wt[Fe]=wt[De]=wt[ut]=wt[Me]=wt[xt]=wt[vt]=wt[it]=wt[at]=wt[Ze]=wt[Tt]=wt[_t]=wt[Ce]=wt[_e]=!1;var yt={};yt[ve]=yt[ke]=yt[Fe]=yt[ut]=yt[De]=yt[Me]=yt[sn]=yt[Un]=yt[Dt]=yt[Nn]=yt[Zn]=yt[it]=yt[at]=yt[Ze]=yt[Tt]=yt[_t]=yt[Ce]=yt[qe]=yt[Jn]=yt[xr]=yt[bn]=yt[dn]=!0,yt[xt]=yt[vt]=yt[_e]=!1;var Ks={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},fa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Zh={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Jh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xu=parseFloat,da=parseInt,ha=typeof sh=="object"&&sh&&sh.Object===Object&&sh,qf=typeof self=="object"&&self&&self.Object===Object&&self,Mt=ha||qf||Function("return this")(),el=l&&!l.nodeType&&l,$r=el&&!0&&n&&!n.nodeType&&n,Ku=$r&&$r.exports===el,Qs=Ku&&ha.process,En=function(){try{var re=$r&&$r.require&&$r.require("util").types;return re||Qs&&Qs.binding&&Qs.binding("util")}catch{}}(),Qu=En&&En.isArrayBuffer,Mn=En&&En.isDate,ps=En&&En.isMap,pa=En&&En.isRegExp,Zs=En&&En.isSet,Gf=En&&En.isTypedArray;function Cn(re,pe,fe){switch(fe.length){case 0:return re.call(pe);case 1:return re.call(pe,fe[0]);case 2:return re.call(pe,fe[0],fe[1]);case 3:return re.call(pe,fe[0],fe[1],fe[2])}return re.apply(pe,fe)}function Zu(re,pe,fe,Te){for(var Qe=-1,ht=re==null?0:re.length;++Qe<ht;){var Vt=re[Qe];pe(Te,Vt,fe(Vt),re)}return Te}function hn(re,pe){for(var fe=-1,Te=re==null?0:re.length;++fe<Te&&pe(re[fe],fe,re)!==!1;);return re}function ga(re,pe){for(var fe=re==null?0:re.length;fe--&&pe(re[fe],fe,re)!==!1;);return re}function Ju(re,pe){for(var fe=-1,Te=re==null?0:re.length;++fe<Te;)if(!pe(re[fe],fe,re))return!1;return!0}function Ai(re,pe){for(var fe=-1,Te=re==null?0:re.length,Qe=0,ht=[];++fe<Te;){var Vt=re[fe];pe(Vt,fe,re)&&(ht[Qe++]=Vt)}return ht}function ma(re,pe){var fe=re==null?0:re.length;return!!fe&&Js(re,pe,0)>-1}function ec(re,pe,fe){for(var Te=-1,Qe=re==null?0:re.length;++Te<Qe;)if(fe(pe,re[Te]))return!0;return!1}function kt(re,pe){for(var fe=-1,Te=re==null?0:re.length,Qe=Array(Te);++fe<Te;)Qe[fe]=pe(re[fe],fe,re);return Qe}function Di(re,pe){for(var fe=-1,Te=pe.length,Qe=re.length;++fe<Te;)re[Qe+fe]=pe[fe];return re}function tc(re,pe,fe,Te){var Qe=-1,ht=re==null?0:re.length;for(Te&&ht&&(fe=re[++Qe]);++Qe<ht;)fe=pe(fe,re[Qe],Qe,re);return fe}function ep(re,pe,fe,Te){var Qe=re==null?0:re.length;for(Te&&Qe&&(fe=re[--Qe]);Qe--;)fe=pe(fe,re[Qe],Qe,re);return fe}function nc(re,pe){for(var fe=-1,Te=re==null?0:re.length;++fe<Te;)if(pe(re[fe],fe,re))return!0;return!1}var tp=ic("length");function Xf(re){return re.split("")}function np(re){return re.match(Fu)||[]}function Kf(re,pe,fe){var Te;return fe(re,function(Qe,ht,Vt){if(pe(Qe,ht,Vt))return Te=ht,!1}),Te}function ya(re,pe,fe,Te){for(var Qe=re.length,ht=fe+(Te?1:-1);Te?ht--:++ht<Qe;)if(pe(re[ht],ht,re))return ht;return-1}function Js(re,pe,fe){return pe===pe?wa(re,pe,fe):ya(re,Qf,fe)}function rc(re,pe,fe,Te){for(var Qe=fe-1,ht=re.length;++Qe<ht;)if(Te(re[Qe],pe))return Qe;return-1}function Qf(re){return re!==re}function Zf(re,pe){var fe=re==null?0:re.length;return fe?sc(re,pe)/fe:W}function ic(re){return function(pe){return pe==null?s:pe[re]}}function xa(re){return function(pe){return re==null?s:re[pe]}}function Jf(re,pe,fe,Te,Qe){return Qe(re,function(ht,Vt,St){fe=Te?(Te=!1,ht):pe(fe,ht,Vt,St)}),fe}function rp(re,pe){var fe=re.length;for(re.sort(pe);fe--;)re[fe]=re[fe].value;return re}function sc(re,pe){for(var fe,Te=-1,Qe=re.length;++Te<Qe;){var ht=pe(re[Te]);ht!==s&&(fe=fe===s?ht:fe+ht)}return fe}function oc(re,pe){for(var fe=-1,Te=Array(re);++fe<re;)Te[fe]=pe(fe);return Te}function ip(re,pe){return kt(pe,function(fe){return[fe,re[fe]]})}function ed(re){return re&&re.slice(0,_a(re)+1).replace(Uo,"")}function Bn(re){return function(pe){return re(pe)}}function tl(re,pe){return kt(pe,function(fe){return re[fe]})}function oi(re,pe){return re.has(pe)}function td(re,pe){for(var fe=-1,Te=re.length;++fe<Te&&Js(pe,re[fe],0)>-1;);return fe}function lc(re,pe){for(var fe=re.length;fe--&&Js(pe,re[fe],0)>-1;);return fe}function nd(re,pe){for(var fe=re.length,Te=0;fe--;)re[fe]===pe&&++Te;return Te}var rd=xa(Ks),id=xa(fa);function sd(re){return"\\"+Jh[re]}function eo(re,pe){return re==null?s:re[pe]}function to(re){return Vf.test(re)}function sp(re){return ca.test(re)}function op(re){for(var pe,fe=[];!(pe=re.next()).done;)fe.push(pe.value);return fe}function va(re){var pe=-1,fe=Array(re.size);return re.forEach(function(Te,Qe){fe[++pe]=[Qe,Te]}),fe}function ac(re,pe){return function(fe){return re(pe(fe))}}function tr(re,pe){for(var fe=-1,Te=re.length,Qe=0,ht=[];++fe<Te;){var Vt=re[fe];(Vt===pe||Vt===_)&&(re[fe]=_,ht[Qe++]=fe)}return ht}function Mi(re){var pe=-1,fe=Array(re.size);return re.forEach(function(Te){fe[++pe]=Te}),fe}function lp(re){var pe=-1,fe=Array(re.size);return re.forEach(function(Te){fe[++pe]=[Te,Te]}),fe}function wa(re,pe,fe){for(var Te=fe-1,Qe=re.length;++Te<Qe;)if(re[Te]===pe)return Te;return-1}function ap(re,pe,fe){for(var Te=fe+1;Te--;)if(re[Te]===pe)return Te;return Te}function gs(re){return to(re)?ld(re):tp(re)}function Wn(re){return to(re)?ad(re):Xf(re)}function _a(re){for(var pe=re.length;pe--&&as.test(re.charAt(pe)););return pe}var od=xa(Zh);function ld(re){for(var pe=hs.lastIndex=0;hs.test(re);)++pe;return pe}function ad(re){return re.match(hs)||[]}function up(re){return re.match(Kh)||[]}var cp=function re(pe){pe=pe==null?Mt:no.defaults(Mt.Object(),pe,no.pick(Mt,Yf));var fe=pe.Array,Te=pe.Date,Qe=pe.Error,ht=pe.Function,Vt=pe.Math,St=pe.Object,nl=pe.RegExp,fp=pe.String,nr=pe.TypeError,li=fe.prototype,uc=ht.prototype,Lr=St.prototype,ro=pe["__core-js_shared__"],rl=uc.toString,pt=Lr.hasOwnProperty,io=0,Sa=function(){var r=/[^.]+$/.exec(ro&&ro.keys&&ro.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),il=Lr.toString,Na=rl.call(St),ud=Mt._,cd=nl("^"+rl.call(pt).replace(os,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sl=Ku?pe.Buffer:s,ai=pe.Symbol,ol=pe.Uint8Array,cc=sl?sl.allocUnsafe:s,_r=ac(St.getPrototypeOf,St),ba=St.create,Ea=Lr.propertyIsEnumerable,Ca=li.splice,fd=ai?ai.isConcatSpreadable:s,ui=ai?ai.iterator:s,ms=ai?ai.toStringTag:s,ll=function(){try{var r=Vi(St,"defineProperty");return r({},"",{}),r}catch{}}(),dd=pe.clearTimeout!==Mt.clearTimeout&&pe.clearTimeout,Pt=Te&&Te.now!==Mt.Date.now&&Te.now,fc=pe.setTimeout!==Mt.setTimeout&&pe.setTimeout,ys=Vt.ceil,zi=Vt.floor,ka=St.getOwnPropertySymbols,dc=sl?sl.isBuffer:s,so=pe.isFinite,ja=li.join,oo=ac(St.keys,St),Yt=Vt.max,pn=Vt.min,dp=Te.now,hd=pe.parseInt,al=Vt.random,Ta=li.reverse,ul=Vi(pe,"DataView"),xs=Vi(pe,"Map"),cl=Vi(pe,"Promise"),Oi=Vi(pe,"Set"),fl=Vi(pe,"WeakMap"),lo=Vi(St,"create"),Pa=fl&&new fl,ao={},hc=Yi(ul),Ii=Yi(xs),pd=Yi(cl),uo=Yi(Oi),Fr=Yi(fl),$i=ai?ai.prototype:s,Vn=$i?$i.valueOf:s,Ra=$i?$i.toString:s;function R(r){if(Gt(r)&&!et(r)&&!(r instanceof Je)){if(r instanceof gn)return r;if(pt.call(r,"__wrapped__"))return Ud(r)}return new gn(r)}var co=function(){function r(){}return function(i){if(!Bt(i))return{};if(ba)return ba(i);r.prototype=i;var u=new r;return r.prototype=s,u}}();function Hr(){}function gn(r,i){this.__wrapped__=r,this.__actions__=[],this.__chain__=!!i,this.__index__=0,this.__values__=s}R.templateSettings={escape:Kl,evaluate:Ql,interpolate:Fo,variable:"",imports:{_:R}},R.prototype=Hr.prototype,R.prototype.constructor=R,gn.prototype=co(Hr.prototype),gn.prototype.constructor=gn;function Je(r){this.__wrapped__=r,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=D,this.__views__=[]}function Aa(){var r=new Je(this.__wrapped__);return r.__actions__=jn(this.__actions__),r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=jn(this.__iteratees__),r.__takeCount__=this.__takeCount__,r.__views__=jn(this.__views__),r}function pc(){if(this.__filtered__){var r=new Je(this);r.__dir__=-1,r.__filtered__=!0}else r=this.clone(),r.__dir__*=-1;return r}function fo(){var r=this.__wrapped__.value(),i=this.__dir__,u=et(r),y=i<0,N=u?r.length:0,z=Uc(0,N,this.__views__),X=z.start,J=z.end,se=J-X,ye=y?J:X-1,xe=this.__iteratees__,Ne=xe.length,je=0,Le=pn(se,this.__takeCount__);if(!u||!y&&N==se&&Le==se)return wo(r,this.__actions__);var Xe=[];e:for(;se--&&je<Le;){ye+=i;for(var rt=-1,Ke=r[ye];++rt<Ne;){var lt=xe[rt],dt=lt.iteratee,Rr=lt.type,Kn=dt(Ke);if(Rr==oe)Ke=Kn;else if(!Kn){if(Rr==I)continue e;break e}}Xe[je++]=Ke}return Xe}Je.prototype=co(Hr.prototype),Je.prototype.constructor=Je;function zn(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var y=r[i];this.set(y[0],y[1])}}function Rt(){this.__data__=lo?lo(null):{},this.size=0}function jt(r){var i=this.has(r)&&delete this.__data__[r];return this.size-=i?1:0,i}function Li(r){var i=this.__data__;if(lo){var u=i[r];return u===w?s:u}return pt.call(i,r)?i[r]:s}function mn(r){var i=this.__data__;return lo?i[r]!==s:pt.call(i,r)}function On(r,i){var u=this.__data__;return this.size+=this.has(r)?0:1,u[r]=lo&&i===s?w:i,this}zn.prototype.clear=Rt,zn.prototype.delete=jt,zn.prototype.get=Li,zn.prototype.has=mn,zn.prototype.set=On;function kn(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var y=r[i];this.set(y[0],y[1])}}function ho(){this.__data__=[],this.size=0}function In(r){var i=this.__data__,u=xn(i,r);if(u<0)return!1;var y=i.length-1;return u==y?i.pop():Ca.call(i,u,1),--this.size,!0}function Da(r){var i=this.__data__,u=xn(i,r);return u<0?s:i[u][1]}function gd(r){return xn(this.__data__,r)>-1}function md(r,i){var u=this.__data__,y=xn(u,r);return y<0?(++this.size,u.push([r,i])):u[y][1]=i,this}kn.prototype.clear=ho,kn.prototype.delete=In,kn.prototype.get=Da,kn.prototype.has=gd,kn.prototype.set=md;function rr(r){var i=-1,u=r==null?0:r.length;for(this.clear();++i<u;){var y=r[i];this.set(y[0],y[1])}}function yd(){this.size=0,this.__data__={hash:new zn,map:new(xs||kn),string:new zn}}function ci(r){var i=kl(this,r).delete(r);return this.size-=i?1:0,i}function Ma(r){return kl(this,r).get(r)}function gc(r){return kl(this,r).has(r)}function xd(r,i){var u=kl(this,r),y=u.size;return u.set(r,i),this.size+=u.size==y?0:1,this}rr.prototype.clear=yd,rr.prototype.delete=ci,rr.prototype.get=Ma,rr.prototype.has=gc,rr.prototype.set=xd;function vs(r){var i=-1,u=r==null?0:r.length;for(this.__data__=new rr;++i<u;)this.add(r[i])}function Fi(r){return this.__data__.set(r,w),this}function po(r){return this.__data__.has(r)}vs.prototype.add=vs.prototype.push=Fi,vs.prototype.has=po;function yn(r){var i=this.__data__=new kn(r);this.size=i.size}function za(){this.__data__=new kn,this.size=0}function Oa(r){var i=this.__data__,u=i.delete(r);return this.size=i.size,u}function ir(r){return this.__data__.get(r)}function sr(r){return this.__data__.has(r)}function ws(r,i){var u=this.__data__;if(u instanceof kn){var y=u.__data__;if(!xs||y.length<d-1)return y.push([r,i]),this.size=++u.size,this;u=this.__data__=new rr(y)}return u.set(r,i),this.size=u.size,this}yn.prototype.clear=za,yn.prototype.delete=Oa,yn.prototype.get=ir,yn.prototype.has=sr,yn.prototype.set=ws;function Ur(r,i){var u=et(r),y=!u&&Ll(r),N=!u&&!y&&Po(r),z=!u&&!y&&!N&&Eu(r),X=u||y||N||z,J=X?oc(r.length,fp):[],se=J.length;for(var ye in r)(i||pt.call(r,ye))&&!(X&&(ye=="length"||N&&(ye=="offset"||ye=="parent")||z&&(ye=="buffer"||ye=="byteLength"||ye=="byteOffset")||Ot(ye,se)))&&J.push(ye);return J}function Br(r){var i=r.length;return i?r[xo(0,i-1)]:s}function _s(r,i){return au(jn(r),fi(i,0,r.length))}function vd(r){return au(jn(r))}function dl(r,i,u){(u!==s&&!_i(r[i],u)||u===s&&!(i in r))&&Wr(r,i,u)}function Ss(r,i,u){var y=r[i];(!(pt.call(r,i)&&_i(y,u))||u===s&&!(i in r))&&Wr(r,i,u)}function xn(r,i){for(var u=r.length;u--;)if(_i(r[u][0],i))return u;return-1}function Yn(r,i,u,y){return Yr(r,function(N,z,X){i(y,N,u(N),X)}),y}function At(r,i){return r&&Nr(i,_n(i),r)}function Sr(r,i){return r&&Nr(i,pr(i),r)}function Wr(r,i,u){i=="__proto__"&&ll?ll(r,i,{configurable:!0,enumerable:!0,value:u,writable:!0}):r[i]=u}function Ia(r,i){for(var u=-1,y=i.length,N=fe(y),z=r==null;++u<y;)N[u]=z?s:Op(r,i[u]);return N}function fi(r,i,u){return r===r&&(u!==s&&(r=r<=u?r:u),i!==s&&(r=r>=i?r:i)),r}function $n(r,i,u,y,N,z){var X,J=i&S,se=i&T,ye=i&A;if(u&&(X=N?u(r,y,N,z):u(r)),X!==s)return X;if(!Bt(r))return r;var xe=et(r);if(xe){if(X=Tl(r),!J)return jn(r,X)}else{var Ne=an(r),je=Ne==vt||Ne==bt;if(Po(r))return Pc(r,J);if(Ne==Ze||Ne==ve||je&&!N){if(X=se||je?{}:un(r),!J)return se?pp(r,Sr(X,r)):Ka(r,At(X,r))}else{if(!yt[Ne])return N?r:{};X=gp(r,Ne,J)}}z||(z=new yn);var Le=z.get(r);if(Le)return Le;z.set(r,X),r0(r)?r.forEach(function(Ke){X.add($n(Ke,i,u,Ke,r,z))}):t0(r)&&r.forEach(function(Ke,lt){X.set(lt,$n(Ke,i,u,lt,r,z))});var Xe=ye?se?Cl:El:se?pr:_n,rt=xe?s:Xe(r);return hn(rt||r,function(Ke,lt){rt&&(lt=Ke,Ke=r[lt]),Ss(X,lt,$n(Ke,i,u,lt,r,z))}),X}function wd(r){var i=_n(r);return function(u){return hl(u,r,i)}}function hl(r,i,u){var y=u.length;if(r==null)return!y;for(r=St(r);y--;){var N=u[y],z=i[N],X=r[N];if(X===s&&!(N in r)||!z(X))return!1}return!0}function mc(r,i,u){if(typeof r!="function")throw new nr(p);return ko(function(){r.apply(s,u)},i)}function Vr(r,i,u,y){var N=-1,z=ma,X=!0,J=r.length,se=[],ye=i.length;if(!J)return se;u&&(i=kt(i,Bn(u))),y?(z=ec,X=!1):i.length>=d&&(z=oi,X=!1,i=new vs(i));e:for(;++N<J;){var xe=r[N],Ne=u==null?xe:u(xe);if(xe=y||xe!==0?xe:0,X&&Ne===Ne){for(var je=ye;je--;)if(i[je]===Ne)continue e;se.push(xe)}else z(i,Ne,y)||se.push(xe)}return se}var Yr=cr(qn),_d=cr(Hi,!0);function pl(r,i){var u=!0;return Yr(r,function(y,N,z){return u=!!i(y,N,z),u}),u}function Ns(r,i,u){for(var y=-1,N=r.length;++y<N;){var z=r[y],X=i(z);if(X!=null&&(J===s?X===X&&!Pr(X):u(X,J)))var J=X,se=z}return se}function Sd(r,i,u,y){var N=r.length;for(u=nt(u),u<0&&(u=-u>N?0:N+u),y=y===s||y>N?N:nt(y),y<0&&(y+=N),y=u>y?0:s0(y);u<y;)r[u++]=i;return r}function yc(r,i){var u=[];return Yr(r,function(y,N,z){i(y,N,z)&&u.push(y)}),u}function Ft(r,i,u,y,N){var z=-1,X=r.length;for(u||(u=su),N||(N=[]);++z<X;){var J=r[z];i>0&&u(J)?i>1?Ft(J,i-1,u,y,N):Di(N,J):y||(N[N.length]=J)}return N}var $a=Za(),gl=Za(!0);function qn(r,i){return r&&$a(r,i,_n)}function Hi(r,i){return r&&gl(r,i,_n)}function go(r,i){return Ai(i,function(u){return Os(r[u])})}function di(r,i){i=Xr(i,r);for(var u=0,y=i.length;r!=null&&u<y;)r=r[kr(i[u++])];return u&&u==y?r:s}function La(r,i,u){var y=i(r);return et(r)?y:Di(y,u(r))}function on(r){return r==null?r===s?ce:Wt:ms&&ms in St(r)?iu(r):Wc(r)}function Ui(r,i){return r>i}function or(r,i){return r!=null&&pt.call(r,i)}function bs(r,i){return r!=null&&i in St(r)}function xc(r,i,u){return r>=pn(i,u)&&r<Yt(i,u)}function Fa(r,i,u){for(var y=u?ec:ma,N=r[0].length,z=r.length,X=z,J=fe(z),se=1/0,ye=[];X--;){var xe=r[X];X&&i&&(xe=kt(xe,Bn(i))),se=pn(xe.length,se),J[X]=!u&&(i||N>=120&&xe.length>=120)?new vs(X&&xe):s}xe=r[0];var Ne=-1,je=J[0];e:for(;++Ne<N&&ye.length<se;){var Le=xe[Ne],Xe=i?i(Le):Le;if(Le=u||Le!==0?Le:0,!(je?oi(je,Xe):y(ye,Xe,u))){for(X=z;--X;){var rt=J[X];if(!(rt?oi(rt,Xe):y(r[X],Xe,u)))continue e}je&&je.push(Xe),ye.push(Le)}}return ye}function hi(r,i,u,y){return qn(r,function(N,z,X){i(y,u(N),z,X)}),y}function lr(r,i,u){i=Xr(i,r),r=tn(r,i);var y=r==null?r:r[kr(Rn(i))];return y==null?s:Cn(y,r,u)}function Ha(r){return Gt(r)&&on(r)==ve}function Nd(r){return Gt(r)&&on(r)==Fe}function pi(r){return Gt(r)&&on(r)==Me}function ar(r,i,u,y,N){return r===i?!0:r==null||i==null||!Gt(r)&&!Gt(i)?r!==r&&i!==i:Ua(r,i,u,y,ar,N)}function Ua(r,i,u,y,N,z){var X=et(r),J=et(i),se=X?ke:an(r),ye=J?ke:an(i);se=se==ve?Ze:se,ye=ye==ve?Ze:ye;var xe=se==Ze,Ne=ye==Ze,je=se==ye;if(je&&Po(r)){if(!Po(i))return!1;X=!0,xe=!1}if(je&&!xe)return z||(z=new yn),X||Eu(r)?Fc(r,i,u,y,N,z):Hc(r,i,se,u,y,N,z);if(!(u&U)){var Le=xe&&pt.call(r,"__wrapped__"),Xe=Ne&&pt.call(i,"__wrapped__");if(Le||Xe){var rt=Le?r.value():r,Ke=Xe?i.value():i;return z||(z=new yn),N(rt,Ke,u,y,z)}}return je?(z||(z=new yn),Md(r,i,u,y,N,z)):!1}function bd(r){return Gt(r)&&an(r)==it}function mo(r,i,u,y){var N=u.length,z=N,X=!y;if(r==null)return!z;for(r=St(r);N--;){var J=u[N];if(X&&J[2]?J[1]!==r[J[0]]:!(J[0]in r))return!1}for(;++N<z;){J=u[N];var se=J[0],ye=r[se],xe=J[1];if(X&&J[2]){if(ye===s&&!(se in r))return!1}else{var Ne=new yn;if(y)var je=y(ye,xe,se,r,i,Ne);if(!(je===s?ar(xe,ye,U|F,y,Ne):je))return!1}}return!0}function vc(r){if(!Bt(r)||Id(r))return!1;var i=Os(r)?cd:ta;return i.test(Yi(r))}function ml(r){return Gt(r)&&on(r)==Tt}function qr(r){return Gt(r)&&an(r)==_t}function yl(r){return Gt(r)&&nh(r.length)&&!!wt[on(r)]}function yo(r){return typeof r=="function"?r:r==null?gr:typeof r=="object"?et(r)?zt(r[0],r[1]):Ba(r):m0(r)}function gi(r){if(!vi(r))return oo(r);var i=[];for(var u in St(r))pt.call(r,u)&&u!="constructor"&&i.push(u);return i}function wc(r){if(!Bt(r))return Fd(r);var i=vi(r),u=[];for(var y in r)y=="constructor"&&(i||!pt.call(r,y))||u.push(y);return u}function Bi(r,i){return r<i}function _c(r,i){var u=-1,y=hr(r)?fe(r.length):[];return Yr(r,function(N,z,X){y[++u]=i(N,z,X)}),y}function Ba(r){var i=jl(r);return i.length==1&&i[0][2]?ou(i[0][0],i[0][1]):function(u){return u===r||mo(u,r,i)}}function zt(r,i){return Ae(r)&&Rl(i)?ou(kr(r),i):function(u){var y=Op(u,r);return y===s&&y===i?Ip(u,r):ar(i,y,U|F)}}function Es(r,i,u,y,N){r!==i&&$a(i,function(z,X){if(N||(N=new yn),Bt(z))Sc(r,i,X,u,Es,y,N);else{var J=y?y(Zr(r,X),z,X+"",r,i,N):s;J===s&&(J=z),dl(r,X,J)}},pr)}function Sc(r,i,u,y,N,z,X){var J=Zr(r,u),se=Zr(i,u),ye=X.get(se);if(ye){dl(r,u,ye);return}var xe=z?z(J,se,u+"",r,i,X):s,Ne=xe===s;if(Ne){var je=et(se),Le=!je&&Po(se),Xe=!je&&!Le&&Eu(se);xe=se,je||Le||Xe?et(J)?xe=J:Zt(J)?xe=jn(J):Le?(Ne=!1,xe=Pc(se,!0)):Xe?(Ne=!1,xe=Td(se,!0)):xe=[]:uf(se)||Ll(se)?(xe=J,Ll(J)?xe=o0(J):(!Bt(J)||Os(J))&&(xe=un(se))):Ne=!1}Ne&&(X.set(se,xe),N(xe,se,y,z,X),X.delete(se)),dl(r,u,xe)}function Wa(r,i){var u=r.length;if(u)return i+=i<0?u:0,Ot(i,u)?r[i]:s}function xl(r,i,u){i.length?i=kt(i,function(z){return et(z)?function(X){return di(X,z.length===1?z[0]:z)}:z}):i=[gr];var y=-1;i=kt(i,Bn(Ye()));var N=_c(r,function(z,X,J){var se=kt(i,function(ye){return ye(z)});return{criteria:se,index:++y,value:z}});return rp(N,function(z,X){return hp(z,X,u)})}function Nc(r,i){return Wi(r,i,function(u,y){return Ip(r,y)})}function Wi(r,i,u){for(var y=-1,N=i.length,z={};++y<N;){var X=i[y],J=di(r,X);u(J,X)&&ks(z,Xr(X,r),J)}return z}function $t(r){return function(i){return di(i,r)}}function Ht(r,i,u,y){var N=y?rc:Js,z=-1,X=i.length,J=r;for(r===i&&(i=jn(i)),u&&(J=kt(r,Bn(u)));++z<X;)for(var se=0,ye=i[z],xe=u?u(ye):ye;(se=N(J,xe,se,y))>-1;)J!==r&&Ca.call(J,se,1),Ca.call(r,se,1);return r}function Kt(r,i){for(var u=r?i.length:0,y=u-1;u--;){var N=i[u];if(u==y||N!==z){var z=N;Ot(N)?Ca.call(r,N,1):qa(r,N)}}return r}function xo(r,i){return r+zi(al()*(i-r+1))}function vl(r,i,u,y){for(var N=-1,z=Yt(ys((i-r)/(u||1)),0),X=fe(z);z--;)X[y?z:++N]=r,r+=u;return X}function Cs(r,i){var u="";if(!r||i<1||i>K)return u;do i%2&&(u+=r),i=zi(i/2),i&&(r+=r);while(i);return u}function tt(r,i){return Gn(lu(r,i,gr),r+"")}function vn(r){return Br(Cu(r))}function bc(r,i){var u=Cu(r);return au(u,fi(i,0,u.length))}function ks(r,i,u,y){if(!Bt(r))return r;i=Xr(i,r);for(var N=-1,z=i.length,X=z-1,J=r;J!=null&&++N<z;){var se=kr(i[N]),ye=u;if(se==="__proto__"||se==="constructor"||se==="prototype")return r;if(N!=X){var xe=J[se];ye=y?y(xe,se,J):s,ye===s&&(ye=Bt(xe)?xe:Ot(i[N+1])?[]:{})}Ss(J,se,ye),J=J[se]}return r}var Va=Pa?function(r,i){return Pa.set(r,i),r}:gr,Gr=ll?function(r,i){return ll(r,"toString",{configurable:!0,enumerable:!1,value:Lp(i),writable:!0})}:gr;function ur(r){return au(Cu(r))}function wn(r,i,u){var y=-1,N=r.length;i<0&&(i=-i>N?0:N+i),u=u>N?N:u,u<0&&(u+=N),N=i>u?0:u-i>>>0,i>>>=0;for(var z=fe(N);++y<N;)z[y]=r[y+i];return z}function Ec(r,i){var u;return Yr(r,function(y,N,z){return u=i(y,N,z),!u}),!!u}function vo(r,i,u){var y=0,N=r==null?y:r.length;if(typeof i=="number"&&i===i&&N<=ge){for(;y<N;){var z=y+N>>>1,X=r[z];X!==null&&!Pr(X)&&(u?X<=i:X<i)?y=z+1:N=z}return N}return Ya(r,i,gr,u)}function Ya(r,i,u,y){var N=0,z=r==null?0:r.length;if(z===0)return 0;i=u(i);for(var X=i!==i,J=i===null,se=Pr(i),ye=i===s;N<z;){var xe=zi((N+z)/2),Ne=u(r[xe]),je=Ne!==s,Le=Ne===null,Xe=Ne===Ne,rt=Pr(Ne);if(X)var Ke=y||Xe;else ye?Ke=Xe&&(y||je):J?Ke=Xe&&je&&(y||!Le):se?Ke=Xe&&je&&!Le&&(y||!rt):Le||rt?Ke=!1:Ke=y?Ne<=i:Ne<i;Ke?N=xe+1:z=xe}return pn(z,Q)}function Cc(r,i){for(var u=-1,y=r.length,N=0,z=[];++u<y;){var X=r[u],J=i?i(X):X;if(!u||!_i(J,se)){var se=J;z[N++]=X===0?0:X}}return z}function kc(r){return typeof r=="number"?r:Pr(r)?W:+r}function Ln(r){if(typeof r=="string")return r;if(et(r))return kt(r,Ln)+"";if(Pr(r))return Ra?Ra.call(r):"";var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}function mi(r,i,u){var y=-1,N=ma,z=r.length,X=!0,J=[],se=J;if(u)X=!1,N=ec;else if(z>=d){var ye=i?null:Dd(r);if(ye)return Mi(ye);X=!1,N=oi,se=new vs}else se=i?[]:J;e:for(;++y<z;){var xe=r[y],Ne=i?i(xe):xe;if(xe=u||xe!==0?xe:0,X&&Ne===Ne){for(var je=se.length;je--;)if(se[je]===Ne)continue e;i&&se.push(Ne),J.push(xe)}else N(se,Ne,u)||(se!==J&&se.push(Ne),J.push(xe))}return J}function qa(r,i){return i=Xr(i,r),r=tn(r,i),r==null||delete r[kr(Rn(i))]}function jc(r,i,u,y){return ks(r,i,u(di(r,i)),y)}function wl(r,i,u,y){for(var N=r.length,z=y?N:-1;(y?z--:++z<N)&&i(r[z],z,r););return u?wn(r,y?0:z,y?z+1:N):wn(r,y?z+1:0,y?N:z)}function wo(r,i){var u=r;return u instanceof Je&&(u=u.value()),tc(i,function(y,N){return N.func.apply(N.thisArg,Di([y],N.args))},u)}function Ga(r,i,u){var y=r.length;if(y<2)return y?mi(r[0]):[];for(var N=-1,z=fe(y);++N<y;)for(var X=r[N],J=-1;++J<y;)J!=N&&(z[N]=Vr(z[N]||X,r[J],i,u));return mi(Ft(z,1),i,u)}function _l(r,i,u){for(var y=-1,N=r.length,z=i.length,X={};++y<N;){var J=y<z?i[y]:s;u(X,r[y],J)}return X}function _o(r){return Zt(r)?r:[]}function Xa(r){return typeof r=="function"?r:gr}function Xr(r,i){return et(r)?r:Ae(r,i)?[r]:qc(Nt(r))}var Ed=tt;function yi(r,i,u){var y=r.length;return u=u===s?y:u,!i&&u>=y?r:wn(r,i,u)}var Tc=dd||function(r){return Mt.clearTimeout(r)};function Pc(r,i){if(i)return r.slice();var u=r.length,y=cc?cc(u):new r.constructor(u);return r.copy(y),y}function Sl(r){var i=new r.constructor(r.byteLength);return new ol(i).set(new ol(r)),i}function Cd(r,i){var u=i?Sl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.byteLength)}function kd(r){var i=new r.constructor(r.source,Wo.exec(r));return i.lastIndex=r.lastIndex,i}function jd(r){return Vn?St(Vn.call(r)):{}}function Td(r,i){var u=i?Sl(r.buffer):r.buffer;return new r.constructor(u,r.byteOffset,r.length)}function Rc(r,i){if(r!==i){var u=r!==s,y=r===null,N=r===r,z=Pr(r),X=i!==s,J=i===null,se=i===i,ye=Pr(i);if(!J&&!ye&&!z&&r>i||z&&X&&se&&!J&&!ye||y&&X&&se||!u&&se||!N)return 1;if(!y&&!z&&!ye&&r<i||ye&&u&&N&&!y&&!z||J&&u&&N||!X&&N||!se)return-1}return 0}function hp(r,i,u){for(var y=-1,N=r.criteria,z=i.criteria,X=N.length,J=u.length;++y<X;){var se=Rc(N[y],z[y]);if(se){if(y>=J)return se;var ye=u[y];return se*(ye=="desc"?-1:1)}}return r.index-i.index}function Pd(r,i,u,y){for(var N=-1,z=r.length,X=u.length,J=-1,se=i.length,ye=Yt(z-X,0),xe=fe(se+ye),Ne=!y;++J<se;)xe[J]=i[J];for(;++N<X;)(Ne||N<z)&&(xe[u[N]]=r[N]);for(;ye--;)xe[J++]=r[N++];return xe}function Ac(r,i,u,y){for(var N=-1,z=r.length,X=-1,J=u.length,se=-1,ye=i.length,xe=Yt(z-J,0),Ne=fe(xe+ye),je=!y;++N<xe;)Ne[N]=r[N];for(var Le=N;++se<ye;)Ne[Le+se]=i[se];for(;++X<J;)(je||N<z)&&(Ne[Le+u[X]]=r[N++]);return Ne}function jn(r,i){var u=-1,y=r.length;for(i||(i=fe(y));++u<y;)i[u]=r[u];return i}function Nr(r,i,u,y){var N=!u;u||(u={});for(var z=-1,X=i.length;++z<X;){var J=i[z],se=y?y(u[J],r[J],J,u,r):s;se===s&&(se=r[J]),N?Wr(u,J,se):Ss(u,J,se)}return u}function Ka(r,i){return Nr(r,br(r),i)}function pp(r,i){return Nr(r,zd(r),i)}function Qa(r,i){return function(u,y){var N=et(u)?Zu:Yn,z=i?i():{};return N(u,r,Ye(y,2),z)}}function So(r){return tt(function(i,u){var y=-1,N=u.length,z=N>1?u[N-1]:s,X=N>2?u[2]:s;for(z=r.length>3&&typeof z=="function"?(N--,z):s,X&&Pn(u[0],u[1],X)&&(z=N<3?s:z,N=1),i=St(i);++y<N;){var J=u[y];J&&r(i,J,y,z)}return i})}function cr(r,i){return function(u,y){if(u==null)return u;if(!hr(u))return r(u,y);for(var N=u.length,z=i?N:-1,X=St(u);(i?z--:++z<N)&&y(X[z],z,X)!==!1;);return u}}function Za(r){return function(i,u,y){for(var N=-1,z=St(i),X=y(i),J=X.length;J--;){var se=X[r?J:++N];if(u(z[se],se,z)===!1)break}return i}}function Ja(r,i,u){var y=i&L,N=No(r);function z(){var X=this&&this!==Mt&&this instanceof z?N:r;return X.apply(y?u:this,arguments)}return z}function Dc(r){return function(i){i=Nt(i);var u=to(i)?Wn(i):s,y=u?u[0]:i.charAt(0),N=u?yi(u,1).join(""):i.slice(1);return y[r]()+N}}function js(r){return function(i){return tc(p0(h0(i).replace(Xh,"")),r,"")}}function No(r){return function(){var i=arguments;switch(i.length){case 0:return new r;case 1:return new r(i[0]);case 2:return new r(i[0],i[1]);case 3:return new r(i[0],i[1],i[2]);case 4:return new r(i[0],i[1],i[2],i[3]);case 5:return new r(i[0],i[1],i[2],i[3],i[4]);case 6:return new r(i[0],i[1],i[2],i[3],i[4],i[5]);case 7:return new r(i[0],i[1],i[2],i[3],i[4],i[5],i[6])}var u=co(r.prototype),y=r.apply(u,i);return Bt(y)?y:u}}function Mc(r,i,u){var y=No(r);function N(){for(var z=arguments.length,X=fe(z),J=z,se=xi(N);J--;)X[J]=arguments[J];var ye=z<3&&X[0]!==se&&X[z-1]!==se?[]:tr(X,se);if(z-=ye.length,z<u)return Tn(r,i,bo,N.placeholder,s,X,ye,s,s,u-z);var xe=this&&this!==Mt&&this instanceof N?y:r;return Cn(xe,this,X)}return N}function Ts(r){return function(i,u,y){var N=St(i);if(!hr(i)){var z=Ye(u,3);i=_n(i),u=function(J){return z(N[J],J,N)}}var X=r(i,u,y);return X>-1?N[z?i[X]:X]:s}}function eu(r){return Qr(function(i){var u=i.length,y=u,N=gn.prototype.thru;for(r&&i.reverse();y--;){var z=i[y];if(typeof z!="function")throw new nr(p);if(N&&!X&&Eo(z)=="wrapper")var X=new gn([],!0)}for(y=X?y:u;++y<u;){z=i[y];var J=Eo(z),se=J=="wrapper"?ru(z):s;se&&Pl(se[0])&&se[1]==(b|P|M|H)&&!se[4].length&&se[9]==1?X=X[Eo(se[0])].apply(X,se[3]):X=z.length==1&&Pl(z)?X[J]():X.thru(z)}return function(){var ye=arguments,xe=ye[0];if(X&&ye.length==1&&et(xe))return X.plant(xe).value();for(var Ne=0,je=u?i[Ne].apply(this,ye):xe;++Ne<u;)je=i[Ne].call(this,je);return je}})}function bo(r,i,u,y,N,z,X,J,se,ye){var xe=i&b,Ne=i&L,je=i&j,Le=i&(P|k),Xe=i&q,rt=je?s:No(r);function Ke(){for(var lt=arguments.length,dt=fe(lt),Rr=lt;Rr--;)dt[Rr]=arguments[Rr];if(Le)var Kn=xi(Ke),Ar=nd(dt,Kn);if(y&&(dt=Pd(dt,y,N,Le)),z&&(dt=Ac(dt,z,X,Le)),lt-=Ar,Le&&lt<ye){var Jt=tr(dt,Kn);return Tn(r,i,bo,Ke.placeholder,u,dt,Jt,J,se,ye-lt)}var Si=Ne?u:this,$s=je?Si[r]:r;return lt=dt.length,J?dt=Er(dt,J):Xe&&lt>1&&dt.reverse(),xe&&se<lt&&(dt.length=se),this&&this!==Mt&&this instanceof Ke&&($s=rt||No($s)),$s.apply(Si,dt)}return Ke}function Rd(r,i){return function(u,y){return hi(u,r,i(y),{})}}function Nl(r,i){return function(u,y){var N;if(u===s&&y===s)return i;if(u!==s&&(N=u),y!==s){if(N===s)return y;typeof u=="string"||typeof y=="string"?(u=Ln(u),y=Ln(y)):(u=kc(u),y=kc(y)),N=r(u,y)}return N}}function tu(r){return Qr(function(i){return i=kt(i,Bn(Ye())),tt(function(u){var y=this;return r(i,function(N){return Cn(N,y,u)})})})}function bl(r,i){i=i===s?" ":Ln(i);var u=i.length;if(u<2)return u?Cs(i,r):i;var y=Cs(i,ys(r/gs(i)));return to(i)?yi(Wn(y),0,r).join(""):y.slice(0,r)}function Ad(r,i,u,y){var N=i&L,z=No(r);function X(){for(var J=-1,se=arguments.length,ye=-1,xe=y.length,Ne=fe(xe+se),je=this&&this!==Mt&&this instanceof X?z:r;++ye<xe;)Ne[ye]=y[ye];for(;se--;)Ne[ye++]=arguments[++J];return Cn(je,N?u:this,Ne)}return X}function zc(r){return function(i,u,y){return y&&typeof y!="number"&&Pn(i,u,y)&&(u=y=s),i=Is(i),u===s?(u=i,i=0):u=Is(u),y=y===s?i<u?1:-1:Is(y),vl(i,u,y,r)}}function nu(r){return function(i,u){return typeof i=="string"&&typeof u=="string"||(i=Jr(i),u=Jr(u)),r(i,u)}}function Tn(r,i,u,y,N,z,X,J,se,ye){var xe=i&P,Ne=xe?X:s,je=xe?s:X,Le=xe?z:s,Xe=xe?s:z;i|=xe?M:$,i&=~(xe?$:M),i&E||(i&=-4);var rt=[r,i,N,Le,Ne,Xe,je,J,se,ye],Ke=u.apply(s,rt);return Pl(r)&&Vc(Ke,rt),Ke.placeholder=y,Yc(Ke,r,i)}function ln(r){var i=Vt[r];return function(u,y){if(u=Jr(u),y=y==null?0:pn(nt(y),292),y&&so(u)){var N=(Nt(u)+"e").split("e"),z=i(N[0]+"e"+(+N[1]+y));return N=(Nt(z)+"e").split("e"),+(N[0]+"e"+(+N[1]-y))}return i(u)}}var Dd=Oi&&1/Mi(new Oi([,-0]))[1]==ee?function(r){return new Oi(r)}:Up;function Oc(r){return function(i){var u=an(i);return u==it?va(i):u==_t?lp(i):ip(i,r(i))}}function Kr(r,i,u,y,N,z,X,J){var se=i&j;if(!se&&typeof r!="function")throw new nr(p);var ye=y?y.length:0;if(ye||(i&=-97,y=N=s),X=X===s?X:Yt(nt(X),0),J=J===s?J:nt(J),ye-=N?N.length:0,i&$){var xe=y,Ne=N;y=N=s}var je=se?s:ru(r),Le=[r,i,u,y,N,xe,Ne,z,X,J];if(je&&Ld(Le,je),r=Le[0],i=Le[1],u=Le[2],y=Le[3],N=Le[4],J=Le[9]=Le[9]===s?se?0:r.length:Yt(Le[9]-ye,0),!J&&i&(P|k)&&(i&=-25),!i||i==L)var Xe=Ja(r,i,u);else i==P||i==k?Xe=Mc(r,i,J):(i==M||i==(L|M))&&!N.length?Xe=Ad(r,i,u,y):Xe=bo.apply(s,Le);var rt=je?Va:Vc;return Yc(rt(Xe,Le),r,i)}function Ic(r,i,u,y){return r===s||_i(r,Lr[u])&&!pt.call(y,u)?i:r}function $c(r,i,u,y,N,z){return Bt(r)&&Bt(i)&&(z.set(i,r),Es(r,i,s,$c,z),z.delete(i)),r}function Lc(r){return uf(r)?s:r}function Fc(r,i,u,y,N,z){var X=u&U,J=r.length,se=i.length;if(J!=se&&!(X&&se>J))return!1;var ye=z.get(r),xe=z.get(i);if(ye&&xe)return ye==i&&xe==r;var Ne=-1,je=!0,Le=u&F?new vs:s;for(z.set(r,i),z.set(i,r);++Ne<J;){var Xe=r[Ne],rt=i[Ne];if(y)var Ke=X?y(rt,Xe,Ne,i,r,z):y(Xe,rt,Ne,r,i,z);if(Ke!==s){if(Ke)continue;je=!1;break}if(Le){if(!nc(i,function(lt,dt){if(!oi(Le,dt)&&(Xe===lt||N(Xe,lt,u,y,z)))return Le.push(dt)})){je=!1;break}}else if(!(Xe===rt||N(Xe,rt,u,y,z))){je=!1;break}}return z.delete(r),z.delete(i),je}function Hc(r,i,u,y,N,z,X){switch(u){case ut:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case Fe:return!(r.byteLength!=i.byteLength||!z(new ol(r),new ol(i)));case De:case Me:case at:return _i(+r,+i);case xt:return r.name==i.name&&r.message==i.message;case Tt:case Ce:return r==i+"";case it:var J=va;case _t:var se=y&U;if(J||(J=Mi),r.size!=i.size&&!se)return!1;var ye=X.get(r);if(ye)return ye==i;y|=F,X.set(r,i);var xe=Fc(J(r),J(i),y,N,z,X);return X.delete(r),xe;case qe:if(Vn)return Vn.call(r)==Vn.call(i)}return!1}function Md(r,i,u,y,N,z){var X=u&U,J=El(r),se=J.length,ye=El(i),xe=ye.length;if(se!=xe&&!X)return!1;for(var Ne=se;Ne--;){var je=J[Ne];if(!(X?je in i:pt.call(i,je)))return!1}var Le=z.get(r),Xe=z.get(i);if(Le&&Xe)return Le==i&&Xe==r;var rt=!0;z.set(r,i),z.set(i,r);for(var Ke=X;++Ne<se;){je=J[Ne];var lt=r[je],dt=i[je];if(y)var Rr=X?y(dt,lt,je,i,r,z):y(lt,dt,je,r,i,z);if(!(Rr===s?lt===dt||N(lt,dt,u,y,z):Rr)){rt=!1;break}Ke||(Ke=je=="constructor")}if(rt&&!Ke){var Kn=r.constructor,Ar=i.constructor;Kn!=Ar&&"constructor"in r&&"constructor"in i&&!(typeof Kn=="function"&&Kn instanceof Kn&&typeof Ar=="function"&&Ar instanceof Ar)&&(rt=!1)}return z.delete(r),z.delete(i),rt}function Qr(r){return Gn(lu(r,s,cu),r+"")}function El(r){return La(r,_n,br)}function Cl(r){return La(r,pr,zd)}var ru=Pa?function(r){return Pa.get(r)}:Up;function Eo(r){for(var i=r.name+"",u=ao[i],y=pt.call(ao,i)?u.length:0;y--;){var N=u[y],z=N.func;if(z==null||z==r)return N.name}return i}function xi(r){var i=pt.call(R,"placeholder")?R:r;return i.placeholder}function Ye(){var r=R.iteratee||Fp;return r=r===Fp?yo:r,arguments.length?r(arguments[0],arguments[1]):r}function kl(r,i){var u=r.__data__;return Co(i)?u[typeof i=="string"?"string":"hash"]:u.map}function jl(r){for(var i=_n(r),u=i.length;u--;){var y=i[u],N=r[y];i[u]=[y,N,Rl(N)]}return i}function Vi(r,i){var u=eo(r,i);return vc(u)?u:s}function iu(r){var i=pt.call(r,ms),u=r[ms];try{r[ms]=s;var y=!0}catch{}var N=il.call(r);return y&&(i?r[ms]=u:delete r[ms]),N}var br=ka?function(r){return r==null?[]:(r=St(r),Ai(ka(r),function(i){return Ea.call(r,i)}))}:Bp,zd=ka?function(r){for(var i=[];r;)Di(i,br(r)),r=_r(r);return i}:Bp,an=on;(ul&&an(new ul(new ArrayBuffer(1)))!=ut||xs&&an(new xs)!=it||cl&&an(cl.resolve())!=Oe||Oi&&an(new Oi)!=_t||fl&&an(new fl)!=_e)&&(an=function(r){var i=on(r),u=i==Ze?r.constructor:s,y=u?Yi(u):"";if(y)switch(y){case hc:return ut;case Ii:return it;case pd:return Oe;case uo:return _t;case Fr:return _e}return i});function Uc(r,i,u){for(var y=-1,N=u.length;++y<N;){var z=u[y],X=z.size;switch(z.type){case"drop":r+=X;break;case"dropRight":i-=X;break;case"take":i=pn(i,r+X);break;case"takeRight":r=Yt(r,i-X);break}}return{start:r,end:i}}function Od(r){var i=r.match(Vs);return i?i[1].split(Bo):[]}function Bc(r,i,u){i=Xr(i,r);for(var y=-1,N=i.length,z=!1;++y<N;){var X=kr(i[y]);if(!(z=r!=null&&u(r,X)))break;r=r[X]}return z||++y!=N?z:(N=r==null?0:r.length,!!N&&nh(N)&&Ot(X,N)&&(et(r)||Ll(r)))}function Tl(r){var i=r.length,u=new r.constructor(i);return i&&typeof r[0]=="string"&&pt.call(r,"index")&&(u.index=r.index,u.input=r.input),u}function un(r){return typeof r.constructor=="function"&&!vi(r)?co(_r(r)):{}}function gp(r,i,u){var y=r.constructor;switch(i){case Fe:return Sl(r);case De:case Me:return new y(+r);case ut:return Cd(r,u);case sn:case Un:case Dt:case Nn:case Zn:case Jn:case xr:case bn:case dn:return Td(r,u);case it:return new y;case at:case Ce:return new y(r);case Tt:return kd(r);case _t:return new y;case qe:return jd(r)}}function mp(r,i){var u=i.length;if(!u)return r;var y=u-1;return i[y]=(u>1?"& ":"")+i[y],i=i.join(u>2?", ":" "),r.replace(Ws,`{
/* [wrapped with `+i+`] */
`)}function su(r){return et(r)||Ll(r)||!!(fd&&r&&r[fd])}function Ot(r,i){var u=typeof r;return i=i??K,!!i&&(u=="number"||u!="symbol"&&ra.test(r))&&r>-1&&r%1==0&&r<i}function Pn(r,i,u){if(!Bt(u))return!1;var y=typeof i;return(y=="number"?hr(u)&&Ot(i,u.length):y=="string"&&i in u)?_i(u[i],r):!1}function Ae(r,i){if(et(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Pr(r)?!0:Zl.test(r)||!Ho.test(r)||i!=null&&r in St(i)}function Co(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function Pl(r){var i=Eo(r),u=R[i];if(typeof u!="function"||!(i in Je.prototype))return!1;if(r===u)return!0;var y=ru(u);return!!y&&r===y[0]}function Id(r){return!!Sa&&Sa in r}var yp=ro?Os:Wp;function vi(r){var i=r&&r.constructor,u=typeof i=="function"&&i.prototype||Lr;return r===u}function Rl(r){return r===r&&!Bt(r)}function ou(r,i){return function(u){return u==null?!1:u[r]===i&&(i!==s||r in St(u))}}function $d(r){var i=ue(r,function(y){return u.size===v&&u.clear(),y}),u=i.cache;return i}function Ld(r,i){var u=r[1],y=i[1],N=u|y,z=N<(L|j|b),X=y==b&&u==P||y==b&&u==H&&r[7].length<=i[8]||y==(b|H)&&i[7].length<=i[8]&&u==P;if(!(z||X))return r;y&L&&(r[2]=i[2],N|=u&L?0:E);var J=i[3];if(J){var se=r[3];r[3]=se?Pd(se,J,i[4]):J,r[4]=se?tr(r[3],_):i[4]}return J=i[5],J&&(se=r[5],r[5]=se?Ac(se,J,i[6]):J,r[6]=se?tr(r[5],_):i[6]),J=i[7],J&&(r[7]=J),y&b&&(r[8]=r[8]==null?i[8]:pn(r[8],i[8])),r[9]==null&&(r[9]=i[9]),r[0]=i[0],r[1]=N,r}function Fd(r){var i=[];if(r!=null)for(var u in St(r))i.push(u);return i}function Wc(r){return il.call(r)}function lu(r,i,u){return i=Yt(i===s?r.length-1:i,0),function(){for(var y=arguments,N=-1,z=Yt(y.length-i,0),X=fe(z);++N<z;)X[N]=y[i+N];N=-1;for(var J=fe(i+1);++N<i;)J[N]=y[N];return J[i]=u(X),Cn(r,this,J)}}function tn(r,i){return i.length<2?r:di(r,wn(i,0,-1))}function Er(r,i){for(var u=r.length,y=pn(i.length,u),N=jn(r);y--;){var z=i[y];r[y]=Ot(z,u)?N[z]:s}return r}function Zr(r,i){if(!(i==="constructor"&&typeof r[i]=="function")&&i!="__proto__")return r[i]}var Vc=Cr(Va),ko=fc||function(r,i){return Mt.setTimeout(r,i)},Gn=Cr(Gr);function Yc(r,i,u){var y=i+"";return Gn(r,mp(y,Hd(Od(y),u)))}function Cr(r){var i=0,u=0;return function(){var y=dp(),N=ae-(y-u);if(u=y,N>0){if(++i>=ne)return arguments[0]}else i=0;return r.apply(s,arguments)}}function au(r,i){var u=-1,y=r.length,N=y-1;for(i=i===s?y:i;++u<i;){var z=xo(u,N),X=r[z];r[z]=r[u],r[u]=X}return r.length=i,r}var qc=$d(function(r){var i=[];return r.charCodeAt(0)===46&&i.push(""),r.replace(ss,function(u,y,N,z){i.push(N?z.replace(Jl,"$1"):y||u)}),i});function kr(r){if(typeof r=="string"||Pr(r))return r;var i=r+"";return i=="0"&&1/r==-1/0?"-0":i}function Yi(r){if(r!=null){try{return rl.call(r)}catch{}try{return r+""}catch{}}return""}function Hd(r,i){return hn(me,function(u){var y="_."+u[0];i&u[1]&&!ma(r,y)&&r.push(y)}),r.sort()}function Ud(r){if(r instanceof Je)return r.clone();var i=new gn(r.__wrapped__,r.__chain__);return i.__actions__=jn(r.__actions__),i.__index__=r.__index__,i.__values__=r.__values__,i}function uu(r,i,u){(u?Pn(r,i,u):i===s)?i=1:i=Yt(nt(i),0);var y=r==null?0:r.length;if(!y||i<1)return[];for(var N=0,z=0,X=fe(ys(y/i));N<y;)X[z++]=wn(r,N,N+=i);return X}function Gc(r){for(var i=-1,u=r==null?0:r.length,y=0,N=[];++i<u;){var z=r[i];z&&(N[y++]=z)}return N}function fr(){var r=arguments.length;if(!r)return[];for(var i=fe(r-1),u=arguments[0],y=r;y--;)i[y-1]=arguments[y];return Di(et(u)?jn(u):[u],Ft(i,1))}var ft=tt(function(r,i){return Zt(r)?Vr(r,Ft(i,1,Zt,!0)):[]}),nn=tt(function(r,i){var u=Rn(i);return Zt(u)&&(u=s),Zt(r)?Vr(r,Ft(i,1,Zt,!0),Ye(u,2)):[]}),qt=tt(function(r,i){var u=Rn(i);return Zt(u)&&(u=s),Zt(r)?Vr(r,Ft(i,1,Zt,!0),s,u):[]});function cn(r,i,u){var y=r==null?0:r.length;return y?(i=u||i===s?1:nt(i),wn(r,i<0?0:i,y)):[]}function Xn(r,i,u){var y=r==null?0:r.length;return y?(i=u||i===s?1:nt(i),i=y-i,wn(r,0,i<0?0:i)):[]}function jo(r,i){return r&&r.length?wl(r,Ye(i,3),!0,!0):[]}function Qt(r,i){return r&&r.length?wl(r,Ye(i,3),!0):[]}function Al(r,i,u,y){var N=r==null?0:r.length;return N?(u&&typeof u!="number"&&Pn(r,i,u)&&(u=0,y=N),Sd(r,i,u,y)):[]}function qi(r,i,u){var y=r==null?0:r.length;if(!y)return-1;var N=u==null?0:nt(u);return N<0&&(N=Yt(y+N,0)),ya(r,Ye(i,3),N)}function Dl(r,i,u){var y=r==null?0:r.length;if(!y)return-1;var N=y-1;return u!==s&&(N=nt(u),N=u<0?Yt(y+N,0):pn(N,y-1)),ya(r,Ye(i,3),N,!0)}function cu(r){var i=r==null?0:r.length;return i?Ft(r,1):[]}function Ml(r){var i=r==null?0:r.length;return i?Ft(r,ee):[]}function Fn(r,i){var u=r==null?0:r.length;return u?(i=i===s?1:nt(i),Ft(r,i)):[]}function Xc(r){for(var i=-1,u=r==null?0:r.length,y={};++i<u;){var N=r[i];y[N[0]]=N[1]}return y}function Ps(r){return r&&r.length?r[0]:s}function wi(r,i,u){var y=r==null?0:r.length;if(!y)return-1;var N=u==null?0:nt(u);return N<0&&(N=Yt(y+N,0)),Js(r,i,N)}function fu(r){var i=r==null?0:r.length;return i?wn(r,0,-1):[]}var Kc=tt(function(r){var i=kt(r,_o);return i.length&&i[0]===r[0]?Fa(i):[]}),Gi=tt(function(r){var i=Rn(r),u=kt(r,_o);return i===Rn(u)?i=s:u.pop(),u.length&&u[0]===r[0]?Fa(u,Ye(i,2)):[]}),du=tt(function(r){var i=Rn(r),u=kt(r,_o);return i=typeof i=="function"?i:s,i&&u.pop(),u.length&&u[0]===r[0]?Fa(u,s,i):[]});function Xi(r,i){return r==null?"":ja.call(r,i)}function Rn(r){var i=r==null?0:r.length;return i?r[i-1]:s}function zl(r,i,u){var y=r==null?0:r.length;if(!y)return-1;var N=y;return u!==s&&(N=nt(u),N=N<0?Yt(y+N,0):pn(N,y-1)),i===i?ap(r,i,N):ya(r,Qf,N,!0)}function Qc(r,i){return r&&r.length?Wa(r,nt(i)):s}var hu=tt(Ol);function Ol(r,i){return r&&r.length&&i&&i.length?Ht(r,i):r}function An(r,i,u){return r&&r.length&&i&&i.length?Ht(r,i,Ye(u,2)):r}function Ki(r,i,u){return r&&r.length&&i&&i.length?Ht(r,i,s,u):r}var jr=Qr(function(r,i){var u=r==null?0:r.length,y=Ia(r,i);return Kt(r,kt(i,function(N){return Ot(N,u)?+N:N}).sort(Rc)),y});function Hn(r,i){var u=[];if(!(r&&r.length))return u;var y=-1,N=[],z=r.length;for(i=Ye(i,3);++y<z;){var X=r[y];i(X,y,r)&&(u.push(X),N.push(y))}return Kt(r,N),u}function pu(r){return r==null?r:Ta.call(r)}function Zc(r,i,u){var y=r==null?0:r.length;return y?(u&&typeof u!="number"&&Pn(r,i,u)?(i=0,u=y):(i=i==null?0:nt(i),u=u===s?y:nt(u)),wn(r,i,u)):[]}function Jc(r,i){return vo(r,i)}function xp(r,i,u){return Ya(r,i,Ye(u,2))}function Qi(r,i){var u=r==null?0:r.length;if(u){var y=vo(r,i);if(y<u&&_i(r[y],i))return y}return-1}function Bd(r,i){return vo(r,i,!0)}function ef(r,i,u){return Ya(r,i,Ye(u,2),!0)}function Rs(r,i){var u=r==null?0:r.length;if(u){var y=vo(r,i,!0)-1;if(_i(r[y],i))return y}return-1}function tf(r){return r&&r.length?Cc(r):[]}function As(r,i){return r&&r.length?Cc(r,Ye(i,2)):[]}function Wd(r){var i=r==null?0:r.length;return i?wn(r,1,i):[]}function Vd(r,i,u){return r&&r.length?(i=u||i===s?1:nt(i),wn(r,0,i<0?0:i)):[]}function nf(r,i,u){var y=r==null?0:r.length;return y?(i=u||i===s?1:nt(i),i=y-i,wn(r,i<0?0:i,y)):[]}function gu(r,i){return r&&r.length?wl(r,Ye(i,3),!1,!0):[]}function vp(r,i){return r&&r.length?wl(r,Ye(i,3)):[]}var wp=tt(function(r){return mi(Ft(r,1,Zt,!0))}),Yd=tt(function(r){var i=Rn(r);return Zt(i)&&(i=s),mi(Ft(r,1,Zt,!0),Ye(i,2))}),qd=tt(function(r){var i=Rn(r);return i=typeof i=="function"?i:s,mi(Ft(r,1,Zt,!0),s,i)});function Ds(r){return r&&r.length?mi(r):[]}function _p(r,i){return r&&r.length?mi(r,Ye(i,2)):[]}function To(r,i){return i=typeof i=="function"?i:s,r&&r.length?mi(r,s,i):[]}function mu(r){if(!(r&&r.length))return[];var i=0;return r=Ai(r,function(u){if(Zt(u))return i=Yt(u.length,i),!0}),oc(i,function(u){return kt(r,ic(u))})}function Lt(r,i){if(!(r&&r.length))return[];var u=mu(r);return i==null?u:kt(u,function(y){return Cn(i,s,y)})}var Sp=tt(function(r,i){return Zt(r)?Vr(r,i):[]}),Gd=tt(function(r){return Ga(Ai(r,Zt))}),Np=tt(function(r){var i=Rn(r);return Zt(i)&&(i=s),Ga(Ai(r,Zt),Ye(i,2))}),bp=tt(function(r){var i=Rn(r);return i=typeof i=="function"?i:s,Ga(Ai(r,Zt),s,i)}),Xd=tt(mu);function Kd(r,i){return _l(r||[],i||[],Ss)}function Ep(r,i){return _l(r||[],i||[],ks)}var dr=tt(function(r){var i=r.length,u=i>1?r[i-1]:s;return u=typeof u=="function"?(r.pop(),u):s,Lt(r,u)});function yu(r){var i=R(r);return i.__chain__=!0,i}function Cp(r,i){return i(r),r}function Tr(r,i){return i(r)}var xu=Qr(function(r){var i=r.length,u=i?r[0]:0,y=this.__wrapped__,N=function(z){return Ia(z,r)};return i>1||this.__actions__.length||!(y instanceof Je)||!Ot(u)?this.thru(N):(y=y.slice(u,+u+(i?1:0)),y.__actions__.push({func:Tr,args:[N],thisArg:s}),new gn(y,this.__chain__).thru(function(z){return i&&!z.length&&z.push(s),z}))});function Ms(){return yu(this)}function vu(){return new gn(this.value(),this.__chain__)}function rf(){this.__values__===s&&(this.__values__=i0(this.value()));var r=this.__index__>=this.__values__.length,i=r?s:this.__values__[this.__index__++];return{done:r,value:i}}function sf(){return this}function kp(r){for(var i,u=this;u instanceof Hr;){var y=Ud(u);y.__index__=0,y.__values__=s,i?N.__wrapped__=y:i=y;var N=y;u=u.__wrapped__}return N.__wrapped__=r,i}function of(){var r=this.__wrapped__;if(r instanceof Je){var i=r;return this.__actions__.length&&(i=new Je(this)),i=i.reverse(),i.__actions__.push({func:Tr,args:[pu],thisArg:s}),new gn(i,this.__chain__)}return this.thru(pu)}function jp(){return wo(this.__wrapped__,this.__actions__)}var Qd=Qa(function(r,i,u){pt.call(r,u)?++r[u]:Wr(r,u,1)});function Zd(r,i,u){var y=et(r)?Ju:pl;return u&&Pn(r,i,u)&&(i=s),y(r,Ye(i,3))}function wu(r,i){var u=et(r)?Ai:yc;return u(r,Ye(i,3))}var _u=Ts(qi),Jd=Ts(Dl);function lf(r,i){return Ft(zs(r,i),1)}function Tp(r,i){return Ft(zs(r,i),ee)}function eh(r,i,u){return u=u===s?1:nt(u),Ft(zs(r,i),u)}function Su(r,i){var u=et(r)?hn:Yr;return u(r,Ye(i,3))}function Il(r,i){var u=et(r)?ga:_d;return u(r,Ye(i,3))}var af=Qa(function(r,i,u){pt.call(r,u)?r[u].push(i):Wr(r,u,[i])});function Nu(r,i,u,y){r=hr(r)?r:Cu(r),u=u&&!y?nt(u):0;var N=r.length;return u<0&&(u=Yt(N+u,0)),rh(r)?u<=N&&r.indexOf(i,u)>-1:!!N&&Js(r,i,u)>-1}var th=tt(function(r,i,u){var y=-1,N=typeof i=="function",z=hr(r)?fe(r.length):[];return Yr(r,function(X){z[++y]=N?Cn(i,X,u):lr(X,i,u)}),z}),Pp=Qa(function(r,i,u){Wr(r,u,i)});function zs(r,i){var u=et(r)?kt:_c;return u(r,Ye(i,3))}function Rp(r,i,u,y){return r==null?[]:(et(i)||(i=i==null?[]:[i]),u=y?s:u,et(u)||(u=u==null?[]:[u]),xl(r,i,u))}var $l=Qa(function(r,i,u){r[u?0:1].push(i)},function(){return[[],[]]});function Ap(r,i,u){var y=et(r)?tc:Jf,N=arguments.length<3;return y(r,Ye(i,4),u,N,Yr)}function bu(r,i,u){var y=et(r)?ep:Jf,N=arguments.length<3;return y(r,Ye(i,4),u,N,_d)}function e(r,i){var u=et(r)?Ai:yc;return u(r,Ee(Ye(i,3)))}function t(r){var i=et(r)?Br:vn;return i(r)}function o(r,i,u){(u?Pn(r,i,u):i===s)?i=1:i=nt(i);var y=et(r)?_s:bc;return y(r,i)}function a(r){var i=et(r)?vd:ur;return i(r)}function h(r){if(r==null)return 0;if(hr(r))return rh(r)?gs(r):r.length;var i=an(r);return i==it||i==_t?r.size:gi(r).length}function m(r,i,u){var y=et(r)?nc:Ec;return u&&Pn(r,i,u)&&(i=s),y(r,Ye(i,3))}var C=tt(function(r,i){if(r==null)return[];var u=i.length;return u>1&&Pn(r,i[0],i[1])?i=[]:u>2&&Pn(i[0],i[1],i[2])&&(i=[i[0]]),xl(r,Ft(i,1),[])}),V=Pt||function(){return Mt.Date.now()};function Z(r,i){if(typeof i!="function")throw new nr(p);return r=nt(r),function(){if(--r<1)return i.apply(this,arguments)}}function de(r,i,u){return i=u?s:i,i=r&&i==null?r.length:i,Kr(r,b,s,s,s,s,i)}function Se(r,i){var u;if(typeof i!="function")throw new nr(p);return r=nt(r),function(){return--r>0&&(u=i.apply(this,arguments)),r<=1&&(i=s),u}}var be=tt(function(r,i,u){var y=L;if(u.length){var N=tr(u,xi(be));y|=M}return Kr(r,y,i,u,N)}),we=tt(function(r,i,u){var y=L|j;if(u.length){var N=tr(u,xi(we));y|=M}return Kr(i,y,r,u,N)});function Pe(r,i,u){i=u?s:i;var y=Kr(r,P,s,s,s,s,s,i);return y.placeholder=Pe.placeholder,y}function ze(r,i,u){i=u?s:i;var y=Kr(r,k,s,s,s,s,s,i);return y.placeholder=ze.placeholder,y}function Ie(r,i,u){var y,N,z,X,J,se,ye=0,xe=!1,Ne=!1,je=!0;if(typeof r!="function")throw new nr(p);i=Jr(i)||0,Bt(u)&&(xe=!!u.leading,Ne="maxWait"in u,z=Ne?Yt(Jr(u.maxWait)||0,i):z,je="trailing"in u?!!u.trailing:je);function Le(Jt){var Si=y,$s=N;return y=N=s,ye=Jt,X=r.apply($s,Si),X}function Xe(Jt){return ye=Jt,J=ko(lt,i),xe?Le(Jt):X}function rt(Jt){var Si=Jt-se,$s=Jt-ye,y0=i-Si;return Ne?pn(y0,z-$s):y0}function Ke(Jt){var Si=Jt-se,$s=Jt-ye;return se===s||Si>=i||Si<0||Ne&&$s>=z}function lt(){var Jt=V();if(Ke(Jt))return dt(Jt);J=ko(lt,rt(Jt))}function dt(Jt){return J=s,je&&y?Le(Jt):(y=N=s,X)}function Rr(){J!==s&&Tc(J),ye=0,y=se=N=J=s}function Kn(){return J===s?X:dt(V())}function Ar(){var Jt=V(),Si=Ke(Jt);if(y=arguments,N=this,se=Jt,Si){if(J===s)return Xe(se);if(Ne)return Tc(J),J=ko(lt,i),Le(se)}return J===s&&(J=ko(lt,i)),X}return Ar.cancel=Rr,Ar.flush=Kn,Ar}var Ut=tt(function(r,i){return mc(r,1,i)}),le=tt(function(r,i,u){return mc(r,Jr(i)||0,u)});function te(r){return Kr(r,q)}function ue(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new nr(p);var u=function(){var y=arguments,N=i?i.apply(this,y):y[0],z=u.cache;if(z.has(N))return z.get(N);var X=r.apply(this,y);return u.cache=z.set(N,X)||z,X};return u.cache=new(ue.Cache||rr),u}ue.Cache=rr;function Ee(r){if(typeof r!="function")throw new nr(p);return function(){var i=arguments;switch(i.length){case 0:return!r.call(this);case 1:return!r.call(this,i[0]);case 2:return!r.call(this,i[0],i[1]);case 3:return!r.call(this,i[0],i[1],i[2])}return!r.apply(this,i)}}function $e(r){return Se(2,r)}var We=Ed(function(r,i){i=i.length==1&&et(i[0])?kt(i[0],Bn(Ye())):kt(Ft(i,1),Bn(Ye()));var u=i.length;return tt(function(y){for(var N=-1,z=pn(y.length,u);++N<z;)y[N]=i[N].call(this,y[N]);return Cn(r,this,y)})}),Ue=tt(function(r,i){var u=tr(i,xi(Ue));return Kr(r,M,s,i,u)}),Ge=tt(function(r,i){var u=tr(i,xi(Ge));return Kr(r,$,s,i,u)}),rn=Qr(function(r,i){return Kr(r,H,s,s,s,i)});function gt(r,i){if(typeof r!="function")throw new nr(p);return i=i===s?i:nt(i),tt(r,i)}function Zi(r,i){if(typeof r!="function")throw new nr(p);return i=i==null?0:Yt(nt(i),0),tt(function(u){var y=u[i],N=yi(u,0,i);return y&&Di(N,y),Cn(r,this,N)})}function Dp(r,i,u){var y=!0,N=!0;if(typeof r!="function")throw new nr(p);return Bt(u)&&(y="leading"in u?!!u.leading:y,N="trailing"in u?!!u.trailing:N),Ie(r,i,{leading:y,maxWait:i,trailing:N})}function bx(r){return de(r,1)}function Ex(r,i){return Ue(Xa(i),r)}function Cx(){if(!arguments.length)return[];var r=arguments[0];return et(r)?r:[r]}function kx(r){return $n(r,A)}function jx(r,i){return i=typeof i=="function"?i:s,$n(r,A,i)}function Tx(r){return $n(r,S|A)}function Px(r,i){return i=typeof i=="function"?i:s,$n(r,S|A,i)}function Rx(r,i){return i==null||hl(r,i,_n(i))}function _i(r,i){return r===i||r!==r&&i!==i}var Ax=nu(Ui),Dx=nu(function(r,i){return r>=i}),Ll=Ha(function(){return arguments}())?Ha:function(r){return Gt(r)&&pt.call(r,"callee")&&!Ea.call(r,"callee")},et=fe.isArray,Mx=Qu?Bn(Qu):Nd;function hr(r){return r!=null&&nh(r.length)&&!Os(r)}function Zt(r){return Gt(r)&&hr(r)}function zx(r){return r===!0||r===!1||Gt(r)&&on(r)==De}var Po=dc||Wp,Ox=Mn?Bn(Mn):pi;function Ix(r){return Gt(r)&&r.nodeType===1&&!uf(r)}function $x(r){if(r==null)return!0;if(hr(r)&&(et(r)||typeof r=="string"||typeof r.splice=="function"||Po(r)||Eu(r)||Ll(r)))return!r.length;var i=an(r);if(i==it||i==_t)return!r.size;if(vi(r))return!gi(r).length;for(var u in r)if(pt.call(r,u))return!1;return!0}function Lx(r,i){return ar(r,i)}function Fx(r,i,u){u=typeof u=="function"?u:s;var y=u?u(r,i):s;return y===s?ar(r,i,s,u):!!y}function Mp(r){if(!Gt(r))return!1;var i=on(r);return i==xt||i==Be||typeof r.message=="string"&&typeof r.name=="string"&&!uf(r)}function Hx(r){return typeof r=="number"&&so(r)}function Os(r){if(!Bt(r))return!1;var i=on(r);return i==vt||i==bt||i==Re||i==Et}function e0(r){return typeof r=="number"&&r==nt(r)}function nh(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=K}function Bt(r){var i=typeof r;return r!=null&&(i=="object"||i=="function")}function Gt(r){return r!=null&&typeof r=="object"}var t0=ps?Bn(ps):bd;function Ux(r,i){return r===i||mo(r,i,jl(i))}function Bx(r,i,u){return u=typeof u=="function"?u:s,mo(r,i,jl(i),u)}function Wx(r){return n0(r)&&r!=+r}function Vx(r){if(yp(r))throw new Qe(g);return vc(r)}function Yx(r){return r===null}function qx(r){return r==null}function n0(r){return typeof r=="number"||Gt(r)&&on(r)==at}function uf(r){if(!Gt(r)||on(r)!=Ze)return!1;var i=_r(r);if(i===null)return!0;var u=pt.call(i,"constructor")&&i.constructor;return typeof u=="function"&&u instanceof u&&rl.call(u)==Na}var zp=pa?Bn(pa):ml;function Gx(r){return e0(r)&&r>=-9007199254740991&&r<=K}var r0=Zs?Bn(Zs):qr;function rh(r){return typeof r=="string"||!et(r)&&Gt(r)&&on(r)==Ce}function Pr(r){return typeof r=="symbol"||Gt(r)&&on(r)==qe}var Eu=Gf?Bn(Gf):yl;function Xx(r){return r===s}function Kx(r){return Gt(r)&&an(r)==_e}function Qx(r){return Gt(r)&&on(r)==He}var Zx=nu(Bi),Jx=nu(function(r,i){return r<=i});function i0(r){if(!r)return[];if(hr(r))return rh(r)?Wn(r):jn(r);if(ui&&r[ui])return op(r[ui]());var i=an(r),u=i==it?va:i==_t?Mi:Cu;return u(r)}function Is(r){if(!r)return r===0?r:0;if(r=Jr(r),r===ee||r===-1/0){var i=r<0?-1:1;return i*O}return r===r?r:0}function nt(r){var i=Is(r),u=i%1;return i===i?u?i-u:i:0}function s0(r){return r?fi(nt(r),0,D):0}function Jr(r){if(typeof r=="number")return r;if(Pr(r))return W;if(Bt(r)){var i=typeof r.valueOf=="function"?r.valueOf():r;r=Bt(i)?i+"":i}if(typeof r!="string")return r===0?r:+r;r=ed(r);var u=Uu.test(r);return u||na.test(r)?da(r.slice(2),u?2:8):ea.test(r)?W:+r}function o0(r){return Nr(r,pr(r))}function ev(r){return r?fi(nt(r),-9007199254740991,K):r===0?r:0}function Nt(r){return r==null?"":Ln(r)}var tv=So(function(r,i){if(vi(i)||hr(i)){Nr(i,_n(i),r);return}for(var u in i)pt.call(i,u)&&Ss(r,u,i[u])}),l0=So(function(r,i){Nr(i,pr(i),r)}),ih=So(function(r,i,u,y){Nr(i,pr(i),r,y)}),nv=So(function(r,i,u,y){Nr(i,_n(i),r,y)}),rv=Qr(Ia);function iv(r,i){var u=co(r);return i==null?u:At(u,i)}var sv=tt(function(r,i){r=St(r);var u=-1,y=i.length,N=y>2?i[2]:s;for(N&&Pn(i[0],i[1],N)&&(y=1);++u<y;)for(var z=i[u],X=pr(z),J=-1,se=X.length;++J<se;){var ye=X[J],xe=r[ye];(xe===s||_i(xe,Lr[ye])&&!pt.call(r,ye))&&(r[ye]=z[ye])}return r}),ov=tt(function(r){return r.push(s,$c),Cn(a0,s,r)});function lv(r,i){return Kf(r,Ye(i,3),qn)}function av(r,i){return Kf(r,Ye(i,3),Hi)}function uv(r,i){return r==null?r:$a(r,Ye(i,3),pr)}function cv(r,i){return r==null?r:gl(r,Ye(i,3),pr)}function fv(r,i){return r&&qn(r,Ye(i,3))}function dv(r,i){return r&&Hi(r,Ye(i,3))}function hv(r){return r==null?[]:go(r,_n(r))}function pv(r){return r==null?[]:go(r,pr(r))}function Op(r,i,u){var y=r==null?s:di(r,i);return y===s?u:y}function gv(r,i){return r!=null&&Bc(r,i,or)}function Ip(r,i){return r!=null&&Bc(r,i,bs)}var mv=Rd(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=il.call(i)),r[i]=u},Lp(gr)),yv=Rd(function(r,i,u){i!=null&&typeof i.toString!="function"&&(i=il.call(i)),pt.call(r,i)?r[i].push(u):r[i]=[u]},Ye),xv=tt(lr);function _n(r){return hr(r)?Ur(r):gi(r)}function pr(r){return hr(r)?Ur(r,!0):wc(r)}function vv(r,i){var u={};return i=Ye(i,3),qn(r,function(y,N,z){Wr(u,i(y,N,z),y)}),u}function wv(r,i){var u={};return i=Ye(i,3),qn(r,function(y,N,z){Wr(u,N,i(y,N,z))}),u}var _v=So(function(r,i,u){Es(r,i,u)}),a0=So(function(r,i,u,y){Es(r,i,u,y)}),Sv=Qr(function(r,i){var u={};if(r==null)return u;var y=!1;i=kt(i,function(z){return z=Xr(z,r),y||(y=z.length>1),z}),Nr(r,Cl(r),u),y&&(u=$n(u,S|T|A,Lc));for(var N=i.length;N--;)qa(u,i[N]);return u});function Nv(r,i){return u0(r,Ee(Ye(i)))}var bv=Qr(function(r,i){return r==null?{}:Nc(r,i)});function u0(r,i){if(r==null)return{};var u=kt(Cl(r),function(y){return[y]});return i=Ye(i),Wi(r,u,function(y,N){return i(y,N[0])})}function Ev(r,i,u){i=Xr(i,r);var y=-1,N=i.length;for(N||(N=1,r=s);++y<N;){var z=r==null?s:r[kr(i[y])];z===s&&(y=N,z=u),r=Os(z)?z.call(r):z}return r}function Cv(r,i,u){return r==null?r:ks(r,i,u)}function kv(r,i,u,y){return y=typeof y=="function"?y:s,r==null?r:ks(r,i,u,y)}var c0=Oc(_n),f0=Oc(pr);function jv(r,i,u){var y=et(r),N=y||Po(r)||Eu(r);if(i=Ye(i,4),u==null){var z=r&&r.constructor;N?u=y?new z:[]:Bt(r)?u=Os(z)?co(_r(r)):{}:u={}}return(N?hn:qn)(r,function(X,J,se){return i(u,X,J,se)}),u}function Tv(r,i){return r==null?!0:qa(r,i)}function Pv(r,i,u){return r==null?r:jc(r,i,Xa(u))}function Rv(r,i,u,y){return y=typeof y=="function"?y:s,r==null?r:jc(r,i,Xa(u),y)}function Cu(r){return r==null?[]:tl(r,_n(r))}function Av(r){return r==null?[]:tl(r,pr(r))}function Dv(r,i,u){return u===s&&(u=i,i=s),u!==s&&(u=Jr(u),u=u===u?u:0),i!==s&&(i=Jr(i),i=i===i?i:0),fi(Jr(r),i,u)}function Mv(r,i,u){return i=Is(i),u===s?(u=i,i=0):u=Is(u),r=Jr(r),xc(r,i,u)}function zv(r,i,u){if(u&&typeof u!="boolean"&&Pn(r,i,u)&&(i=u=s),u===s&&(typeof i=="boolean"?(u=i,i=s):typeof r=="boolean"&&(u=r,r=s)),r===s&&i===s?(r=0,i=1):(r=Is(r),i===s?(i=r,r=0):i=Is(i)),r>i){var y=r;r=i,i=y}if(u||r%1||i%1){var N=al();return pn(r+N*(i-r+Xu("1e-"+((N+"").length-1))),i)}return xo(r,i)}var Ov=js(function(r,i,u){return i=i.toLowerCase(),r+(u?d0(i):i)});function d0(r){return $p(Nt(r).toLowerCase())}function h0(r){return r=Nt(r),r&&r.replace(ia,rd).replace(Wf,"")}function Iv(r,i,u){r=Nt(r),i=Ln(i);var y=r.length;u=u===s?y:fi(nt(u),0,y);var N=u;return u-=i.length,u>=0&&r.slice(u,N)==i}function $v(r){return r=Nt(r),r&&Xl.test(r)?r.replace(Or,id):r}function Lv(r){return r=Nt(r),r&&ls.test(r)?r.replace(os,"\\$&"):r}var Fv=js(function(r,i,u){return r+(u?"-":"")+i.toLowerCase()}),Hv=js(function(r,i,u){return r+(u?" ":"")+i.toLowerCase()}),Uv=Dc("toLowerCase");function Bv(r,i,u){r=Nt(r),i=nt(i);var y=i?gs(r):0;if(!i||y>=i)return r;var N=(i-y)/2;return bl(zi(N),u)+r+bl(ys(N),u)}function Wv(r,i,u){r=Nt(r),i=nt(i);var y=i?gs(r):0;return i&&y<i?r+bl(i-y,u):r}function Vv(r,i,u){r=Nt(r),i=nt(i);var y=i?gs(r):0;return i&&y<i?bl(i-y,u)+r:r}function Yv(r,i,u){return u||i==null?i=0:i&&(i=+i),hd(Nt(r).replace(Uo,""),i||0)}function qv(r,i,u){return(u?Pn(r,i,u):i===s)?i=1:i=nt(i),Cs(Nt(r),i)}function Gv(){var r=arguments,i=Nt(r[0]);return r.length<3?i:i.replace(r[1],r[2])}var Xv=js(function(r,i,u){return r+(u?"_":"")+i.toLowerCase()});function Kv(r,i,u){return u&&typeof u!="number"&&Pn(r,i,u)&&(i=u=s),u=u===s?D:u>>>0,u?(r=Nt(r),r&&(typeof i=="string"||i!=null&&!zp(i))&&(i=Ln(i),!i&&to(r))?yi(Wn(r),0,u):r.split(i,u)):[]}var Qv=js(function(r,i,u){return r+(u?" ":"")+$p(i)});function Zv(r,i,u){return r=Nt(r),u=u==null?0:fi(nt(u),0,r.length),i=Ln(i),r.slice(u,u+i.length)==i}function Jv(r,i,u){var y=R.templateSettings;u&&Pn(r,i,u)&&(i=s),r=Nt(r),i=ih({},i,y,Ic);var N=ih({},i.imports,y.imports,Ic),z=_n(N),X=tl(N,z),J,se,ye=0,xe=i.interpolate||us,Ne="__p += '",je=nl((i.escape||us).source+"|"+xe.source+"|"+(xe===Fo?si:us).source+"|"+(i.evaluate||us).source+"|$","g"),Le="//# sourceURL="+(pt.call(i,"sourceURL")?(i.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Qh+"]")+`
`;r.replace(je,function(Ke,lt,dt,Rr,Kn,Ar){return dt||(dt=Rr),Ne+=r.slice(ye,Ar).replace(Bu,sd),lt&&(J=!0,Ne+=`' +
__e(`+lt+`) +
'`),Kn&&(se=!0,Ne+=`';
`+Kn+`;
__p += '`),dt&&(Ne+=`' +
((__t = (`+dt+`)) == null ? '' : __t) +
'`),ye=Ar+Ke.length,Ke}),Ne+=`';
`;var Xe=pt.call(i,"variable")&&i.variable;if(!Xe)Ne=`with (obj) {
`+Ne+`
}
`;else if(Hu.test(Xe))throw new Qe(x);Ne=(se?Ne.replace(ri,""):Ne).replace(is,"$1").replace(ii,"$1;"),Ne="function("+(Xe||"obj")+`) {
`+(Xe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(se?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ne+`return __p
}`;var rt=g0(function(){return ht(z,Le+"return "+Ne).apply(s,X)});if(rt.source=Ne,Mp(rt))throw rt;return rt}function ew(r){return Nt(r).toLowerCase()}function tw(r){return Nt(r).toUpperCase()}function nw(r,i,u){if(r=Nt(r),r&&(u||i===s))return ed(r);if(!r||!(i=Ln(i)))return r;var y=Wn(r),N=Wn(i),z=td(y,N),X=lc(y,N)+1;return yi(y,z,X).join("")}function rw(r,i,u){if(r=Nt(r),r&&(u||i===s))return r.slice(0,_a(r)+1);if(!r||!(i=Ln(i)))return r;var y=Wn(r),N=lc(y,Wn(i))+1;return yi(y,0,N).join("")}function iw(r,i,u){if(r=Nt(r),r&&(u||i===s))return r.replace(Uo,"");if(!r||!(i=Ln(i)))return r;var y=Wn(r),N=td(y,Wn(i));return yi(y,N).join("")}function sw(r,i){var u=ie,y=Y;if(Bt(i)){var N="separator"in i?i.separator:N;u="length"in i?nt(i.length):u,y="omission"in i?Ln(i.omission):y}r=Nt(r);var z=r.length;if(to(r)){var X=Wn(r);z=X.length}if(u>=z)return r;var J=u-gs(y);if(J<1)return y;var se=X?yi(X,0,J).join(""):r.slice(0,J);if(N===s)return se+y;if(X&&(J+=se.length-J),zp(N)){if(r.slice(J).search(N)){var ye,xe=se;for(N.global||(N=nl(N.source,Nt(Wo.exec(N))+"g")),N.lastIndex=0;ye=N.exec(xe);)var Ne=ye.index;se=se.slice(0,Ne===s?J:Ne)}}else if(r.indexOf(Ln(N),J)!=J){var je=se.lastIndexOf(N);je>-1&&(se=se.slice(0,je))}return se+y}function ow(r){return r=Nt(r),r&&Ir.test(r)?r.replace(vr,od):r}var lw=js(function(r,i,u){return r+(u?" ":"")+i.toUpperCase()}),$p=Dc("toUpperCase");function p0(r,i,u){return r=Nt(r),i=u?s:i,i===s?sp(r)?up(r):np(r):r.match(i)||[]}var g0=tt(function(r,i){try{return Cn(r,s,i)}catch(u){return Mp(u)?u:new Qe(u)}}),aw=Qr(function(r,i){return hn(i,function(u){u=kr(u),Wr(r,u,be(r[u],r))}),r});function uw(r){var i=r==null?0:r.length,u=Ye();return r=i?kt(r,function(y){if(typeof y[1]!="function")throw new nr(p);return[u(y[0]),y[1]]}):[],tt(function(y){for(var N=-1;++N<i;){var z=r[N];if(Cn(z[0],this,y))return Cn(z[1],this,y)}})}function cw(r){return wd($n(r,S))}function Lp(r){return function(){return r}}function fw(r,i){return r==null||r!==r?i:r}var dw=eu(),hw=eu(!0);function gr(r){return r}function Fp(r){return yo(typeof r=="function"?r:$n(r,S))}function pw(r){return Ba($n(r,S))}function gw(r,i){return zt(r,$n(i,S))}var mw=tt(function(r,i){return function(u){return lr(u,r,i)}}),yw=tt(function(r,i){return function(u){return lr(r,u,i)}});function Hp(r,i,u){var y=_n(i),N=go(i,y);u==null&&!(Bt(i)&&(N.length||!y.length))&&(u=i,i=r,r=this,N=go(i,_n(i)));var z=!(Bt(u)&&"chain"in u)||!!u.chain,X=Os(r);return hn(N,function(J){var se=i[J];r[J]=se,X&&(r.prototype[J]=function(){var ye=this.__chain__;if(z||ye){var xe=r(this.__wrapped__),Ne=xe.__actions__=jn(this.__actions__);return Ne.push({func:se,args:arguments,thisArg:r}),xe.__chain__=ye,xe}return se.apply(r,Di([this.value()],arguments))})}),r}function xw(){return Mt._===this&&(Mt._=ud),this}function Up(){}function vw(r){return r=nt(r),tt(function(i){return Wa(i,r)})}var ww=tu(kt),_w=tu(Ju),Sw=tu(nc);function m0(r){return Ae(r)?ic(kr(r)):$t(r)}function Nw(r){return function(i){return r==null?s:di(r,i)}}var bw=zc(),Ew=zc(!0);function Bp(){return[]}function Wp(){return!1}function Cw(){return{}}function kw(){return""}function jw(){return!0}function Tw(r,i){if(r=nt(r),r<1||r>K)return[];var u=D,y=pn(r,D);i=Ye(i),r-=D;for(var N=oc(y,i);++u<r;)i(u);return N}function Pw(r){return et(r)?kt(r,kr):Pr(r)?[r]:jn(qc(Nt(r)))}function Rw(r){var i=++io;return Nt(r)+i}var Aw=Nl(function(r,i){return r+i},0),Dw=ln("ceil"),Mw=Nl(function(r,i){return r/i},1),zw=ln("floor");function Ow(r){return r&&r.length?Ns(r,gr,Ui):s}function Iw(r,i){return r&&r.length?Ns(r,Ye(i,2),Ui):s}function $w(r){return Zf(r,gr)}function Lw(r,i){return Zf(r,Ye(i,2))}function Fw(r){return r&&r.length?Ns(r,gr,Bi):s}function Hw(r,i){return r&&r.length?Ns(r,Ye(i,2),Bi):s}var Uw=Nl(function(r,i){return r*i},1),Bw=ln("round"),Ww=Nl(function(r,i){return r-i},0);function Vw(r){return r&&r.length?sc(r,gr):0}function Yw(r,i){return r&&r.length?sc(r,Ye(i,2)):0}return R.after=Z,R.ary=de,R.assign=tv,R.assignIn=l0,R.assignInWith=ih,R.assignWith=nv,R.at=rv,R.before=Se,R.bind=be,R.bindAll=aw,R.bindKey=we,R.castArray=Cx,R.chain=yu,R.chunk=uu,R.compact=Gc,R.concat=fr,R.cond=uw,R.conforms=cw,R.constant=Lp,R.countBy=Qd,R.create=iv,R.curry=Pe,R.curryRight=ze,R.debounce=Ie,R.defaults=sv,R.defaultsDeep=ov,R.defer=Ut,R.delay=le,R.difference=ft,R.differenceBy=nn,R.differenceWith=qt,R.drop=cn,R.dropRight=Xn,R.dropRightWhile=jo,R.dropWhile=Qt,R.fill=Al,R.filter=wu,R.flatMap=lf,R.flatMapDeep=Tp,R.flatMapDepth=eh,R.flatten=cu,R.flattenDeep=Ml,R.flattenDepth=Fn,R.flip=te,R.flow=dw,R.flowRight=hw,R.fromPairs=Xc,R.functions=hv,R.functionsIn=pv,R.groupBy=af,R.initial=fu,R.intersection=Kc,R.intersectionBy=Gi,R.intersectionWith=du,R.invert=mv,R.invertBy=yv,R.invokeMap=th,R.iteratee=Fp,R.keyBy=Pp,R.keys=_n,R.keysIn=pr,R.map=zs,R.mapKeys=vv,R.mapValues=wv,R.matches=pw,R.matchesProperty=gw,R.memoize=ue,R.merge=_v,R.mergeWith=a0,R.method=mw,R.methodOf=yw,R.mixin=Hp,R.negate=Ee,R.nthArg=vw,R.omit=Sv,R.omitBy=Nv,R.once=$e,R.orderBy=Rp,R.over=ww,R.overArgs=We,R.overEvery=_w,R.overSome=Sw,R.partial=Ue,R.partialRight=Ge,R.partition=$l,R.pick=bv,R.pickBy=u0,R.property=m0,R.propertyOf=Nw,R.pull=hu,R.pullAll=Ol,R.pullAllBy=An,R.pullAllWith=Ki,R.pullAt=jr,R.range=bw,R.rangeRight=Ew,R.rearg=rn,R.reject=e,R.remove=Hn,R.rest=gt,R.reverse=pu,R.sampleSize=o,R.set=Cv,R.setWith=kv,R.shuffle=a,R.slice=Zc,R.sortBy=C,R.sortedUniq=tf,R.sortedUniqBy=As,R.split=Kv,R.spread=Zi,R.tail=Wd,R.take=Vd,R.takeRight=nf,R.takeRightWhile=gu,R.takeWhile=vp,R.tap=Cp,R.throttle=Dp,R.thru=Tr,R.toArray=i0,R.toPairs=c0,R.toPairsIn=f0,R.toPath=Pw,R.toPlainObject=o0,R.transform=jv,R.unary=bx,R.union=wp,R.unionBy=Yd,R.unionWith=qd,R.uniq=Ds,R.uniqBy=_p,R.uniqWith=To,R.unset=Tv,R.unzip=mu,R.unzipWith=Lt,R.update=Pv,R.updateWith=Rv,R.values=Cu,R.valuesIn=Av,R.without=Sp,R.words=p0,R.wrap=Ex,R.xor=Gd,R.xorBy=Np,R.xorWith=bp,R.zip=Xd,R.zipObject=Kd,R.zipObjectDeep=Ep,R.zipWith=dr,R.entries=c0,R.entriesIn=f0,R.extend=l0,R.extendWith=ih,Hp(R,R),R.add=Aw,R.attempt=g0,R.camelCase=Ov,R.capitalize=d0,R.ceil=Dw,R.clamp=Dv,R.clone=kx,R.cloneDeep=Tx,R.cloneDeepWith=Px,R.cloneWith=jx,R.conformsTo=Rx,R.deburr=h0,R.defaultTo=fw,R.divide=Mw,R.endsWith=Iv,R.eq=_i,R.escape=$v,R.escapeRegExp=Lv,R.every=Zd,R.find=_u,R.findIndex=qi,R.findKey=lv,R.findLast=Jd,R.findLastIndex=Dl,R.findLastKey=av,R.floor=zw,R.forEach=Su,R.forEachRight=Il,R.forIn=uv,R.forInRight=cv,R.forOwn=fv,R.forOwnRight=dv,R.get=Op,R.gt=Ax,R.gte=Dx,R.has=gv,R.hasIn=Ip,R.head=Ps,R.identity=gr,R.includes=Nu,R.indexOf=wi,R.inRange=Mv,R.invoke=xv,R.isArguments=Ll,R.isArray=et,R.isArrayBuffer=Mx,R.isArrayLike=hr,R.isArrayLikeObject=Zt,R.isBoolean=zx,R.isBuffer=Po,R.isDate=Ox,R.isElement=Ix,R.isEmpty=$x,R.isEqual=Lx,R.isEqualWith=Fx,R.isError=Mp,R.isFinite=Hx,R.isFunction=Os,R.isInteger=e0,R.isLength=nh,R.isMap=t0,R.isMatch=Ux,R.isMatchWith=Bx,R.isNaN=Wx,R.isNative=Vx,R.isNil=qx,R.isNull=Yx,R.isNumber=n0,R.isObject=Bt,R.isObjectLike=Gt,R.isPlainObject=uf,R.isRegExp=zp,R.isSafeInteger=Gx,R.isSet=r0,R.isString=rh,R.isSymbol=Pr,R.isTypedArray=Eu,R.isUndefined=Xx,R.isWeakMap=Kx,R.isWeakSet=Qx,R.join=Xi,R.kebabCase=Fv,R.last=Rn,R.lastIndexOf=zl,R.lowerCase=Hv,R.lowerFirst=Uv,R.lt=Zx,R.lte=Jx,R.max=Ow,R.maxBy=Iw,R.mean=$w,R.meanBy=Lw,R.min=Fw,R.minBy=Hw,R.stubArray=Bp,R.stubFalse=Wp,R.stubObject=Cw,R.stubString=kw,R.stubTrue=jw,R.multiply=Uw,R.nth=Qc,R.noConflict=xw,R.noop=Up,R.now=V,R.pad=Bv,R.padEnd=Wv,R.padStart=Vv,R.parseInt=Yv,R.random=zv,R.reduce=Ap,R.reduceRight=bu,R.repeat=qv,R.replace=Gv,R.result=Ev,R.round=Bw,R.runInContext=re,R.sample=t,R.size=h,R.snakeCase=Xv,R.some=m,R.sortedIndex=Jc,R.sortedIndexBy=xp,R.sortedIndexOf=Qi,R.sortedLastIndex=Bd,R.sortedLastIndexBy=ef,R.sortedLastIndexOf=Rs,R.startCase=Qv,R.startsWith=Zv,R.subtract=Ww,R.sum=Vw,R.sumBy=Yw,R.template=Jv,R.times=Tw,R.toFinite=Is,R.toInteger=nt,R.toLength=s0,R.toLower=ew,R.toNumber=Jr,R.toSafeInteger=ev,R.toString=Nt,R.toUpper=tw,R.trim=nw,R.trimEnd=rw,R.trimStart=iw,R.truncate=sw,R.unescape=ow,R.uniqueId=Rw,R.upperCase=lw,R.upperFirst=$p,R.each=Su,R.eachRight=Il,R.first=Ps,Hp(R,function(){var r={};return qn(R,function(i,u){pt.call(R.prototype,u)||(r[u]=i)}),r}(),{chain:!1}),R.VERSION=c,hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(r){R[r].placeholder=R}),hn(["drop","take"],function(r,i){Je.prototype[r]=function(u){u=u===s?1:Yt(nt(u),0);var y=this.__filtered__&&!i?new Je(this):this.clone();return y.__filtered__?y.__takeCount__=pn(u,y.__takeCount__):y.__views__.push({size:pn(u,D),type:r+(y.__dir__<0?"Right":"")}),y},Je.prototype[r+"Right"]=function(u){return this.reverse()[r](u).reverse()}}),hn(["filter","map","takeWhile"],function(r,i){var u=i+1,y=u==I||u==B;Je.prototype[r]=function(N){var z=this.clone();return z.__iteratees__.push({iteratee:Ye(N,3),type:u}),z.__filtered__=z.__filtered__||y,z}}),hn(["head","last"],function(r,i){var u="take"+(i?"Right":"");Je.prototype[r]=function(){return this[u](1).value()[0]}}),hn(["initial","tail"],function(r,i){var u="drop"+(i?"":"Right");Je.prototype[r]=function(){return this.__filtered__?new Je(this):this[u](1)}}),Je.prototype.compact=function(){return this.filter(gr)},Je.prototype.find=function(r){return this.filter(r).head()},Je.prototype.findLast=function(r){return this.reverse().find(r)},Je.prototype.invokeMap=tt(function(r,i){return typeof r=="function"?new Je(this):this.map(function(u){return lr(u,r,i)})}),Je.prototype.reject=function(r){return this.filter(Ee(Ye(r)))},Je.prototype.slice=function(r,i){r=nt(r);var u=this;return u.__filtered__&&(r>0||i<0)?new Je(u):(r<0?u=u.takeRight(-r):r&&(u=u.drop(r)),i!==s&&(i=nt(i),u=i<0?u.dropRight(-i):u.take(i-r)),u)},Je.prototype.takeRightWhile=function(r){return this.reverse().takeWhile(r).reverse()},Je.prototype.toArray=function(){return this.take(D)},qn(Je.prototype,function(r,i){var u=/^(?:filter|find|map|reject)|While$/.test(i),y=/^(?:head|last)$/.test(i),N=R[y?"take"+(i=="last"?"Right":""):i],z=y||/^find/.test(i);N&&(R.prototype[i]=function(){var X=this.__wrapped__,J=y?[1]:arguments,se=X instanceof Je,ye=J[0],xe=se||et(X),Ne=function(lt){var dt=N.apply(R,Di([lt],J));return y&&je?dt[0]:dt};xe&&u&&typeof ye=="function"&&ye.length!=1&&(se=xe=!1);var je=this.__chain__,Le=!!this.__actions__.length,Xe=z&&!je,rt=se&&!Le;if(!z&&xe){X=rt?X:new Je(this);var Ke=r.apply(X,J);return Ke.__actions__.push({func:Tr,args:[Ne],thisArg:s}),new gn(Ke,je)}return Xe&&rt?r.apply(this,J):(Ke=this.thru(Ne),Xe?y?Ke.value()[0]:Ke.value():Ke)})}),hn(["pop","push","shift","sort","splice","unshift"],function(r){var i=li[r],u=/^(?:push|sort|unshift)$/.test(r)?"tap":"thru",y=/^(?:pop|shift)$/.test(r);R.prototype[r]=function(){var N=arguments;if(y&&!this.__chain__){var z=this.value();return i.apply(et(z)?z:[],N)}return this[u](function(X){return i.apply(et(X)?X:[],N)})}}),qn(Je.prototype,function(r,i){var u=R[i];if(u){var y=u.name+"";pt.call(ao,y)||(ao[y]=[]),ao[y].push({name:i,func:u})}}),ao[bo(s,j).name]=[{name:"wrapper",func:s}],Je.prototype.clone=Aa,Je.prototype.reverse=pc,Je.prototype.value=fo,R.prototype.at=xu,R.prototype.chain=Ms,R.prototype.commit=vu,R.prototype.next=rf,R.prototype.plant=kp,R.prototype.reverse=of,R.prototype.toJSON=R.prototype.valueOf=R.prototype.value=jp,R.prototype.first=R.prototype.head,ui&&(R.prototype[ui]=sf),R},no=cp();$r?(($r.exports=no)._=no,el._=no):Mt._=no}).call(yE)}(Ef,Ef.exports)),Ef.exports}var vE=xE();const wE=({id:n,sourceX:l,sourceY:s,targetX:c,targetY:d,source:g,target:p,data:x})=>{const[w,v,_]=qg({sourceX:l,sourceY:s,targetX:c,targetY:d}),S=async()=>{try{const T=await fetch(`http://127.0.0.1:8000/memos/${x.novelId}/${g}/disconnect/${p}`,{method:"DELETE"});if(!T.ok){console.error("Error disconnecting memo:",await T.text());return}x.setEdges(A=>A.filter(U=>U.id!==n)),x.setNodes(A=>A.map(U=>{var F;return{...U,connections:(F=U.connections)==null?void 0:F.filter(L=>L!==p)}}))}catch(T){console.error("Error disconnecting memo:",T)}};return f.jsxs(f.Fragment,{children:[f.jsx("path",{id:n,className:"react-flow__edge-path",d:w,stroke:"black",strokeWidth:"2",fill:"none"}),f.jsx("text",{x:v,y:_,textAnchor:"middle",dominantBaseline:"middle",fontSize:"16px",fill:"red",fontWeight:"bold",style:{cursor:"pointer",userSelect:"none"},onClick:S,children:""})]})};var mf={exports:{}},yf={},xf={exports:{}},fg={},dg={exports:{}},hg,Cm;function _E(){if(Cm)return hg;Cm=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hg=n,hg}var pg,km;function SE(){if(km)return pg;km=1;var n=_E();function l(){}function s(){}return s.resetWarningCache=l,pg=function(){function c(p,x,w,v,_,S){if(S!==n){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}c.isRequired=c;function d(){return c}var g={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:s,resetWarningCache:l};return g.PropTypes=g,g},pg}var jm;function Yh(){return jm||(jm=1,dg.exports=SE()()),dg.exports}function xx(n){var l,s,c="";if(typeof n=="string"||typeof n=="number")c+=n;else if(typeof n=="object")if(Array.isArray(n))for(l=0;l<n.length;l++)n[l]&&(s=xx(n[l]))&&(c&&(c+=" "),c+=s);else for(l in n)n[l]&&(c&&(c+=" "),c+=l);return c}function Tm(){for(var n,l,s=0,c="";s<arguments.length;)(n=arguments[s++])&&(l=xx(n))&&(c&&(c+=" "),c+=l);return c}const NE=Object.freeze(Object.defineProperty({__proto__:null,clsx:Tm,default:Tm},Symbol.toStringTag,{value:"Module"})),bE=qw(NE);var en={},Ao={},Pm;function qh(){if(Pm)return Ao;Pm=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.dontSetMe=d,Ao.findInArray=n,Ao.int=c,Ao.isFunction=l,Ao.isNum=s;function n(g,p){for(let x=0,w=g.length;x<w;x++)if(p.apply(p,[g[x],x,g]))return g[x]}function l(g){return typeof g=="function"||Object.prototype.toString.call(g)==="[object Function]"}function s(g){return typeof g=="number"&&!isNaN(g)}function c(g){return parseInt(g,10)}function d(g,p,x){if(g[p])return new Error("Invalid prop ".concat(p," passed to ").concat(x," - do not set this, set it on the child."))}return Ao}var Do={},Rm;function EE(){if(Rm)return Do;Rm=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.browserPrefixToKey=s,Do.browserPrefixToStyle=c,Do.default=void 0,Do.getPrefix=l;const n=["Moz","Webkit","O","ms"];function l(){var g;let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";const x=(g=window.document)===null||g===void 0||(g=g.documentElement)===null||g===void 0?void 0:g.style;if(!x||p in x)return"";for(let w=0;w<n.length;w++)if(s(p,n[w])in x)return n[w];return""}function s(g,p){return p?"".concat(p).concat(d(g)):g}function c(g,p){return p?"-".concat(p.toLowerCase(),"-").concat(g):g}function d(g){let p="",x=!0;for(let w=0;w<g.length;w++)x?(p+=g[w].toUpperCase(),x=!1):g[w]==="-"?x=!0:p+=g[w];return p}return Do.default=l(),Do}var Am;function Jg(){if(Am)return en;Am=1,Object.defineProperty(en,"__esModule",{value:!0}),en.addClassName=M,en.addEvent=x,en.addUserSelectStyles=P,en.createCSSTransform=U,en.createSVGTransform=F,en.getTouch=j,en.getTouchIdentifier=E,en.getTranslation=L,en.innerHeight=S,en.innerWidth=T,en.matchesSelector=g,en.matchesSelectorAndParentsTo=p,en.offsetXYFromParent=A,en.outerHeight=v,en.outerWidth=_,en.removeClassName=$,en.removeEvent=w,en.removeUserSelectStyles=k;var n=qh(),l=c(EE());function s(b){if(typeof WeakMap!="function")return null;var H=new WeakMap,q=new WeakMap;return(s=function(ie){return ie?q:H})(b)}function c(b,H){if(b&&b.__esModule)return b;if(b===null||typeof b!="object"&&typeof b!="function")return{default:b};var q=s(H);if(q&&q.has(b))return q.get(b);var ie={},Y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ne in b)if(ne!=="default"&&Object.prototype.hasOwnProperty.call(b,ne)){var ae=Y?Object.getOwnPropertyDescriptor(b,ne):null;ae&&(ae.get||ae.set)?Object.defineProperty(ie,ne,ae):ie[ne]=b[ne]}return ie.default=b,q&&q.set(b,ie),ie}let d="";function g(b,H){return d||(d=(0,n.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(q){return(0,n.isFunction)(b[q])})),(0,n.isFunction)(b[d])?b[d](H):!1}function p(b,H,q){let ie=b;do{if(g(ie,H))return!0;if(ie===q)return!1;ie=ie.parentNode}while(ie);return!1}function x(b,H,q,ie){if(!b)return;const Y={capture:!0,...ie};b.addEventListener?b.addEventListener(H,q,Y):b.attachEvent?b.attachEvent("on"+H,q):b["on"+H]=q}function w(b,H,q,ie){if(!b)return;const Y={capture:!0,...ie};b.removeEventListener?b.removeEventListener(H,q,Y):b.detachEvent?b.detachEvent("on"+H,q):b["on"+H]=null}function v(b){let H=b.clientHeight;const q=b.ownerDocument.defaultView.getComputedStyle(b);return H+=(0,n.int)(q.borderTopWidth),H+=(0,n.int)(q.borderBottomWidth),H}function _(b){let H=b.clientWidth;const q=b.ownerDocument.defaultView.getComputedStyle(b);return H+=(0,n.int)(q.borderLeftWidth),H+=(0,n.int)(q.borderRightWidth),H}function S(b){let H=b.clientHeight;const q=b.ownerDocument.defaultView.getComputedStyle(b);return H-=(0,n.int)(q.paddingTop),H-=(0,n.int)(q.paddingBottom),H}function T(b){let H=b.clientWidth;const q=b.ownerDocument.defaultView.getComputedStyle(b);return H-=(0,n.int)(q.paddingLeft),H-=(0,n.int)(q.paddingRight),H}function A(b,H,q){const Y=H===H.ownerDocument.body?{left:0,top:0}:H.getBoundingClientRect(),ne=(b.clientX+H.scrollLeft-Y.left)/q,ae=(b.clientY+H.scrollTop-Y.top)/q;return{x:ne,y:ae}}function U(b,H){const q=L(b,H,"px");return{[(0,l.browserPrefixToKey)("transform",l.default)]:q}}function F(b,H){return L(b,H,"")}function L(b,H,q){let{x:ie,y:Y}=b,ne="translate(".concat(ie).concat(q,",").concat(Y).concat(q,")");if(H){const ae="".concat(typeof H.x=="string"?H.x:H.x+q),I="".concat(typeof H.y=="string"?H.y:H.y+q);ne="translate(".concat(ae,", ").concat(I,")")+ne}return ne}function j(b,H){return b.targetTouches&&(0,n.findInArray)(b.targetTouches,q=>H===q.identifier)||b.changedTouches&&(0,n.findInArray)(b.changedTouches,q=>H===q.identifier)}function E(b){if(b.targetTouches&&b.targetTouches[0])return b.targetTouches[0].identifier;if(b.changedTouches&&b.changedTouches[0])return b.changedTouches[0].identifier}function P(b){if(!b)return;let H=b.getElementById("react-draggable-style-el");H||(H=b.createElement("style"),H.type="text/css",H.id="react-draggable-style-el",H.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,H.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,b.getElementsByTagName("head")[0].appendChild(H)),b.body&&M(b.body,"react-draggable-transparent-selection")}function k(b){if(b)try{if(b.body&&$(b.body,"react-draggable-transparent-selection"),b.selection)b.selection.empty();else{const H=(b.defaultView||window).getSelection();H&&H.type!=="Caret"&&H.removeAllRanges()}}catch{}}function M(b,H){b.classList?b.classList.add(H):b.className.match(new RegExp("(?:^|\\s)".concat(H,"(?!\\S)")))||(b.className+=" ".concat(H))}function $(b,H){b.classList?b.classList.remove(H):b.className=b.className.replace(new RegExp("(?:^|\\s)".concat(H,"(?!\\S)"),"g"),"")}return en}var Ji={},Dm;function vx(){if(Dm)return Ji;Dm=1,Object.defineProperty(Ji,"__esModule",{value:!0}),Ji.canDragX=d,Ji.canDragY=g,Ji.createCoreData=x,Ji.createDraggableData=w,Ji.getBoundPosition=s,Ji.getControlPosition=p,Ji.snapToGrid=c;var n=qh(),l=Jg();function s(S,T,A){if(!S.props.bounds)return[T,A];let{bounds:U}=S.props;U=typeof U=="string"?U:v(U);const F=_(S);if(typeof U=="string"){const{ownerDocument:L}=F,j=L.defaultView;let E;if(U==="parent"?E=F.parentNode:E=L.querySelector(U),!(E instanceof j.HTMLElement))throw new Error('Bounds selector "'+U+'" could not find an element.');const P=E,k=j.getComputedStyle(F),M=j.getComputedStyle(P);U={left:-F.offsetLeft+(0,n.int)(M.paddingLeft)+(0,n.int)(k.marginLeft),top:-F.offsetTop+(0,n.int)(M.paddingTop)+(0,n.int)(k.marginTop),right:(0,l.innerWidth)(P)-(0,l.outerWidth)(F)-F.offsetLeft+(0,n.int)(M.paddingRight)-(0,n.int)(k.marginRight),bottom:(0,l.innerHeight)(P)-(0,l.outerHeight)(F)-F.offsetTop+(0,n.int)(M.paddingBottom)-(0,n.int)(k.marginBottom)}}return(0,n.isNum)(U.right)&&(T=Math.min(T,U.right)),(0,n.isNum)(U.bottom)&&(A=Math.min(A,U.bottom)),(0,n.isNum)(U.left)&&(T=Math.max(T,U.left)),(0,n.isNum)(U.top)&&(A=Math.max(A,U.top)),[T,A]}function c(S,T,A){const U=Math.round(T/S[0])*S[0],F=Math.round(A/S[1])*S[1];return[U,F]}function d(S){return S.props.axis==="both"||S.props.axis==="x"}function g(S){return S.props.axis==="both"||S.props.axis==="y"}function p(S,T,A){const U=typeof T=="number"?(0,l.getTouch)(S,T):null;if(typeof T=="number"&&!U)return null;const F=_(A),L=A.props.offsetParent||F.offsetParent||F.ownerDocument.body;return(0,l.offsetXYFromParent)(U||S,L,A.props.scale)}function x(S,T,A){const U=!(0,n.isNum)(S.lastX),F=_(S);return U?{node:F,deltaX:0,deltaY:0,lastX:T,lastY:A,x:T,y:A}:{node:F,deltaX:T-S.lastX,deltaY:A-S.lastY,lastX:S.lastX,lastY:S.lastY,x:T,y:A}}function w(S,T){const A=S.props.scale;return{node:T.node,x:S.state.x+T.deltaX/A,y:S.state.y+T.deltaY/A,deltaX:T.deltaX/A,deltaY:T.deltaY/A,lastX:S.state.x,lastY:S.state.y}}function v(S){return{left:S.left,top:S.top,right:S.right,bottom:S.bottom}}function _(S){const T=S.findDOMNode();if(!T)throw new Error("<DraggableCore>: Unmounted during event!");return T}return Ji}var vf={},mh={},Mm;function wx(){if(Mm)return mh;Mm=1,Object.defineProperty(mh,"__esModule",{value:!0}),mh.default=n;function n(){}return mh}var zm;function CE(){if(zm)return vf;zm=1,Object.defineProperty(vf,"__esModule",{value:!0}),vf.default=void 0;var n=v(ns()),l=x(Yh()),s=x($h()),c=Jg(),d=vx(),g=qh(),p=x(wx());function x(L){return L&&L.__esModule?L:{default:L}}function w(L){if(typeof WeakMap!="function")return null;var j=new WeakMap,E=new WeakMap;return(w=function(P){return P?E:j})(L)}function v(L,j){if(L&&L.__esModule)return L;if(L===null||typeof L!="object"&&typeof L!="function")return{default:L};var E=w(j);if(E&&E.has(L))return E.get(L);var P={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var M in L)if(M!=="default"&&Object.prototype.hasOwnProperty.call(L,M)){var $=k?Object.getOwnPropertyDescriptor(L,M):null;$&&($.get||$.set)?Object.defineProperty(P,M,$):P[M]=L[M]}return P.default=L,E&&E.set(L,P),P}function _(L,j,E){return j=S(j),j in L?Object.defineProperty(L,j,{value:E,enumerable:!0,configurable:!0,writable:!0}):L[j]=E,L}function S(L){var j=T(L,"string");return typeof j=="symbol"?j:String(j)}function T(L,j){if(typeof L!="object"||L===null)return L;var E=L[Symbol.toPrimitive];if(E!==void 0){var P=E.call(L,j);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(L)}const A={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}};let U=A.mouse,F=class extends n.Component{constructor(){super(...arguments),_(this,"dragging",!1),_(this,"lastX",NaN),_(this,"lastY",NaN),_(this,"touchIdentifier",null),_(this,"mounted",!1),_(this,"handleDragStart",j=>{if(this.props.onMouseDown(j),!this.props.allowAnyClick&&typeof j.button=="number"&&j.button!==0)return!1;const E=this.findDOMNode();if(!E||!E.ownerDocument||!E.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");const{ownerDocument:P}=E;if(this.props.disabled||!(j.target instanceof P.defaultView.Node)||this.props.handle&&!(0,c.matchesSelectorAndParentsTo)(j.target,this.props.handle,E)||this.props.cancel&&(0,c.matchesSelectorAndParentsTo)(j.target,this.props.cancel,E))return;j.type==="touchstart"&&j.preventDefault();const k=(0,c.getTouchIdentifier)(j);this.touchIdentifier=k;const M=(0,d.getControlPosition)(j,k,this);if(M==null)return;const{x:$,y:b}=M,H=(0,d.createCoreData)(this,$,b);(0,p.default)("DraggableCore: handleDragStart: %j",H),(0,p.default)("calling",this.props.onStart),!(this.props.onStart(j,H)===!1||this.mounted===!1)&&(this.props.enableUserSelectHack&&(0,c.addUserSelectStyles)(P),this.dragging=!0,this.lastX=$,this.lastY=b,(0,c.addEvent)(P,U.move,this.handleDrag),(0,c.addEvent)(P,U.stop,this.handleDragStop))}),_(this,"handleDrag",j=>{const E=(0,d.getControlPosition)(j,this.touchIdentifier,this);if(E==null)return;let{x:P,y:k}=E;if(Array.isArray(this.props.grid)){let b=P-this.lastX,H=k-this.lastY;if([b,H]=(0,d.snapToGrid)(this.props.grid,b,H),!b&&!H)return;P=this.lastX+b,k=this.lastY+H}const M=(0,d.createCoreData)(this,P,k);if((0,p.default)("DraggableCore: handleDrag: %j",M),this.props.onDrag(j,M)===!1||this.mounted===!1){try{this.handleDragStop(new MouseEvent("mouseup"))}catch{const H=document.createEvent("MouseEvents");H.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),this.handleDragStop(H)}return}this.lastX=P,this.lastY=k}),_(this,"handleDragStop",j=>{if(!this.dragging)return;const E=(0,d.getControlPosition)(j,this.touchIdentifier,this);if(E==null)return;let{x:P,y:k}=E;if(Array.isArray(this.props.grid)){let H=P-this.lastX||0,q=k-this.lastY||0;[H,q]=(0,d.snapToGrid)(this.props.grid,H,q),P=this.lastX+H,k=this.lastY+q}const M=(0,d.createCoreData)(this,P,k);if(this.props.onStop(j,M)===!1||this.mounted===!1)return!1;const b=this.findDOMNode();b&&this.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(b.ownerDocument),(0,p.default)("DraggableCore: handleDragStop: %j",M),this.dragging=!1,this.lastX=NaN,this.lastY=NaN,b&&((0,p.default)("DraggableCore: Removing handlers"),(0,c.removeEvent)(b.ownerDocument,U.move,this.handleDrag),(0,c.removeEvent)(b.ownerDocument,U.stop,this.handleDragStop))}),_(this,"onMouseDown",j=>(U=A.mouse,this.handleDragStart(j))),_(this,"onMouseUp",j=>(U=A.mouse,this.handleDragStop(j))),_(this,"onTouchStart",j=>(U=A.touch,this.handleDragStart(j))),_(this,"onTouchEnd",j=>(U=A.touch,this.handleDragStop(j)))}componentDidMount(){this.mounted=!0;const j=this.findDOMNode();j&&(0,c.addEvent)(j,A.touch.start,this.onTouchStart,{passive:!1})}componentWillUnmount(){this.mounted=!1;const j=this.findDOMNode();if(j){const{ownerDocument:E}=j;(0,c.removeEvent)(E,A.mouse.move,this.handleDrag),(0,c.removeEvent)(E,A.touch.move,this.handleDrag),(0,c.removeEvent)(E,A.mouse.stop,this.handleDragStop),(0,c.removeEvent)(E,A.touch.stop,this.handleDragStop),(0,c.removeEvent)(j,A.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,c.removeUserSelectStyles)(E)}}findDOMNode(){var j,E;return(j=this.props)!==null&&j!==void 0&&j.nodeRef?(E=this.props)===null||E===void 0||(E=E.nodeRef)===null||E===void 0?void 0:E.current:s.default.findDOMNode(this)}render(){return n.cloneElement(n.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}};return vf.default=F,_(F,"displayName","DraggableCore"),_(F,"propTypes",{allowAnyClick:l.default.bool,children:l.default.node.isRequired,disabled:l.default.bool,enableUserSelectHack:l.default.bool,offsetParent:function(L,j){if(L[j]&&L[j].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:l.default.arrayOf(l.default.number),handle:l.default.string,cancel:l.default.string,nodeRef:l.default.object,onStart:l.default.func,onDrag:l.default.func,onStop:l.default.func,onMouseDown:l.default.func,scale:l.default.number,className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe}),_(F,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),vf}var Om;function kE(){return Om||(Om=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return w.default}}),n.default=void 0;var l=T(ns()),s=_(Yh()),c=_($h()),d=_(bE),g=Jg(),p=vx(),x=qh(),w=_(CE()),v=_(wx());function _(E){return E&&E.__esModule?E:{default:E}}function S(E){if(typeof WeakMap!="function")return null;var P=new WeakMap,k=new WeakMap;return(S=function(M){return M?k:P})(E)}function T(E,P){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var k=S(P);if(k&&k.has(E))return k.get(E);var M={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in E)if(b!=="default"&&Object.prototype.hasOwnProperty.call(E,b)){var H=$?Object.getOwnPropertyDescriptor(E,b):null;H&&(H.get||H.set)?Object.defineProperty(M,b,H):M[b]=E[b]}return M.default=E,k&&k.set(E,M),M}function A(){return A=Object.assign?Object.assign.bind():function(E){for(var P=1;P<arguments.length;P++){var k=arguments[P];for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(E[M]=k[M])}return E},A.apply(this,arguments)}function U(E,P,k){return P=F(P),P in E?Object.defineProperty(E,P,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[P]=k,E}function F(E){var P=L(E,"string");return typeof P=="symbol"?P:String(P)}function L(E,P){if(typeof E!="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var M=k.call(E,P);if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(E)}class j extends l.Component{static getDerivedStateFromProps(P,k){let{position:M}=P,{prevPropsPosition:$}=k;return M&&(!$||M.x!==$.x||M.y!==$.y)?((0,v.default)("Draggable: getDerivedStateFromProps %j",{position:M,prevPropsPosition:$}),{x:M.x,y:M.y,prevPropsPosition:{...M}}):null}constructor(P){super(P),U(this,"onDragStart",(k,M)=>{if((0,v.default)("Draggable: onDragStart: %j",M),this.props.onStart(k,(0,p.createDraggableData)(this,M))===!1)return!1;this.setState({dragging:!0,dragged:!0})}),U(this,"onDrag",(k,M)=>{if(!this.state.dragging)return!1;(0,v.default)("Draggable: onDrag: %j",M);const $=(0,p.createDraggableData)(this,M),b={x:$.x,y:$.y,slackX:0,slackY:0};if(this.props.bounds){const{x:q,y:ie}=b;b.x+=this.state.slackX,b.y+=this.state.slackY;const[Y,ne]=(0,p.getBoundPosition)(this,b.x,b.y);b.x=Y,b.y=ne,b.slackX=this.state.slackX+(q-b.x),b.slackY=this.state.slackY+(ie-b.y),$.x=b.x,$.y=b.y,$.deltaX=b.x-this.state.x,$.deltaY=b.y-this.state.y}if(this.props.onDrag(k,$)===!1)return!1;this.setState(b)}),U(this,"onDragStop",(k,M)=>{if(!this.state.dragging||this.props.onStop(k,(0,p.createDraggableData)(this,M))===!1)return!1;(0,v.default)("Draggable: onDragStop: %j",M);const b={dragging:!1,slackX:0,slackY:0};if(!!this.props.position){const{x:q,y:ie}=this.props.position;b.x=q,b.y=ie}this.setState(b)}),this.state={dragging:!1,dragged:!1,x:P.position?P.position.x:P.defaultPosition.x,y:P.position?P.position.y:P.defaultPosition.y,prevPropsPosition:{...P.position},slackX:0,slackY:0,isElementSVG:!1},P.position&&!(P.onDrag||P.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element.")}componentDidMount(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}componentWillUnmount(){this.setState({dragging:!1})}findDOMNode(){var P,k;return(P=(k=this.props)===null||k===void 0||(k=k.nodeRef)===null||k===void 0?void 0:k.current)!==null&&P!==void 0?P:c.default.findDOMNode(this)}render(){const{axis:P,bounds:k,children:M,defaultPosition:$,defaultClassName:b,defaultClassNameDragging:H,defaultClassNameDragged:q,position:ie,positionOffset:Y,scale:ne,...ae}=this.props;let I={},oe=null;const ee=!!!ie||this.state.dragging,K=ie||$,O={x:(0,p.canDragX)(this)&&ee?this.state.x:K.x,y:(0,p.canDragY)(this)&&ee?this.state.y:K.y};this.state.isElementSVG?oe=(0,g.createSVGTransform)(O,Y):I=(0,g.createCSSTransform)(O,Y);const W=(0,d.default)(M.props.className||"",b,{[H]:this.state.dragging,[q]:this.state.dragged});return l.createElement(w.default,A({},ae,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),l.cloneElement(l.Children.only(M),{className:W,style:{...M.props.style,...I},transform:oe}))}}n.default=j,U(j,"displayName","Draggable"),U(j,"propTypes",{...w.default.propTypes,axis:s.default.oneOf(["both","x","y","none"]),bounds:s.default.oneOfType([s.default.shape({left:s.default.number,right:s.default.number,top:s.default.number,bottom:s.default.number}),s.default.string,s.default.oneOf([!1])]),defaultClassName:s.default.string,defaultClassNameDragging:s.default.string,defaultClassNameDragged:s.default.string,defaultPosition:s.default.shape({x:s.default.number,y:s.default.number}),positionOffset:s.default.shape({x:s.default.oneOfType([s.default.number,s.default.string]),y:s.default.oneOfType([s.default.number,s.default.string])}),position:s.default.shape({x:s.default.number,y:s.default.number}),className:x.dontSetMe,style:x.dontSetMe,transform:x.dontSetMe}),U(j,"defaultProps",{...w.default.defaultProps,axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1})}(fg)),fg}var Im;function _x(){if(Im)return xf.exports;Im=1;const{default:n,DraggableCore:l}=kE();return xf.exports=n,xf.exports.default=n,xf.exports.DraggableCore=l,xf.exports}var yh={},$m;function jE(){if($m)return yh;$m=1,yh.__esModule=!0,yh.cloneElement=x;var n=l(ns());function l(w){return w&&w.__esModule?w:{default:w}}function s(w,v){var _=Object.keys(w);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);v&&(S=S.filter(function(T){return Object.getOwnPropertyDescriptor(w,T).enumerable})),_.push.apply(_,S)}return _}function c(w){for(var v=1;v<arguments.length;v++){var _=arguments[v]!=null?arguments[v]:{};v%2?s(Object(_),!0).forEach(function(S){d(w,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(_)):s(Object(_)).forEach(function(S){Object.defineProperty(w,S,Object.getOwnPropertyDescriptor(_,S))})}return w}function d(w,v,_){return v=g(v),v in w?Object.defineProperty(w,v,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[v]=_,w}function g(w){var v=p(w,"string");return typeof v=="symbol"?v:String(v)}function p(w,v){if(typeof w!="object"||w===null)return w;var _=w[Symbol.toPrimitive];if(_!==void 0){var S=_.call(w,v);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}function x(w,v){return v.style&&w.props.style&&(v.style=c(c({},w.props.style),v.style)),v.className&&w.props.className&&(v.className=w.props.className+" "+v.className),n.default.cloneElement(w,v)}return yh}var wf={},Lm;function Sx(){if(Lm)return wf;Lm=1,wf.__esModule=!0,wf.resizableProps=void 0;var n=l(Yh());_x();function l(c){return c&&c.__esModule?c:{default:c}}var s={axis:n.default.oneOf(["both","x","y","none"]),className:n.default.string,children:n.default.element.isRequired,draggableOpts:n.default.shape({allowAnyClick:n.default.bool,cancel:n.default.string,children:n.default.node,disabled:n.default.bool,enableUserSelectHack:n.default.bool,offsetParent:n.default.node,grid:n.default.arrayOf(n.default.number),handle:n.default.string,nodeRef:n.default.object,onStart:n.default.func,onDrag:n.default.func,onStop:n.default.func,onMouseDown:n.default.func,scale:n.default.number}),height:function(){for(var d=arguments.length,g=new Array(d),p=0;p<d;p++)g[p]=arguments[p];var x=g[0];if(x.axis==="both"||x.axis==="y"){var w;return(w=n.default.number).isRequired.apply(w,g)}return n.default.number.apply(n.default,g)},handle:n.default.oneOfType([n.default.node,n.default.func]),handleSize:n.default.arrayOf(n.default.number),lockAspectRatio:n.default.bool,maxConstraints:n.default.arrayOf(n.default.number),minConstraints:n.default.arrayOf(n.default.number),onResizeStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,resizeHandles:n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:n.default.number,width:function(){for(var d=arguments.length,g=new Array(d),p=0;p<d;p++)g[p]=arguments[p];var x=g[0];if(x.axis==="both"||x.axis==="x"){var w;return(w=n.default.number).isRequired.apply(w,g)}return n.default.number.apply(n.default,g)}};return wf.resizableProps=s,wf}var Fm;function Nx(){if(Fm)return yf;Fm=1,yf.__esModule=!0,yf.default=void 0;var n=p(ns()),l=_x(),s=jE(),c=Sx(),d=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function g(j){if(typeof WeakMap!="function")return null;var E=new WeakMap,P=new WeakMap;return(g=function(M){return M?P:E})(j)}function p(j,E){if(j&&j.__esModule)return j;if(j===null||typeof j!="object"&&typeof j!="function")return{default:j};var P=g(E);if(P&&P.has(j))return P.get(j);var k={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var $ in j)if($!=="default"&&Object.prototype.hasOwnProperty.call(j,$)){var b=M?Object.getOwnPropertyDescriptor(j,$):null;b&&(b.get||b.set)?Object.defineProperty(k,$,b):k[$]=j[$]}return k.default=j,P&&P.set(j,k),k}function x(){return x=Object.assign?Object.assign.bind():function(j){for(var E=1;E<arguments.length;E++){var P=arguments[E];for(var k in P)Object.prototype.hasOwnProperty.call(P,k)&&(j[k]=P[k])}return j},x.apply(this,arguments)}function w(j,E){if(j==null)return{};var P={},k=Object.keys(j),M,$;for($=0;$<k.length;$++)M=k[$],!(E.indexOf(M)>=0)&&(P[M]=j[M]);return P}function v(j,E){var P=Object.keys(j);if(Object.getOwnPropertySymbols){var k=Object.getOwnPropertySymbols(j);E&&(k=k.filter(function(M){return Object.getOwnPropertyDescriptor(j,M).enumerable})),P.push.apply(P,k)}return P}function _(j){for(var E=1;E<arguments.length;E++){var P=arguments[E]!=null?arguments[E]:{};E%2?v(Object(P),!0).forEach(function(k){S(j,k,P[k])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(P)):v(Object(P)).forEach(function(k){Object.defineProperty(j,k,Object.getOwnPropertyDescriptor(P,k))})}return j}function S(j,E,P){return E=T(E),E in j?Object.defineProperty(j,E,{value:P,enumerable:!0,configurable:!0,writable:!0}):j[E]=P,j}function T(j){var E=A(j,"string");return typeof E=="symbol"?E:String(E)}function A(j,E){if(typeof j!="object"||j===null)return j;var P=j[Symbol.toPrimitive];if(P!==void 0){var k=P.call(j,E);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(E==="string"?String:Number)(j)}function U(j,E){j.prototype=Object.create(E.prototype),j.prototype.constructor=j,F(j,E)}function F(j,E){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(k,M){return k.__proto__=M,k},F(j,E)}var L=function(j){U(E,j);function E(){for(var k,M=arguments.length,$=new Array(M),b=0;b<M;b++)$[b]=arguments[b];return k=j.call.apply(j,[this].concat($))||this,k.handleRefs={},k.lastHandleRect=null,k.slack=null,k}var P=E.prototype;return P.componentWillUnmount=function(){this.resetData()},P.resetData=function(){this.lastHandleRect=this.slack=null},P.runConstraints=function(M,$){var b=this.props,H=b.minConstraints,q=b.maxConstraints,ie=b.lockAspectRatio;if(!H&&!q&&!ie)return[M,$];if(ie){var Y=this.props.width/this.props.height,ne=M-this.props.width,ae=$-this.props.height;Math.abs(ne)>Math.abs(ae*Y)?$=M/Y:M=$*Y}var I=M,oe=$,B=this.slack||[0,0],ee=B[0],K=B[1];return M+=ee,$+=K,H&&(M=Math.max(H[0],M),$=Math.max(H[1],$)),q&&(M=Math.min(q[0],M),$=Math.min(q[1],$)),this.slack=[ee+(I-M),K+(oe-$)],[M,$]},P.resizeHandler=function(M,$){var b=this;return function(H,q){var ie=q.node,Y=q.deltaX,ne=q.deltaY;M==="onResizeStart"&&b.resetData();var ae=(b.props.axis==="both"||b.props.axis==="x")&&$!=="n"&&$!=="s",I=(b.props.axis==="both"||b.props.axis==="y")&&$!=="e"&&$!=="w";if(!(!ae&&!I)){var oe=$[0],B=$[$.length-1],ee=ie.getBoundingClientRect();if(b.lastHandleRect!=null){if(B==="w"){var K=ee.left-b.lastHandleRect.left;Y+=K}if(oe==="n"){var O=ee.top-b.lastHandleRect.top;ne+=O}}b.lastHandleRect=ee,B==="w"&&(Y=-Y),oe==="n"&&(ne=-ne);var W=b.props.width+(ae?Y/b.props.transformScale:0),D=b.props.height+(I?ne/b.props.transformScale:0),Q=b.runConstraints(W,D);W=Q[0],D=Q[1];var ge=W!==b.props.width||D!==b.props.height,me=typeof b.props[M]=="function"?b.props[M]:null,ve=M==="onResize"&&!ge;me&&!ve&&(H.persist==null||H.persist(),me(H,{node:ie,size:{width:W,height:D},handle:$})),M==="onResizeStop"&&b.resetData()}}},P.renderResizeHandle=function(M,$){var b=this.props.handle;if(!b)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+M,ref:$});if(typeof b=="function")return b(M,$);var H=typeof b.type=="string",q=_({ref:$},H?{}:{handleAxis:M});return n.cloneElement(b,q)},P.render=function(){var M=this,$=this.props,b=$.children,H=$.className,q=$.draggableOpts;$.width,$.height,$.handle,$.handleSize,$.lockAspectRatio,$.axis,$.minConstraints,$.maxConstraints,$.onResize,$.onResizeStop,$.onResizeStart;var ie=$.resizeHandles;$.transformScale;var Y=w($,d);return(0,s.cloneElement)(b,_(_({},Y),{},{className:(H?H+" ":"")+"react-resizable",children:[].concat(b.props.children,ie.map(function(ne){var ae,I=(ae=M.handleRefs[ne])!=null?ae:M.handleRefs[ne]=n.createRef();return n.createElement(l.DraggableCore,x({},q,{nodeRef:I,key:"resizableHandle-"+ne,onStop:M.resizeHandler("onResizeStop",ne),onStart:M.resizeHandler("onResizeStart",ne),onDrag:M.resizeHandler("onResize",ne)}),M.renderResizeHandle(ne,I))}))}))},E}(n.Component);return yf.default=L,L.propTypes=c.resizableProps,L.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},yf}var _f={},Hm;function TE(){if(Hm)return _f;Hm=1,_f.__esModule=!0,_f.default=void 0;var n=x(ns()),l=g(Yh()),s=g(Nx()),c=Sx(),d=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function g(E){return E&&E.__esModule?E:{default:E}}function p(E){if(typeof WeakMap!="function")return null;var P=new WeakMap,k=new WeakMap;return(p=function($){return $?k:P})(E)}function x(E,P){if(E&&E.__esModule)return E;if(E===null||typeof E!="object"&&typeof E!="function")return{default:E};var k=p(P);if(k&&k.has(E))return k.get(E);var M={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in E)if(b!=="default"&&Object.prototype.hasOwnProperty.call(E,b)){var H=$?Object.getOwnPropertyDescriptor(E,b):null;H&&(H.get||H.set)?Object.defineProperty(M,b,H):M[b]=E[b]}return M.default=E,k&&k.set(E,M),M}function w(){return w=Object.assign?Object.assign.bind():function(E){for(var P=1;P<arguments.length;P++){var k=arguments[P];for(var M in k)Object.prototype.hasOwnProperty.call(k,M)&&(E[M]=k[M])}return E},w.apply(this,arguments)}function v(E,P){var k=Object.keys(E);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(E);P&&(M=M.filter(function($){return Object.getOwnPropertyDescriptor(E,$).enumerable})),k.push.apply(k,M)}return k}function _(E){for(var P=1;P<arguments.length;P++){var k=arguments[P]!=null?arguments[P]:{};P%2?v(Object(k),!0).forEach(function(M){S(E,M,k[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(k)):v(Object(k)).forEach(function(M){Object.defineProperty(E,M,Object.getOwnPropertyDescriptor(k,M))})}return E}function S(E,P,k){return P=T(P),P in E?Object.defineProperty(E,P,{value:k,enumerable:!0,configurable:!0,writable:!0}):E[P]=k,E}function T(E){var P=A(E,"string");return typeof P=="symbol"?P:String(P)}function A(E,P){if(typeof E!="object"||E===null)return E;var k=E[Symbol.toPrimitive];if(k!==void 0){var M=k.call(E,P);if(typeof M!="object")return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(E)}function U(E,P){if(E==null)return{};var k={},M=Object.keys(E),$,b;for(b=0;b<M.length;b++)$=M[b],!(P.indexOf($)>=0)&&(k[$]=E[$]);return k}function F(E,P){E.prototype=Object.create(P.prototype),E.prototype.constructor=E,L(E,P)}function L(E,P){return L=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,$){return M.__proto__=$,M},L(E,P)}var j=function(E){F(P,E);function P(){for(var M,$=arguments.length,b=new Array($),H=0;H<$;H++)b[H]=arguments[H];return M=E.call.apply(E,[this].concat(b))||this,M.state={width:M.props.width,height:M.props.height,propsWidth:M.props.width,propsHeight:M.props.height},M.onResize=function(q,ie){var Y=ie.size;M.props.onResize?(q.persist==null||q.persist(),M.setState(Y,function(){return M.props.onResize&&M.props.onResize(q,ie)})):M.setState(Y)},M}P.getDerivedStateFromProps=function($,b){return b.propsWidth!==$.width||b.propsHeight!==$.height?{width:$.width,height:$.height,propsWidth:$.width,propsHeight:$.height}:null};var k=P.prototype;return k.render=function(){var $=this.props,b=$.handle,H=$.handleSize;$.onResize;var q=$.onResizeStart,ie=$.onResizeStop,Y=$.draggableOpts,ne=$.minConstraints,ae=$.maxConstraints,I=$.lockAspectRatio,oe=$.axis;$.width,$.height;var B=$.resizeHandles,ee=$.style,K=$.transformScale,O=U($,d);return n.createElement(s.default,{axis:oe,draggableOpts:Y,handle:b,handleSize:H,height:this.state.height,lockAspectRatio:I,maxConstraints:ae,minConstraints:ne,onResizeStart:q,onResize:this.onResize,onResizeStop:ie,resizeHandles:B,transformScale:K,width:this.state.width},n.createElement("div",w({},O,{style:_(_({},ee),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},P}(n.Component);return _f.default=j,j.propTypes=_(_({},c.resizableProps),{},{children:l.default.element}),_f}var Um;function PE(){return Um||(Um=1,mf.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},mf.exports.Resizable=Nx().default,mf.exports.ResizableBox=TE().default),mf.exports}var RE=PE();const xh="http://127.0.0.1:8000",AE={custom:wE};function Dg({novelId:n,onBack:l}){const[s,c]=G.useState([]),[d,g]=G.useState([]),p=G.useRef(new Set),[x,w]=G.useState(null),[v,_]=G.useState(!1),[S,T]=G.useState({});G.useEffect(()=>{fetch(`${xh}/memos/${n}`).then(b=>b.json()).then(b=>{const H={},q=b.memos.map(Y=>{const ne=S[Y.id]??Y.height??100;return H[Y.id]=ne,{id:Y.id,type:"default",data:{label:Y.text||"New Memo",onChange:U},position:Y.position||{x:100,y:100},width:Y.width||300,height:ne,connections:Y.connections||[]}}),ie=b.memos.flatMap(Y=>(Y.connections||[]).map(ne=>({id:`${Y.id}-${ne}`,source:Y.id,target:ne,type:"custom",data:{novelId:n,setEdges:g,setNodes:c}})));c(q),g(ie),console.log("useEffect:  heights",H),T(H)}).catch(b=>console.error("Error fetching memos:",b))},[n]);const A=G.useCallback(vE.throttle(async b=>{if(!(!b||p.current.has(b.id))){console.log("save",b.height);try{await fetch(`${xh}/memos/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b.id,novelId:n,text:b.data.label,position:{x:Math.round(b.position.x),y:Math.round(b.position.y)},width:b.width,height:b.height,connections:b.connections||[]})})}catch(H){console.error("Error saving memo:",H)}}},500),[s,d,n]),U=(b,H)=>{c(q=>{const ie=q.map(ne=>ne.id===b?{...ne,data:{...ne.data,label:H}}:ne),Y=ie.find(ne=>ne.id===b);return Y&&A(Y),ie})},F=G.useCallback(b=>{c(H=>{let q=Jy(b,H);return q=q.map(ie=>{const Y=H.find(ne=>ne.id===ie.id);return Y?{...ie,width:Y.width,height:Y.height}:ie}),q})},[]),L=G.useCallback(b=>{g(H=>[...H,{id:`${b.source}-${b.target}`,type:"custom",source:b.source,target:b.target,sourceHandle:b.sourceHandle??null,targetHandle:b.targetHandle??null,data:{novelId:n,setEdges:g,setNodes:c}}]),c(H=>H.map(q=>{if(q.id===b.source){const ie={...q,connections:[...q.connections??[],b.target].filter(Boolean)};return A(ie),ie}return q}))},[]),j=async()=>{const b=crypto.randomUUID(),H={id:b,type:"default",data:{label:"",onChange:U},position:{x:100,y:100},width:300,height:100,connections:[]};c(q=>[...q,H]),T(q=>({...q,[b]:100})),A(H)},E=async b=>{A.cancel();try{const H=await fetch(`${xh}/memos/${n}/${b}`,{method:"DELETE"});if(!H.ok){console.error("Error deleting memo:",await H.text());return}p.current.add(b),c(q=>q.filter(ie=>ie.id!==b)),g(q=>q.filter(ie=>ie.source!==b&&ie.target!==b))}catch(H){console.error("Error deleting memo:",H)}},P=(b,H)=>{console.log("handleDragStop: ",H),c(q=>{const ie=q.map(ne=>ne.id===H.id?{...ne,position:H.position}:ne),Y=ie.find(ne=>ne.id===H.id);return Y&&A(Y),ie})},k=()=>{fetch(`${xh}/scenarios/${n}`).then(b=>b.json()).then(b=>{b.synopsis?(w(b.synopsis),_(!0)):(w("Synopsis not available."),_(!0))}).catch(b=>console.error("Error fetching synopsis:",b))},M=(b,H,q)=>{c(ie=>{const Y=ie.map(ae=>{if(ae.id!==q||ae.width===H.size.width&&ae.height===H.size.height)return ae;const I=H.size.height-62;return{...ae,width:H.size.width,height:I}});T(ae=>{const I={...ae,[q]:H.size.height-62};return console.log("handleResizeStop:  nodeHeights",I),I});const ne=Y.find(ae=>ae.id===q);return ne&&A(ne),Y})},$=(b,H)=>{b.currentTarget.style.height="auto";const q=b.currentTarget.scrollHeight;b.currentTarget.style.height=`${q}px`,T(Y=>{const ne={...Y,[H]:q};return console.log("handleTextAreaInput:  nodeHeights",ne),ne}),c(Y=>Y.map(ne=>ne.id===H?{...ne,height:q}:ne));const ie=s.find(Y=>Y.id===H);ie&&A({...ie,height:q})};return f.jsxs("div",{className:"h-screen flex flex-col",children:[f.jsxs("div",{className:"flex items-center justify-between p-4",children:[f.jsx("button",{onClick:l,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",title:"Back",children:f.jsx(Gl,{size:24,className:"text-gray-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 flex-1 text-left ml-4",children:"Memo Management"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:k,className:"bg-green-600 text-white p-3 rounded-lg shadow-lg hover:bg-green-700 transition-colors flex items-center gap-2",title:"View Synopsis",children:[f.jsx(o1,{size:20}),f.jsx("span",{className:"hidden sm:inline",children:"View Synopsis"})]}),f.jsxs("button",{onClick:j,className:"bg-blue-600 text-white p-3 rounded-lg shadow-lg hover:bg-blue-700 transition-colors flex items-center gap-2",title:"Add Memo",children:[f.jsx(Lo,{size:20}),f.jsx("span",{className:"hidden sm:inline",children:"Add Memo"})]})]})]}),f.jsxs("div",{className:"flex flex-1",children:[f.jsx("div",{className:`transition-all duration-300 ${v?"w-2/3":"w-full"}`,children:f.jsxs(hx,{nodes:s.map(b=>({...b,style:{width:b.width||300,minHeight:50,height:"auto"},data:{...b.data,label:f.jsx(RE.ResizableBox,{width:(b.width||300)-20,height:S[b.id]+40||100,axis:"x",minConstraints:[200,50],maxConstraints:[500,200],className:"relative p-2 border rounded bg-white shadow-md nodrag",onResizeStop:(H,q)=>M(H,q,b.id),children:f.jsxs("div",{className:"relative p-2 border rounded bg-white shadow-md",children:[f.jsx("button",{onClick:()=>E(b.id),className:"absolute top-[-8px] right-[-8px] w-4 h-4 flex items-center justify-center bg-red-500 text-white rounded-full hover:bg-red-700 shadow-md",title:"Delete",children:f.jsx(p1,{size:8})}),f.jsx("textarea",{value:b.data.label,onChange:H=>U(b.id,H.target.value),onInput:H=>$(H,b.id),className:"border border-gray-300 rounded p-2 w-full resize-none overflow-hidden break-words nodrag",autoFocus:!0,style:{fontSize:"16px",lineHeight:"24px",padding:"6px 10px",backgroundImage:"linear-gradient(to bottom, transparent 23px, #ddd 24px)",backgroundSize:"100% 24px",backgroundPosition:"left 5px",backgroundAttachment:"local",height:S[b.id]}})]})})}})),edges:d,edgeTypes:AE,onNodeDragStop:P,onNodesChange:F,onConnect:L,fitView:!0,children:[f.jsx(mE,{}),f.jsx(cE,{}),f.jsx(rE,{})]})}),v&&f.jsxs("div",{className:"absolute right-0 top-[calc(4rem+16px)] w-1/3 h-[calc(100%-4rem-16px)] bg-white p-6 shadow-xl overflow-auto",children:[f.jsx("button",{className:"absolute top-4 right-4 p-2 rounded-full bg-gray-300 hover:bg-gray-400",onClick:()=>_(!1),children:f.jsx(Mr,{size:24})}),f.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Synopsis"}),f.jsx("div",{className:"p-4 bg-gray-100 rounded-lg shadow-inner overflow-auto",children:f.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:x})})]})]})]})}const Dr="http://127.0.0.1:8000";function DE({novelId:n,onBack:l}){var Tt,_t,Ce,qe;const[s,c]=G.useState(null),[d,g]=G.useState(null);G.useEffect(()=>{fetch(`${Dr}/scenarios/${n}`).then(ce=>{if(ce.ok)return ce.json();if(ce.status===404)return p(),null;throw new Error("Failed to fetch scenario")}).then(ce=>{ce&&(c(ce),$(ce.synopsis))}).catch(ce=>console.error("Error fetching scenario:",ce))},[n]);const p=()=>{fetch(`${Dr}/scenarios/${n}`,{method:"POST",headers:{"Content-Type":"application/json"}}).then(ce=>ce.ok?ce.json():ce.json().then(_e=>{throw new Error(_e.detail||"Failed to create scenario")})).then(()=>{c({id:n,synopsis:"",worldBuilding:[],chapters:[],timeline:[]}),$("")}).catch(ce=>console.error("Error creating scenario:",ce))},[x,w]=G.useState(!1),[v,_]=G.useState(!1),[S,T]=G.useState(!1),[A,U]=G.useState(null),[F,L]=G.useState(null),[j,E]=G.useState({term:"",description:""}),[P,k]=G.useState({number:0,title:"",plot:""}),[M,$]=G.useState(""),[b,H]=G.useState(!1),[q,ie]=G.useState(new Set),[Y,ne]=G.useState(!1),[ae,I]=G.useState(""),[oe,B]=G.useState(!1),[ee,K]=G.useState(!1),[O,W]=G.useState(""),[D,Q]=G.useState(new Set),[ge,me]=G.useState(!1),ve=he.useMemo(()=>!s||!s.worldBuilding?[]:s.worldBuilding.filter(ce=>ce.term.toLowerCase().includes(ae.toLowerCase())||ce.description.toLowerCase().includes(ae.toLowerCase())).sort((ce,_e)=>ce.term.localeCompare(_e.term)),[s,ae]),ke=he.useMemo(()=>!s||!s.chapters?[]:s.chapters.filter(ce=>ce.title.toLowerCase().includes(O.toLowerCase())).sort((ce,_e)=>ce.number-_e.number),[s,O]),Re=Y?ve:ve.slice(0,4),De=ce=>{ie(_e=>{const He=new Set(_e);return He.has(ce)?He.delete(ce):He.add(ce),He})},Me=ce=>{Q(_e=>{const He=new Set(_e);return He.has(ce)?He.delete(ce):He.add(ce),He})},Be=async()=>{if(!s)return;const ce={...s,synopsis:M};try{if(!(await fetch(`${Dr}/scenarios/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)})).ok)throw new Error("Failed to update scenario");const Fe=await(await fetch(`${Dr}/scenarios/${n}`)).json();c(Fe),w(!1)}catch(_e){console.error("Error updating scenario:",_e)}},xt=()=>{if(confirm("Are you sure you want to clear the synopsis? This cannot be undone.")){if($(""),!s)return;const ce={...s,synopsis:""};fetch(`${Dr}/scenarios/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)}).catch(_e=>console.error("Error clearing synopsis:",_e))}},vt=async()=>{if(!s||!j.term.trim())return;let ce;if(A){const _e={...A,term:j.term.trim(),description:j.description.trim()};ce={...s,worldBuilding:s.worldBuilding.map(He=>He.id===A.id?_e:He)}}else{const _e={id:crypto.randomUUID(),term:j.term.trim(),description:j.description.trim()};ce={...s,worldBuilding:[...s.worldBuilding,_e]}}try{if(!(await fetch(`${Dr}/scenarios/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)})).ok)throw new Error("Failed to update term");const Fe=await(await fetch(`${Dr}/scenarios/${n}`)).json();c(Fe)}catch(_e){console.error("Error updating term:",_e),alert("")}_(!1),U(null),E({term:"",description:""})},bt=async()=>{if(!s||!P.title.trim())return;let ce;if(F){const _e={...F,number:P.number||F.number,title:P.title.trim(),plot:P.plot.trim()},Fe=[...s.chapters.filter(ut=>ut.id!==F.id),_e].sort((ut,sn)=>ut.number-sn.number);ce={...s,chapters:Fe}}else{const _e=P.number||s.chapters.length+1,He={id:crypto.randomUUID(),number:_e,title:P.title.trim(),plot:P.plot.trim(),episodes:[]},Fe=[...s.chapters];for(let ut=0;ut<Fe.length;ut++)Fe[ut].number>=_e&&(Fe[ut]={...Fe[ut],number:Fe[ut].number+1});Fe.push(He),Fe.sort((ut,sn)=>ut.number-sn.number),ce={...s,chapters:Fe}}try{if(!(await fetch(`${Dr}/scenarios/${n}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)})).ok)throw new Error("Failed to update chapter");const Fe=await(await fetch(`${Dr}/scenarios/${n}`)).json();c(Fe)}catch(_e){console.error("Error updating chapter:",_e),alert("")}T(!1),L(null),k({number:0,title:"",plot:""})},it=ce=>{U(ce),E({term:ce.term,description:ce.description}),_(!0)},at=ce=>{L(ce),k({number:ce.number,title:ce.title,plot:ce.plot}),T(!0)},Wt=ce=>{!s||!confirm("Are you sure you want to delete this term?")||fetch(`${Dr}/scenarios/${s.id}/terms/${ce}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(_e=>{if(!_e.ok)throw new Error("Failed to delete term");return _e.json()}).then(()=>{const _e=s.worldBuilding.filter(He=>He.id!==ce);c(He=>({...He,worldBuilding:_e}))}).catch(_e=>console.error("Error deleting term:",_e))},Ze=ce=>{if(!s||!confirm("Are you sure you want to delete this chapter?"))return;const _e=s.chapters.find(He=>He.id===ce);_e&&fetch(`${Dr}/scenarios/${s.id}/chapters/${ce}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}).then(He=>{if(!He.ok)throw new Error("Failed to delete chapter");return He.json()}).then(()=>{const He=s.chapters.filter(Fe=>Fe.id!==ce).map(Fe=>Fe.number>_e.number?{...Fe,number:Fe.number-1}:Fe);c(Fe=>({...Fe,chapters:He}))}).catch(He=>console.error("Error deleting chapter:",He))};if(!s)return null;const Oe={backgroundImage:`
      linear-gradient(transparent 27px, #e5e7eb 28px),
      linear-gradient(90deg, #f3f4f6 0px, transparent 1px)
    `,backgroundSize:"100% 28px",backgroundAttachment:"local",lineHeight:"28px",padding:"0 16px"},Et="cursor-pointer transition-all duration-200 hover:shadow-lg hover:border-gray-300";return d==="memo"?f.jsx(Dg,{novelId:n,onBack:()=>g(null)}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800 transition-colors",children:f.jsx(Gl,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""})]}),f.jsxs("div",{className:`bg-white rounded-2xl shadow-lg overflow-hidden mb-8 ${Et}`,onClick:()=>w(!0),children:[f.jsxs("div",{className:"flex items-center justify-between p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx("div",{className:"p-3 bg-blue-100 rounded-xl",children:f.jsx(qm,{className:"w-6 h-6 text-blue-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),f.jsx("p",{className:"text-sm text-gray-500",children:s!=null&&s.synopsis?"View or edit synopsis":"No synopsis yet"})]})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("button",{onClick:ce=>{ce.stopPropagation(),H(!b)},className:"text-gray-600 hover:text-gray-800 transition-colors p-2 hover:bg-gray-50 rounded-lg",title:b?"Collapse synopsis":"Expand synopsis",children:f.jsx(Qn,{className:`transform transition-transform ${b?"rotate-180":""}`,size:20})}),f.jsx("button",{onClick:ce=>{ce.stopPropagation(),w(!0)},className:"text-blue-600 hover:text-blue-700 transition-colors p-2 hover:bg-blue-50 rounded-lg",title:"Edit synopsis",children:f.jsx(es,{size:20})})]})]}),b&&f.jsx("div",{className:"px-6 pb-6",children:f.jsx("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100",children:s!=null&&s.synopsis?f.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:s.synopsis}):f.jsx("p",{className:"text-gray-500 italic",children:"No synopsis yet. Click the edit button to add one."})})})]}),d==="memo"?f.jsx(Dg,{novelId:n,onBack:()=>g(null)}):f.jsx(f.Fragment,{children:f.jsx("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden mb-8 cursor-pointer transition-all hover:shadow-lg hover:border-gray-300",onClick:()=>g("memo"),children:f.jsxs("div",{className:"flex items-center justify-between p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[f.jsx("div",{className:"p-3 bg-yellow-100 rounded-xl",children:f.jsx(Gm,{className:"w-6 h-6 text-yellow-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),f.jsx("p",{className:"text-sm text-gray-500",children:"Click to manage your notes"})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsx("button",{onClick:ce=>{ce.stopPropagation(),g("memo")},className:"text-yellow-600 hover:text-yellow-700 transition-colors p-2 hover:bg-yellow-50 rounded-lg",title:"Edit Memo",children:f.jsx(es,{size:20})})})]})})}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-purple-100 rounded-xl",children:f.jsx(bh,{className:"w-6 h-6 text-purple-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"/"}),f.jsxs("p",{className:"text-sm text-gray-500",children:[((Tt=s==null?void 0:s.worldBuilding)==null?void 0:Tt.length)||0," terms defined"]})]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>B(!oe),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[f.jsx(Ch,{size:20}),f.jsx("span",{children:"Quick Edit"}),f.jsx(Qn,{size:16,className:`transform transition-transform ${oe?"rotate-180":""}`})]}),oe&&f.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-10",children:[f.jsx("input",{type:"text",placeholder:"Search terms...",value:ae,onChange:ce=>I(ce.target.value),className:"mx-2 mb-2 w-[calc(100%-16px)] px-3 py-2 border border-gray-200 rounded-lg text-sm"}),f.jsx("div",{className:"max-h-64 overflow-y-auto",children:ve.map(ce=>f.jsx("button",{onClick:()=>{it(ce),B(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",children:ce.term},ce.id))})]})]}),f.jsxs("button",{onClick:()=>{_(!0),U(null),E({term:"",description:""})},className:"flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-full hover:bg-purple-700 transition-colors duration-200 shadow-lg hover:shadow-purple-200",children:[f.jsx(Lo,{size:20}),"Add Term"]})]})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Re.map(ce=>f.jsxs("div",{className:"border border-gray-100 rounded-xl transition-all duration-200 hover:border-gray-300 hover:shadow-lg cursor-pointer",onClick:()=>it(ce),children:[f.jsxs("div",{className:"p-4 flex items-start justify-between",children:[f.jsx("div",{className:"flex-1",children:f.jsx("h4",{className:"text-lg font-medium text-gray-900 flex items-center gap-2",children:ce.term})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:_e=>{_e.stopPropagation(),De(ce.id)},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:f.jsx(Qn,{size:18,className:`transform transition-transform ${q.has(ce.id)?"rotate-180":""}`})}),f.jsx("button",{onClick:_e=>{_e.stopPropagation(),it(ce)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:f.jsx(es,{size:18})}),f.jsx("button",{onClick:_e=>{_e.stopPropagation(),Wt(ce.id)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:f.jsx(Vl,{size:18})})]})]}),q.has(ce.id)&&f.jsx("div",{className:"px-4 pb-4",children:f.jsx("div",{className:"p-4 bg-gray-50 rounded-xl",children:f.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:ce.description})})})]},ce.id))}),ve.length>4&&f.jsx("div",{className:"mt-4 text-center",children:f.jsx("button",{onClick:()=>ne(!Y),className:"inline-flex items-center gap-2 px-4 py-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",children:Y?f.jsxs(f.Fragment,{children:[f.jsx(Mg,{size:20}),"Show Less"]}):f.jsxs(f.Fragment,{children:[f.jsx(Qn,{size:20}),"Show ",ve.length-4," More Terms"]})})}),((_t=s==null?void 0:s.worldBuilding)==null?void 0:_t.length)===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(bh,{size:48,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No Terms Yet"}),f.jsx("p",{className:"text-gray-500",children:'Click the "Add Term" button to start building your world'})]})]}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:f.jsx(k0,{className:"w-6 h-6 text-indigo-600"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:""}),f.jsxs("p",{className:"text-sm text-gray-500",children:[((Ce=s==null?void 0:s.chapters)==null?void 0:Ce.length)||0," chapters planned"]})]})]}),f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsxs("div",{className:"relative",children:[f.jsxs("button",{onClick:()=>K(!ee),className:"flex items-center gap-2 px-4 py-2 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors",children:[f.jsx(Ch,{size:20}),f.jsx("span",{children:"Quick Edit"}),f.jsx(Qn,{size:16,className:`transform transition-transform ${ee?"rotate-180":""}`})]}),ee&&f.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-10",children:[f.jsx("input",{type:"text",placeholder:"Search chapters...",value:O,onChange:ce=>W(ce.target.value),className:"mx-2 mb-2 w-[calc(100%-16px)] px-3 py-2 border border-gray-200 rounded-lg text-sm"}),f.jsx("div",{className:"max-h-64 overflow-y-auto",children:ke.map(ce=>f.jsxs("button",{onClick:()=>{at(ce),K(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 text-sm",children:[ce.number,": ",ce.title]},ce.id))})]})]}),f.jsxs("button",{onClick:()=>{T(!0),L(null),k({number:0,title:"",plot:""})},className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-full hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:[f.jsx(Lo,{size:20}),"Add Chapter"]})]})]}),(s==null?void 0:s.chapters.length)===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(k0,{size:48,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No Chapters Yet"}),f.jsxs("p",{className:"text-gray-500",children:["Click the ",f.jsx("strong",{children:'"Add Chapter"'})," button to start planning your story."]})]}),f.jsx("div",{className:"space-y-4",children:(qe=s.chapters)==null?void 0:qe.map(ce=>f.jsxs("div",{className:`p-4 border border-gray-100 rounded-xl ${Et}`,onClick:()=>at(ce),children:[f.jsxs("div",{className:"flex items-start justify-between mb-2",children:[f.jsxs("div",{children:[f.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Chapter ",ce.number,": ",ce.title]}),f.jsxs("p",{className:"text-sm text-gray-500",children:[ce.episodes.length," episodes"]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:_e=>{_e.stopPropagation(),Me(ce.id)},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:f.jsx(Qn,{size:20,className:`transform transition-transform ${D.has(ce.id)?"rotate-180":""}`})}),f.jsx("button",{onClick:_e=>{_e.stopPropagation(),at(ce)},className:"text-indigo-600 hover:text-indigo-700 transition-colors",children:f.jsx(es,{size:18})}),f.jsx("button",{onClick:_e=>{_e.stopPropagation(),Ze(ce.id)},className:"text-red-600 hover:text-red-700 transition-colors",children:f.jsx(Vl,{size:18})})]})]}),f.jsx("p",{className:`text-gray-600 mt-1 ${D.has(ce.id)?"":"line-clamp-1"}`,children:ce.plot})]},ce.id))})]}),f.jsx("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6",children:f.jsx(y1,{scenario:s,onTimelineUpdate:async ce=>{if(ce)try{if(!(await fetch(`${Dr}/scenarios/${ce.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ce)})).ok)throw new Error("Failed to update scenario");const Fe=await(await fetch(`${Dr}/scenarios/${ce.id}`)).json();c(Fe),console.log("Scenario updated successfully:",Fe)}catch(_e){console.error("Error updating scenario:",_e)}}})}),x&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-3xl p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:()=>w(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:"Edit Synopsis"}),f.jsxs("div",{className:"space-y-6",children:[f.jsx("textarea",{value:M,onChange:ce=>$(ce.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-shadow duration-200 min-h-[300px] leading-relaxed resize-y",placeholder:"Write your story synopsis here...",style:Oe}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[f.jsxs("button",{onClick:Be,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-blue-200",children:[f.jsx(Ym,{size:20}),"Save Synopsis"]}),f.jsxs("button",{onClick:xt,className:"flex items-center gap-2 bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors duration-200 shadow-lg hover:shadow-red-200",children:[f.jsx(Vm,{size:20}),"Clear Synopsis"]}),f.jsx("button",{onClick:()=>w(!1),className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})}),(S||F)&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:()=>{T(!1),L(null),k({number:0,title:"",plot:""})},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:F?"Edit Chapter":"Add New Chapter"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Chapter Number"}),f.jsx("input",{type:"number",min:"1",value:P.number||"",onChange:ce=>k(_e=>({..._e,number:parseInt(ce.target.value)||0})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:`Default: ${s!=null&&s.chapters.length?s.chapters.length+1:1}`})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),f.jsx("input",{type:"text",value:P.title,onChange:ce=>k(_e=>({..._e,title:ce.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter chapter title"})]})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex justify-between",children:["Plot Summary",f.jsx("button",{onClick:ce=>{ce.preventDefault(),me(!0)},className:"text-indigo-600 hover:underline text-sm",children:"View"})]}),f.jsx("textarea",{value:P.plot,onChange:ce=>k(_e=>({..._e,plot:ce.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 min-h-[200px] resize-y",placeholder:"Describe the chapter's plot",style:Oe})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[f.jsx("button",{onClick:bt,className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:F?"Save Changes":"Add Chapter"}),f.jsx("button",{onClick:()=>{T(!1),L(null),k({number:0,title:"",plot:""})},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})}),ge&&f.jsx("div",{className:"fixed top-[12vh] right-[0%] h-[76vh] w-[28%] bg-white shadow-xl border border-gray-200 z-50 animate-slide-in-right rounded-xl",children:f.jsxs("div",{className:"p-6 relative",children:[f.jsx("button",{onClick:()=>me(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Synopis"}),f.jsx("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-100 max-h-[80vh] overflow-y-auto",children:f.jsx("p",{className:"text-gray-700 whitespace-pre-wrap leading-relaxed",children:P.plot})})]})}),(v||A)&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:()=>{_(!1),U(null),E({term:"",description:""})},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:A?"Edit Term":"Add New Term"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Term"}),f.jsx("input",{type:"text",value:j.term,onChange:ce=>E(_e=>({..._e,term:ce.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter term name"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),f.jsx("textarea",{value:j.description,onChange:ce=>E(_e=>({..._e,description:ce.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-shadow duration-200 min-h-[100px]",placeholder:"Describe the term"})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:vt,className:"flex-1 bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-colors duration-200 shadow-lg hover:shadow-purple-200",children:A?"Save Changes":"Add Term"}),f.jsx("button",{onClick:()=>{_(!1),U(null),E({term:"",description:""})},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})})]})}const Ni="http://127.0.0.1:8000";function ME({novelId:n,onBack:l}){var Tt,_t;const[s,c]=G.useState(null),[d,g]=G.useState(null),[p,x]=G.useState(null),[w,v]=G.useState(""),[_,S]=G.useState(!1),[T,A]=G.useState(!1),[U,F]=G.useState(0),[L,j]=G.useState([]),[E,P]=G.useState({}),[k,M]=G.useState(!1),[$,b]=G.useState([]),[H,q]=G.useState(0),[ie,Y]=G.useState(""),[ne,ae]=G.useState(!1),[I,oe]=G.useState([]),[B,ee]=G.useState(""),[K,O]=G.useState(!1),[W,D]=G.useState(!0),[Q,ge]=G.useState(!1),me=()=>{b(Array(I.length).fill(""))},[ve,ke]=G.useState(""),[Re,De]=G.useState(!1);G.useEffect(()=>{fetch(`${Ni}/scenarios/${n}`).then(Ce=>Ce.json()).then(Ce=>{c(Ce);const qe=Ce.chapters.flatMap(ce=>ce.episodes.map(_e=>({..._e,chapterNumber:ce.number,chapterTitle:ce.title,chapterId:ce.id}))).sort((ce,_e)=>ce.chapterNumber===_e.chapterNumber?ce.number-_e.number:ce.chapterNumber-_e.chapterNumber);j(qe)}).catch(Ce=>console.error("Error fetching scenario:",Ce))},[n]);const Me=async Ce=>{var ce;x(Ce);const qe=L.findIndex(_e=>_e.id===Ce.id);qe!==-1&&Be(qe),q(0),b([]);try{const _e=await fetch(`${Ni}/novel_write/${n}/${Ce.chapterId}`);if(!_e.ok)throw new Error("Failed to fetch episode content");const He=await _e.json();console.log("Fetched episode content:",He);const Fe=String(Ce.id);if(He.episodes[Fe]){const ut=((ce=He.episodes[Fe])==null?void 0:ce.content)||"";P(sn=>({...sn,[Fe]:{content:ut}})),v(ut)}else console.warn("Episode data not found in response",He)}catch(_e){console.error("Error fetching episode content:",_e)}},Be=Ce=>{Ce>=0&&Ce<L.length&&(F(Ce),x(L[Ce]),g((s==null?void 0:s.chapters.find(qe=>qe.id===L[Ce].chapterId))||null))},xt=(Ce,qe)=>{v(qe),P(ce=>({...ce,[Ce]:{content:qe}}))},vt=async()=>{if(!(!s||!d||!p)){M(!0);try{const Ce={...E,[p.id]:{content:w}},qe={episodes:Ce};await fetch(`${Ni}/novel_write/${n}/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(qe)}),P(Ce),M(!1)}catch(Ce){console.error("Error saving content:",Ce),M(!1)}}},bt=()=>{ae(!1)},it=async()=>{if(p){M(!0);try{const Ce=await fetch(`${Ni}/scenarios/${n}`);if(!Ce.ok)throw new Error("Failed to fetch scenario data");const ce=(await Ce.json()).synopsis||"",_e=Q?`${Ni}/generate_novel_fast/${n}/${p.id}`:`${Ni}/generate_novel/${n}/${p.id}?step=1`,He=await fetch(_e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({synopsis:ce})});if(!He.ok)throw new Error("Failed to generate text");const Fe=await He.json();Q?(v(Fe.generated_text),P(ut=>({...ut,[p.id]:{content:Fe.generated_text}}))):(ee(Fe.step1_output||""),oe(Fe.step1_questions||[]),q(1),ae(!0),O(!1),D(!0))}catch(Ce){console.error("Error generating text:",Ce)}finally{M(!1)}}},at=async()=>{if(!p||!$)return;M(!0);const Ce=await fetch(`${Ni}/scenarios/${n}`);if(!Ce.ok)throw new Error("Failed to fetch scenario data");const ce=(await Ce.json()).synopsis||"";try{if(!(await fetch(`${Ni}/generate_novel/${n}/${p.id}?step=2`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_answers:$,remark:ie,synopsis:ce,edited_plot:ve})})).ok)throw new Error("Failed to complete step 2");await Wt(),bt()}catch(_e){console.error("Error sending user response:",_e)}finally{M(!1)}},Wt=async()=>{if(p){M(!0);try{const Ce=await fetch(`${Ni}/scenarios/${n}`);if(!Ce.ok)throw new Error("Failed to fetch scenario data");const ce=(await Ce.json()).synopsis||"",_e=await fetch(`${Ni}/generate_novel/${n}/${p.id}?step=3`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({synopsis:ce})});if(!_e.ok)throw new Error("Failed to generate final text");const He=await _e.json();v(He.generated_text),P(Fe=>({...Fe,[p.id]:{content:He.generated_text}})),q(3)}catch(Ce){console.error("Error generating final text:",Ce)}finally{M(!1)}}},Ze=async()=>{if(!d||!p){console.error("Error: Chapter or Episode is null.");return}if(confirm("Are you sure you want to clear all content? This cannot be undone."))try{const Ce=await fetch(`${Ni}/novel_write/${n}/${d.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({episodes:{[p.id]:{content:""}}})});if(!Ce.ok)throw new Error(`Failed to clear content: ${Ce.status}`);console.log("Content cleared successfully."),P(qe=>({...qe,[p.id]:{content:""}}))}catch(Ce){console.error("Error clearing content:",Ce)}},Oe=Ce=>Ce?Ce.length:0,Et=()=>f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800 transition-colors",children:f.jsx(Gl,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),L.length>0&&f.jsxs("button",{onClick:()=>A(!T),className:"ml-auto flex items-center gap-2 bg-indigo-600 text-white px-6 py-2 rounded-full hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:[f.jsx(Wm,{size:20}),T?"Exit Preview":"Preview Mode"]})]});return s!=null&&s.chapters.length?T?f.jsxs("div",{className:"animate-fade-in",children:[f.jsx(Et,{}),f.jsx("div",{className:"fixed top-0 left-0 w-70 h-full bg-white border-r border-gray-200 pt-24 pb-20",children:f.jsxs("div",{className:"h-full overflow-y-auto px-4 scrollbar-thin scrollbar-thumb-gray-300 scrollbar-track-gray-100 hover:scrollbar-thumb-gray-400",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Table of Contents"}),f.jsx("div",{className:"space-y-6",children:s.chapters.map(Ce=>f.jsxs("div",{children:[f.jsxs("h4",{className:"font-medium text-gray-700 mb-2",children:["Chapter ",Ce.number,": ",Ce.title]}),f.jsx("div",{className:"space-y-1 ml-4",children:Ce.episodes.map(qe=>f.jsxs("button",{onClick:()=>Me(qe),className:`w-full text-left px-3 py-1.5 rounded-lg text-sm transition-colors duration-200 ${(p==null?void 0:p.id)===qe.id?"bg-indigo-50 text-indigo-700 font-medium":"text-gray-600 hover:bg-gray-50"}`,children:["Episode ",qe.number,": ",qe.title]},qe.id))})]},Ce.id))})]})}),f.jsxs("div",{className:"pl-64",children:[f.jsx("div",{className:"max-w-3xl mx-auto px-8 pt-8 pb-32",children:p?f.jsxs("div",{children:[f.jsx("div",{className:"mb-8",children:f.jsxs("div",{className:"flex flex-col items-start text-left border-b border-gray-200 pb-6",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-800",children:[f.jsxs("span",{className:"text-2xl font-bold",children:["Chapter ",p.chapterNumber]}),f.jsx("span",{className:"text-gray-400 mx-2",children:":"}),f.jsx("span",{className:"text-2xl font-bold",children:p.chapterTitle})]}),f.jsxs("div",{className:"flex items-center gap-2 text-gray-700 mt-2",children:[f.jsxs("span",{className:"text-xl",children:["Episode ",p.number]}),f.jsx("span",{className:"text-gray-400 mx-2",children:":"}),f.jsx("span",{className:"text-xl",children:p.title})]})]})}),f.jsx("div",{className:"leading-relaxed text-gray-700 whitespace-pre-wrap text-lg tracking-wide",children:((Tt=E[(p==null?void 0:p.id)||""])==null?void 0:Tt.content)||f.jsx("p",{className:"text-gray-400 italic text-center",children:"No content has been written for this episode yet."})})]}):f.jsx("div",{className:"text-center py-12",children:f.jsx("p",{className:"text-gray-500",children:"No episodes available."})})}),f.jsx("div",{className:"fixed bottom-0 left-64 right-0 bg-white border-t border-gray-200",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-8 py-4 flex items-center justify-between",children:[f.jsxs("button",{onClick:()=>Be(U-1),disabled:U===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${U===0?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[f.jsx(i1,{size:20}),f.jsx("span",{children:"Previous Episode"})]}),f.jsxs("div",{className:"text-sm text-gray-500",children:["Episode ",U+1," of ",L.length]}),f.jsxs("button",{onClick:()=>Be(U+1),disabled:U===L.length-1,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors duration-200 ${U===L.length-1?"text-gray-300 cursor-not-allowed":"text-gray-600 hover:bg-gray-100"}`,children:[f.jsx("span",{children:"Next Episode"}),f.jsx(s1,{size:20})]})]})})]})]}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsx(Et,{}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:f.jsx(bh,{className:"w-6 h-6 text-indigo-600"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chapters"})]}),f.jsx("div",{className:"space-y-3",children:s.chapters.map(Ce=>f.jsxs("div",{className:"space-y-1",children:[f.jsxs("button",{onClick:()=>g(Ce),className:`w-full text-left p-4 rounded-xl transition-colors duration-200 ${(d==null?void 0:d.id)===Ce.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,children:[f.jsxs("div",{className:"font-medium",children:["Chapter ",Ce.number]}),f.jsx("div",{className:"text-sm text-gray-500",children:Ce.title})]}),(d==null?void 0:d.id)===Ce.id&&Ce.episodes.length>0&&f.jsx("div",{className:"ml-4 pl-4 border-l-2 border-indigo-100",children:Ce.episodes.map(qe=>f.jsxs("button",{onClick:()=>{Me(qe),S(!1)},className:`w-full text-left py-2 px-3 rounded-lg text-sm transition-colors duration-200 ${(p==null?void 0:p.id)===qe.id?"bg-purple-50 text-purple-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,children:["Episode ",qe.number,": ",qe.title]},qe.id))})]},Ce.id))})]})}),f.jsx("div",{className:"lg:col-span-3",children:p?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("div",{className:"mb-6",children:f.jsx("div",{className:"flex items-center justify-between",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"p-3 bg-gradient-to-br from-indigo-50 to-purple-50 rounded-xl border border-indigo-100",children:f.jsxs("div",{className:"text-sm font-medium text-indigo-400",children:["EP.",p.number]})}),f.jsx("div",{children:f.jsx("h4",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:p.title})})]})})}),_&&f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"grid grid-cols-1 gap-4 p-4 bg-gray-50 rounded-xl",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Plot Summary"}),f.jsx("p",{className:"text-sm text-gray-600",children:p.plot})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Scene Details"}),f.jsxs("div",{className:"space-y-1",children:[f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"When:"})," ",p.sceneDetails.when]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"Where:"})," ",p.sceneDetails.where]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"Who:"})," ",p.sceneDetails.who.join(", ")]}),f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-gray-500",children:"What:"})," ",p.sceneDetails.what]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"text-sm font-medium text-gray-700",children:"Key Dialogue"}),f.jsx("div",{className:"text-sm text-gray-600",children:p.sceneDetails.dialogue})]})]})]})}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsx("button",{onClick:()=>S(!_),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors px-4 py-2 rounded-lg hover:bg-gray-50",children:_?f.jsxs(f.Fragment,{children:[f.jsx(Qn,{size:20}),f.jsx("span",{className:"text-sm",children:"Hide Details"})]}):f.jsxs(f.Fragment,{children:[f.jsx(Kp,{size:20}),f.jsx("span",{className:"text-sm",children:"Show Details"})]})}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("label",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-gray-700 hover:text-gray-700 transition-colors text-sm font-medium",children:"Fast Mode"}),f.jsx("div",{className:`relative w-12 h-6 bg-gray-300 rounded-full cursor-pointer transition-all ${Q?"bg-green-400":""}`,onClick:()=>ge(!Q),children:f.jsx("div",{className:`absolute left-1 top-1 w-4 h-4 bg-white rounded-full shadow-md transition-all ${Q?"translate-x-6":""}`})})]}),f.jsxs("button",{onClick:it,disabled:k,className:"flex items-center gap-2 text-amber-500 hover:text-amber-600 transition-colors px-3 py-1.5 hover:bg-amber-50 rounded-lg text-sm",children:[k?f.jsxs("svg",{className:"animate-spin h-5 w-5 text-amber-500",viewBox:"0 0 24 24",fill:"none",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4l3-3-3-3v4a8 8 0 00-8 8z"})]}):f.jsx(h1,{size:16}),k?"Generating...":"Generate with AI"]})]})]}),f.jsx("textarea",{value:((_t=E[(p==null?void 0:p.id)||""])==null?void 0:_t.content)||"",onChange:Ce=>xt((p==null?void 0:p.id)||"",Ce.target.value),className:"w-full bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 leading-relaxed text-gray-700",style:{height:"384px",backgroundImage:`
                      repeating-linear-gradient(
                        transparent,
                        transparent 31px,
                        #e5e7eb 31px,
                        #e5e7eb 32px
                      )
                    `,backgroundSize:"100% 32px",backgroundAttachment:"local",lineHeight:"32px",padding:"0 16px"}}),ne&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-lg relative",style:{maxHeight:"80vh",overflowY:"auto"},children:[f.jsx("button",{onClick:bt,className:"absolute top-3 right-3 text-gray-500 hover:text-gray-700",children:f.jsx(Mr,{size:20})}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("div",{className:"flex justify-between items-center py-4 rounded-lg",children:[f.jsxs("button",{onClick:()=>O(!K),className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors",children:[K?f.jsx(Qn,{size:20}):f.jsx(Kp,{size:20}),f.jsx("h2",{className:"text-xl font-bold",children:"Plot Summary"})]}),f.jsx("button",{onClick:()=>{Re||ke(ve||B||""),De(!Re)},className:"text-gray-700 hover:text-gray-900 transition-colors ml-auto",children:f.jsx(es,{size:20})})]}),K&&f.jsx("div",{className:"mt-2 p-4 bg-gray-100 rounded-lg border border-gray-300 text-gray-700 whitespace-pre-wrap",children:Re?f.jsx("textarea",{value:ve,onChange:Ce=>ke(Ce.target.value),className:"w-full bg-gray-100 rounded-lg p-2 mt-1",placeholder:"Edit the plot here...",rows:5}):f.jsx("div",{children:ve||B||"No plot summary available."})})]}),f.jsxs("div",{className:"mb-4",children:[f.jsxs("button",{onClick:()=>D(!W),className:"flex items-center gap-2 text-gray-700 hover:text-gray-900 transition-colors",children:[W?f.jsx(Qn,{size:20}):f.jsx(Kp,{size:20}),f.jsx("h2",{className:"text-xl font-bold",children:"Answer the Questions"})]}),W&&f.jsx("div",{className:"mt-2 p-4 bg-gray-100 rounded-lg border border-gray-300 text-gray-700 whitespace-pre-wrap text-left",children:I.map((Ce,qe)=>f.jsxs("div",{className:"mb-2",children:[f.jsxs("strong",{children:["Q",qe+1,":"]})," ",Ce,f.jsx("textarea",{value:$[qe]||"",onChange:ce=>{const _e=[...$];_e[qe]=ce.target.value,b(_e)},className:"w-full border border-gray-300 rounded-lg p-2 mt-1",placeholder:"Please enter your answer here...",rows:2,required:!0})]},qe))})]}),f.jsxs("div",{className:"mb-4",children:[f.jsx("h2",{className:"text-xl font-bold mb-2",children:"Additional Notes (Optional)"}),f.jsx("textarea",{value:ie,onChange:Ce=>Y(Ce.target.value),className:"w-full border border-gray-300 rounded-lg p-2 mt-1",placeholder:"Enter any additional details or corrections you'd like to provide...",rows:3})]}),f.jsxs("div",{className:"flex justify-end gap-4",children:[f.jsx("button",{onClick:at,disabled:k,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2",children:[k?f.jsx(c1,{className:"animate-spin h-5 w-5 text-white"}):f.jsx(d1,{size:20}),f.jsx("span",{children:k?"Submitting...":"Submit"})]})}),f.jsxs("button",{onClick:me,className:"flex items-center gap-2 bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors",children:[f.jsx(Mr,{size:20}),"Reset All"]})]})]})}),f.jsxs("div",{className:"flex items-center justify-end gap-4 pt-4 border-t border-gray-100",children:[f.jsxs("div",{className:"text-sm text-gray-600 mr-auto",children:[f.jsx("span",{className:"font-medium",children:Oe(w)})," characters"]}),f.jsxs("button",{onClick:vt,className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:[f.jsx(Ym,{size:20}),"Save Content"]}),f.jsxs("button",{onClick:Ze,className:"flex items-center gap-2 bg-red-600 text-white px-6 py-3 rounded-xl hover:bg-red-700 transition-colors duration-200 shadow-lg hover:shadow-red-200",children:[f.jsx(Vm,{size:20}),"Clear Content"]})]})]})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[f.jsx(Eh,{size:48,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Select an Episode"}),f.jsxs("p",{className:"text-gray-500",children:["Choose an episode from the sidebar to start writing.",f.jsx("br",{}),"If no episodes exist, create one in the ",f.jsx("strong",{children:"Episode Details"})," section."]})]})})]})]}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsx(Et,{}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center max-w-2xl mx-auto",children:[f.jsx(Eh,{size:64,className:"mx-auto text-gray-300 mb-6"}),f.jsx("h3",{className:"text-2xl font-medium text-gray-800 mb-4",children:"Ready to Start Writing?"}),f.jsxs("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:["Before you can start writing, you'll need to set up your story structure. Head over to the ",f.jsx("strong",{children:"Scenario Management"})," section to create your first chapter."]})]})]})}const Mo="http://127.0.0.1:8000";function zE({novelId:n,onBack:l,onEpisodeCreated:s}){const[c,d]=G.useState(null),[g,p]=G.useState([]),[x,w]=G.useState([]),[v,_]=G.useState(null),[S,T]=G.useState(null),[A,U]=G.useState(!1),[F,L]=G.useState(!1),[j,E]=G.useState(!1),[P,k]=G.useState(""),[M,$]=G.useState({chapterId:"",chapterNumber:0,chapterTitle:"",number:0,title:"",plot:"",sceneDetails:{when:"",where:"",who:[],what:"",dialogue:""}}),[b,H]=G.useState(!1);G.useEffect(()=>{fetch(`${Mo}/scenarios/${n}`).then(B=>B.json()).then(B=>{d(B),w(B.timeline||[])}).catch(B=>console.error("Error fetching scenario:",B))},[n]),G.useEffect(()=>{fetch(`${Mo}/characters/${n}`).then(B=>B.json()).then(B=>p(B)).catch(B=>console.error("Error fetching characters:",B))},[n]);const q=B=>{const ee=B.target.value,K=x.find(O=>O.when===ee);$(O=>({...O,sceneDetails:{...O.sceneDetails,when:ee,where:(K==null?void 0:K.where)||"",what:(K==null?void 0:K.what)||""}}))},ie=async()=>{if(!c||!v||!M.title.trim())return;const B={method:S?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...M,chapterId:v==null?void 0:v.id,chapterNumber:v==null?void 0:v.number,chapterTitle:v==null?void 0:v.title})},ee=S?`${Mo}/episodes/${n}/${S.id}`:`${Mo}/episodes/${n}`;try{if(!(await fetch(ee,B)).ok)throw new Error("Failed to save episode");const W=await(await fetch(`${Mo}/scenarios/${n}`)).json();W.chapters.forEach(ge=>{ge.episodes.sort((me,ve)=>me.number-ve.number)}),d(W);const D=W.chapters.find(ge=>ge.id===v.id);_(D||null);const Q=D==null?void 0:D.episodes.find(ge=>ge.id===((S==null?void 0:S.id)||W.id));T(Q||null),D&&$({chapterId:D.id,chapterNumber:D.number,chapterTitle:D.title,number:Q?Q.number:(D.episodes.length||0)+1,title:Q?Q.title:"",plot:Q?Q.plot:"",sceneDetails:Q?{...Q.sceneDetails}:{when:"",where:"",who:[],what:"",dialogue:""}}),U(!1),!S&&s&&s(W.id)}catch(K){console.error("Error saving episode:",K)}},Y=B=>{T(B),$({chapterId:B.chapterId,chapterNumber:B.chapterNumber,chapterTitle:B.chapterTitle,number:B.number,title:B.title,plot:B.plot,sceneDetails:{when:B.sceneDetails.when,where:B.sceneDetails.where,who:B.sceneDetails.who,what:B.sceneDetails.what,dialogue:B.sceneDetails.dialogue}}),U(!0)},ne=async B=>{if(!(!c||!v||!confirm("Are you sure you want to delete this episode?")))try{if(!(await fetch(`${Mo}/episodes/${n}/${B}`,{method:"DELETE"})).ok)throw new Error("Failed to delete episode");const O=await(await fetch(`${Mo}/scenarios/${n}`)).json();O.chapters.forEach(D=>{D.episodes.sort((Q,ge)=>Q.number-ge.number)}),d(O);const W=O.chapters.find(D=>D.id===v.id);_(W||null),(S==null?void 0:S.id)===B&&(T(null),$({chapterId:"",chapterNumber:0,chapterTitle:"",number:W?W.episodes.length+1:1,title:"",plot:"",sceneDetails:{when:"",where:"",who:[],what:"",dialogue:""}}))}catch(ee){console.error("Error deleting episode:",ee)}},ae={backgroundImage:`
      linear-gradient(transparent 27px, #e5e7eb 28px),
      linear-gradient(90deg, #f3f4f6 0px, transparent 1px)
    `,backgroundSize:"100% 28px",backgroundAttachment:"local",lineHeight:"28px",padding:"0 16px",paddingTop:"0"},I=()=>{const B=F?g:g.slice(0,3);return f.jsxs("div",{className:"space-y-2",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Who (Characters)"}),f.jsxs("div",{className:"flex items-center gap-2",children:[g.length>3&&f.jsxs("button",{onClick:()=>L(!F),className:"text-gray-600 hover:text-gray-800 flex items-center gap-1 text-sm",children:[f.jsx("span",{children:F?"Show Less":`+${g.length-3} More`}),f.jsx(Qn,{size:16,className:`transform transition-transform ${F?"rotate-180":""}`})]}),f.jsxs("button",{onClick:()=>E(!0),className:"text-indigo-600 hover:text-indigo-700 flex items-center gap-1 text-sm",children:[f.jsx(g1,{size:16}),"Add Character"]})]})]}),f.jsxs("div",{className:"space-y-2",children:[f.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:B.map(ee=>f.jsx("button",{onClick:()=>{const K=M.sceneDetails.who,O=K.includes(ee.name);$(W=>({...W,sceneDetails:{...W.sceneDetails,who:O?K.filter(D=>D!==ee.name):[...K,ee.name]}}))},className:`px-3 py-1.5 rounded-lg text-sm transition-colors duration-200 ${M.sceneDetails.who.includes(ee.name)?"bg-indigo-100 text-indigo-700 hover:bg-indigo-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:ee.name},ee.id))}),f.jsx("textarea",{value:M.sceneDetails.who.join(`
`),onChange:ee=>$(K=>({...K,sceneDetails:{...K.sceneDetails,who:ee.target.value.split(`
`).map(O=>O.trim()).filter(Boolean)}})),className:"w-full bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 resize-y",placeholder:"Enter additional characters",rows:4,style:ae})]})]})},oe=()=>f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:l,className:"text-gray-600 hover:text-gray-800 transition-colors",children:f.jsx(Gl,{className:"w-6 h-6"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""})]});return c!=null&&c.chapters.length?f.jsxs("div",{className:"animate-fade-in",children:[f.jsx(oe,{}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[f.jsx("div",{className:"lg:col-span-1",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[f.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl",children:f.jsx(kh,{className:"w-6 h-6 text-indigo-600"})}),f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Chapters"})]}),f.jsx("div",{className:"space-y-3",children:c.chapters.map((B,ee)=>f.jsxs("div",{className:"space-y-1",children:[f.jsxs("button",{onClick:()=>_(B),className:`w-full text-left p-4 rounded-xl transition-colors duration-200 ${(v==null?void 0:v.id)===B.id?"bg-indigo-50 text-indigo-700":"hover:bg-gray-50 text-gray-700"}`,children:[f.jsxs("div",{className:"font-medium",children:["Chapter ",B.number]}),f.jsx("div",{className:"text-sm text-gray-500",children:B.title})]}),(v==null?void 0:v.id)===B.id&&B.episodes.length>0&&f.jsx("div",{className:"ml-4 pl-4 border-l-2 border-indigo-100",children:B.episodes.slice().sort((K,O)=>K.number-O.number).map(K=>f.jsxs("button",{onClick:()=>{T(K),$({chapterId:v.id,chapterNumber:v.number,chapterTitle:v.title,number:K.number,title:K.title,plot:K.plot,sceneDetails:{when:K.sceneDetails.when,where:K.sceneDetails.where,who:K.sceneDetails.who,what:K.sceneDetails.what,dialogue:K.sceneDetails.dialogue}}),U(!0)},className:`w-full text-left py-2 px-3 rounded-lg text-sm transition-colors duration-200 ${(S==null?void 0:S.id)===K.id?"bg-purple-50 text-purple-700 font-medium":"hover:bg-gray-50 text-gray-600"}`,children:["Episode ",K.number,": ",K.title]},K.id||`episode-${ee}`))})]},`${B.id}-${ee}`))})]})}),f.jsx("div",{className:"lg:col-span-3",children:v?f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-900",children:["Chapter ",v.number,": ",v.title]}),f.jsx("p",{className:"text-gray-600 mt-1",children:b?f.jsxs(f.Fragment,{children:[v.plot,f.jsx("button",{onClick:()=>H(!1),className:"text-blue-600 hover:underline ml-2",children:""})]}):f.jsxs(f.Fragment,{children:[v.plot.length>100?`${v.plot.slice(0,100)}...`:v.plot,v.plot.length>100&&f.jsx("button",{onClick:()=>H(!0),className:"text-blue-600 hover:underline ml-2",children:""})]})})]}),f.jsxs("button",{onClick:()=>{var B;U(!0),T(null),$({chapterId:v.id,chapterNumber:v.number,chapterTitle:v.title,number:(((B=v==null?void 0:v.episodes)==null?void 0:B.length)||0)+1,title:"",plot:"",sceneDetails:{when:"",where:"",who:[],what:"",dialogue:""}})},className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-full hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200 self-start flex-none whitespace-nowrap",children:[f.jsx(Lo,{size:20}),"Add Episode"]})]}),f.jsxs("div",{className:"space-y-2",children:[v.episodes.slice().sort((B,ee)=>B.number-ee.number).map(B=>f.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-xl hover:shadow-md transition-shadow duration-200 bg-white",children:[f.jsx("div",{className:"flex-1 cursor-pointer",onClick:()=>Y(B),children:f.jsxs("h4",{className:"text-lg font-medium text-gray-900",children:["Episode ",B.number,": ",B.title]})}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>Y(B),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors",title:"Edit episode",children:f.jsx(es,{size:18})}),f.jsx("button",{onClick:()=>ne(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete episode",children:f.jsx(Vl,{size:18})})]})]},B.id)),v.episodes.length===0&&f.jsxs("div",{className:"text-center py-12 border border-dashed border-gray-200 rounded-xl",children:[f.jsx(Cf,{size:48,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No Episodes Yet"}),f.jsx("p",{className:"text-gray-500",children:'Click the "Add Episode" button to create your first episode'})]})]})]}):f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[f.jsx(Cf,{size:48,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"Select a Chapter"}),f.jsx("p",{className:"text-gray-500",children:"Choose a chapter from the sidebar to manage episodes"})]})})]}),A&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-2xl w-full max-w-4xl p-8 relative animate-fade-in overflow-y-auto max-h-[90vh]",children:[f.jsx("button",{onClick:()=>{var B;U(!1),T(null),$({chapterId:(v==null?void 0:v.id)||"",chapterNumber:(v==null?void 0:v.number)||0,chapterTitle:(v==null?void 0:v.title)||"",number:(((B=v==null?void 0:v.episodes)==null?void 0:B.length)||0)+1,title:"",plot:"",sceneDetails:{when:"",where:"",who:[],what:"",dialogue:""}})},className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:S?"Edit Episode":"Add New Episode"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Episode Number"}),f.jsx("input",{type:"number",min:"1",value:M.number||"",onChange:B=>$(ee=>({...ee,number:parseInt(B.target.value)||0})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:`Default: ${v!=null&&v.episodes.length?v.episodes.length+1:1}`})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),f.jsx("input",{type:"text",value:M.title,onChange:B=>$(ee=>({...ee,title:B.target.value})),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter episode title"})]})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:[f.jsx("div",{className:"flex items-center justify-between mb-2",children:f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plot Summary"})}),f.jsx("textarea",{value:M.plot,onChange:B=>$(ee=>({...ee,plot:B.target.value})),className:"w-full border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 resize-y",placeholder:"Describe the episode's plot",rows:4,style:ae})]}),f.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between",children:f.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Scene Details"})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3",children:[f.jsx("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:"When"}),f.jsxs("div",{className:"flex items-center px-3 py-1 gap-1",children:[f.jsx(mg,{size:20,className:"text-gray-500"}),f.jsxs("select",{value:M.sceneDetails.when,onChange:q,className:"pl-3 pr-6 py-1 text-sm border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500",children:[f.jsx("option",{value:"",children:"Select"}),x.map(B=>f.jsx("option",{value:B.when,children:B.when},B.id))]})]})]}),f.jsx("div",{className:"mb-4"}),f.jsx("textarea",{value:M.sceneDetails.when,onChange:B=>$(ee=>({...ee,sceneDetails:{...ee.sceneDetails,when:B.target.value}})),className:"w-full bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 resize-y",placeholder:"Time and date setting",rows:3,style:ae})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("div",{className:"flex items-start justify-between mb-2",children:f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Where"})}),f.jsx("div",{className:"mb-6"}),f.jsx("textarea",{value:M.sceneDetails.where,onChange:B=>$(ee=>({...ee,sceneDetails:{...ee.sceneDetails,where:B.target.value}})),className:"w-full bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 resize-y",placeholder:"Location details",rows:3,style:ae})]})]}),f.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:I()}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"What (Main Action/Event)"}),f.jsx("textarea",{value:M.sceneDetails.what,onChange:B=>$(ee=>({...ee,sceneDetails:{...ee.sceneDetails,what:B.target.value}})),className:"w-full bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 resize-y",placeholder:"Describe the main action or event",rows:4,style:ae})]}),f.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Key Dialogue"}),f.jsx("textarea",{value:M.sceneDetails.dialogue,onChange:B=>$(ee=>({...ee,sceneDetails:{...ee.sceneDetails,dialogue:B.target.value}})),className:"w-full bg-white border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200 resize-y",placeholder:"Important dialogue or conversation points",rows:6,style:ae})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[f.jsx("button",{onClick:ie,className:"flex-1 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-indigo-200",children:S?"Save Changes":"Add Episode"}),f.jsx("button",{onClick:()=>{var B;U(!1),T(null),$({chapterId:(v==null?void 0:v.id)||"",chapterNumber:(v==null?void 0:v.number)||0,chapterTitle:(v==null?void 0:v.title)||"",number:(((B=v==null?void 0:v.episodes)==null?void 0:B.length)||0)+1,title:"",plot:"",sceneDetails:{when:"",where:"",who:[],what:"",dialogue:""}})},className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})}),j&&f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 w-full max-w-md",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Add New Character"}),f.jsx("input",{type:"text",value:P,onChange:B=>k(B.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Enter character name"}),f.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[f.jsx("button",{onClick:()=>{if(P.trim()){const B={name:P.trim(),novelId:n,groups:[]};fetch(`${Mo}/characters/${n}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)}).then(ee=>ee.json()).then(ee=>{p(K=>[...K,ee]),$(K=>({...K,sceneDetails:{...K.sceneDetails,who:[...K.sceneDetails.who,ee.name]}}))}).catch(ee=>console.error("Error adding character:",ee))}k(""),E(!1)},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Add"}),f.jsx("button",{onClick:()=>{k(""),E(!1)},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"Cancel"})]})]})})]}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsx(oe,{}),f.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center max-w-2xl mx-auto",children:[f.jsx(kh,{size:64,className:"mx-auto text-gray-300 mb-6"}),f.jsx("h3",{className:"text-2xl font-medium text-gray-800 mb-4",children:"No Chapters Found"}),f.jsxs("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:["To manage episodes, you need to create chapters first. ",f.jsx("br",{}),"Head over to the ",f.jsx("strong",{children:"Scenario Management"})," section to create your story structure."]})]})]})}const vh="http://127.0.0.1:8000";function OE({onBack:n}){const[l,s]=G.useState(""),[c,d]=G.useState(!1),[g,p]=G.useState("gpt-4o-mini"),[x,w]=G.useState("openai");G.useEffect(()=>{fetch(`${vh}/settings/api-key`).then(S=>S.json()).then(S=>s(S.api_key||"")).catch(S=>console.error("Error fetching API key:",S)),fetch(`${vh}/settings/model`).then(S=>S.json()).then(S=>p(S.model||"gpt-4o-mini")).catch(S=>console.error("Error fetching model setting:",S))},[]);const v=async()=>{d(!0);try{if(!(await fetch(`${vh}/settings/api_key?api_key_type=${x}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({api_key:l})})).ok)throw new Error("Failed to save API key");alert("API")}catch(S){console.error("Error saving API key:",S),alert("API")}finally{d(!1)}},_=async()=>{try{if(!(await fetch(`${vh}/settings/model`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({model:g})})).ok)throw new Error("Failed to save model");alert("")}catch(S){console.error("Error saving model:",S),alert("")}};return f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full",children:f.jsx(Gl,{size:24,className:"text-gray-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"API Key"})]}),f.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:"API Key Type"}),f.jsxs("select",{value:x,onChange:S=>w(S.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500",children:[f.jsx("option",{value:"openai",children:"OpenAI"}),f.jsx("option",{value:"gemini",children:"Gemini"})]}),f.jsx("label",{className:"block text-gray-700 text-sm font-medium py-3 mb-2",children:"API Key"}),f.jsx("input",{type:"text",value:l,onChange:S=>s(S.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500",placeholder:"sk-..."}),f.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[f.jsx("button",{onClick:v,className:"bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-colors duration-200 shadow-lg",disabled:c,children:c?"Saving...":"Save"}),f.jsx("button",{onClick:n,className:"bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]}),f.jsxs("div",{className:"mt-8 bg-white p-8 rounded-2xl shadow-xl",children:[f.jsx("label",{className:"block text-gray-700 text-sm font-medium mb-2",children:""}),f.jsxs("select",{value:g,onChange:S=>p(S.target.value),className:"w-full px-4 py-3 border rounded-xl focus:ring-2 focus:ring-indigo-500",children:[f.jsx("option",{value:"gpt-4o",children:"GPT-4o"}),f.jsx("option",{value:"gpt-4o-mini",children:"GPT-4o-mini"}),f.jsx("option",{value:"gemini-1.5-flash",children:"Gemini 1.5 Flash"}),f.jsx("option",{value:"gemini-1.5-pro",children:"Gemini 1.5 pro"}),f.jsx("option",{value:"gemini-2.0-flash",children:"Gemini 2.0 Flash"})]}),f.jsx("div",{className:"mt-4 flex justify-end gap-4",children:f.jsx("button",{onClick:_,className:"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-colors duration-200 shadow-lg",children:"Save Model"})})]})]})}const gg="http://127.0.0.1:8000";function IE({novel:n,onBack:l}){const[s,c]=he.useState(null),[d,g]=G.useState(!0),[p,x]=G.useState({chapters:0,characters:0,episodes:0,totalCharacterCount:0});G.useEffect(()=>{(async()=>{g(!0);try{const _=await fetch(`${gg}/characters/${n.id}`);if(!_.ok)throw new Error("Failed to fetch characters");const S=await _.json();if(!Array.isArray(S))throw new Error("Invalid character data format");const T=await fetch(`${gg}/scenarios/${n.id}`);let A=null;if(T.ok)A=await T.json();else if(T.status!==404)throw new Error("Failed to fetch scenario");const U=(A==null?void 0:A.chapters)||[],F=U.reduce((j,E)=>{var P;return j+(((P=E.episodes)==null?void 0:P.length)||0)},0);let L=0;for(const j of U){const E=await fetch(`${gg}/novel_write/${n.id}/${j.id}`);if(!E.ok)continue;const P=await E.json();if(P.episodes)for(const k in P.episodes)L+=P.episodes[k].content.length}x({chapters:U.length,characters:S.length,episodes:F,totalCharacterCount:L})}catch(_){console.error("Error fetching data:",_),x({chapters:0,characters:0,episodes:0,totalCharacterCount:0})}finally{g(!1)}})()},[n.id,s]);const w=[{icon:qm,title:"",description:"",path:"scenario"},{icon:Cf,title:"",description:"",path:"characters"},{icon:Eh,title:"",description:"AI",path:"episode-details"},{icon:T0,title:"",description:"",path:"write"},{icon:Gm,title:"",description:"",path:"memo-management"},{icon:u1,title:"API",description:"OpenAIAPI",path:"api-key"}];return s==="characters"?f.jsx(m1,{novelId:n.id,onBack:()=>c(null)}):s==="scenario"?f.jsx(DE,{novelId:n.id,onBack:()=>c(null)}):s==="episode-details"?f.jsx(zE,{novelId:n.id,onBack:()=>c(null)}):s==="write"?f.jsx(ME,{novelId:n.id,onBack:()=>c(null)}):s==="memo-management"?f.jsx(Dg,{novelId:n.id,onBack:()=>c(null)}):s==="api-key"?f.jsx(OE,{onBack:()=>c(null)}):f.jsxs("div",{className:"animate-fade-in",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[f.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",title:"Back to novels",children:f.jsx(Gl,{size:24,className:"text-gray-600"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:n.title})]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:w.map(v=>{const _=v.icon;return f.jsxs("button",{onClick:()=>c(v.path),className:"group p-6 bg-white rounded-2xl shadow-lg hover:shadow-xl transition-all duration-200 text-left hover:scale-[1.02] hover:bg-gradient-to-br hover:from-indigo-50 hover:to-purple-50",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[f.jsx("div",{className:"p-3 bg-indigo-100 rounded-xl group-hover:bg-indigo-200 transition-colors",children:f.jsx(_,{size:24,className:"text-indigo-600"})}),f.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:v.title})]}),f.jsx("p",{className:"text-gray-600",children:v.description})]},v.path)})}),d?f.jsx("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6 text-center text-gray-600",children:"Loading..."}):f.jsxs("div",{className:"mt-8 bg-white rounded-2xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl",children:[f.jsx(Wm,{className:"text-blue-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"Chapters"}),f.jsx("div",{className:"text-2xl font-bold text-blue-700",children:p.chapters})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-purple-50 rounded-xl",children:[f.jsx(T0,{className:"text-purple-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"Episodes"}),f.jsx("div",{className:"text-2xl font-bold text-purple-700",children:p.episodes})]})]}),f.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 rounded-xl",children:[f.jsx(kh,{className:"text-green-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-green-600 font-medium",children:"Characters"}),f.jsx("div",{className:"text-2xl font-bold text-green-700",children:p.characters})]})]}),f.jsxs("div",{className:"mt-2 p-4 bg-yellow-50 rounded-xl flex items-center gap-3 text-yellow-800 shadow col-span-3 w-full",children:[f.jsx(Eh,{className:"text-yellow-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-sm text-yellow-600 font-medium",children:"Total Character Count"}),f.jsx("div",{className:"text-2xl font-bold text-yellow-700",children:p.totalCharacterCount})]})]})]})]})]})}const Au="http://127.0.0.1:8000",$E=G.memo(({onClose:n,onSave:l,formData:s,onChange:c,isEditing:d})=>f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:f.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 relative animate-fade-in",children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:f.jsx(Mr,{size:24})}),f.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent mb-6",children:d?"Edit Novel":"Add New Novel"}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),f.jsx("input",{type:"text",name:"title",value:s.title,onChange:c,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter novel title"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Cover Image URL"}),f.jsx("input",{type:"text",name:"imageUrl",value:s.imageUrl,onChange:c,className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-shadow duration-200",placeholder:"Enter image URL"}),s.imageUrl&&f.jsxs("div",{className:"mt-2",children:[f.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Preview:"}),f.jsx("img",{src:s.imageUrl,alt:"Cover preview",className:"w-full h-48 object-cover rounded-lg",onError:g=>{const p=g.target;p.src="https://via.placeholder.com/400x300?text=Invalid+Image+URL"}})]})]}),f.jsxs("div",{className:"flex gap-3 pt-4",children:[f.jsx("button",{onClick:l,className:"flex-1 bg-indigo-600 text-white px-6 py-3 rounded-xl hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:d?"Save Changes":"Add Novel"}),f.jsx("button",{onClick:n,className:"flex-1 bg-gray-100 text-gray-700 px-6 py-3 rounded-xl hover:bg-gray-200 transition-colors duration-200",children:"Cancel"})]})]})]})}));function LE(){const[n,l]=G.useState([]);G.useEffect(()=>{(async()=>{try{const k=await(await fetch(`${Au}/novels`)).json();l(k)}catch(P){console.error("Error fetching novels:",P)}})()},[]);const[s,c]=G.useState(!1),[d,g]=G.useState(!1),[p,x]=G.useState(null),[w,v]=G.useState({title:"",imageUrl:""}),[_,S]=G.useState(null),T=G.useCallback(async()=>{if(w.title.trim())try{if(p){const E={...p,title:w.title.trim(),imageUrl:w.imageUrl.trim()||void 0,updatedAt:new Date().toISOString()};if(!(await fetch(`${Au}/novels/${p.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).ok)throw new Error("Failed to update novel");l(k=>k.map(M=>M.id===p.id?E:M)),g(!1),x(null)}else{const E={id:crypto.randomUUID(),title:w.title.trim(),imageUrl:w.imageUrl.trim()||void 0,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};if(!(await fetch(`${Au}/novels`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)})).ok)throw new Error("Failed to create novel");l(k=>[...k,E]),c(!1)}v({title:"",imageUrl:""})}catch(E){console.error("Error saving novel:",E),alert("Failed to save novel. Please try again.")}},[w,p]),A=G.useCallback(async E=>{try{const P=await fetch(`${Au}/novels/${E.id}`);if(!P.ok)throw new Error("Failed to fetch novel details");const k=await P.json();x(k),v({title:k.title,imageUrl:k.imageUrl||""}),g(!0)}catch(P){console.error("Error fetching novel details:",P),alert("Failed to load novel details. Please try again.")}},[]),U=async E=>{if(confirm("Are you sure you want to delete this novel?"))try{if(!(await fetch(`${Au}/novels/${E}`,{method:"DELETE"})).ok)throw new Error("Failed to delete novel");l(k=>k.filter(M=>M.id!==E))}catch(P){console.error("Error deleting novel:",P),alert("Failed to delete novel. Please try again.")}},F=G.useCallback(async E=>{try{const P=await fetch(`${Au}/novels/${E.id}`);if(!P.ok)throw new Error("Failed to fetch novel details");const k=await P.json();S(k)}catch(P){console.error("Error fetching novel details:",P),alert("Failed to load novel details. Please try again.")}},[S]),L=G.useCallback(E=>{const{name:P,value:k}=E.target;v(M=>({...M,[P]:k}))},[]),j=G.useCallback(()=>{c(!1),g(!1),x(null),v({title:"",imageUrl:""})},[v,c,g,x]);return _?f.jsx(IE,{novel:_,onBack:()=>S(null)}):f.jsxs("div",{children:[f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:""}),f.jsxs("button",{onClick:()=>{c(!0),v({title:"",imageUrl:""})},className:"flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-full hover:bg-indigo-700 transition-colors duration-200 shadow-lg hover:shadow-indigo-200",children:[f.jsx(Lo,{size:20}),"Add Novel"]})]}),(s||d)&&f.jsx($E,{onClose:j,onSave:T,formData:w,onChange:L,isEditing:!!p}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:n.map(E=>f.jsxs("div",{className:"group bg-white rounded-2xl shadow-lg hover:shadow-xl transition-shadow duration-200 overflow-hidden",children:[f.jsx("div",{className:"aspect-w-16 aspect-h-9 bg-gray-50 cursor-pointer",onClick:()=>F(E),children:E.imageUrl?f.jsx("img",{src:E.imageUrl,alt:E.title,className:"w-full h-48 object-cover",onError:P=>{const k=P.target;k.src="https://via.placeholder.com/400x300?text=Invalid+Image+URL"}}):f.jsx("div",{className:"w-full h-48 flex items-center justify-center bg-gradient-to-br from-gray-50 to-gray-100",children:f.jsx(j0,{size:48,className:"text-gray-300"})})}),f.jsxs("div",{className:"p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3 line-clamp-2 cursor-pointer",onClick:()=>F(E),children:E.title}),f.jsxs("div",{className:"flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated:"," ",new Date(E.updatedAt).toLocaleDateString()]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>A(E),className:"p-2 text-indigo-600 hover:bg-indigo-50 rounded-full transition-colors duration-200",title:"Edit novel",children:f.jsx(es,{size:20})}),f.jsx("button",{onClick:()=>U(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors duration-200",title:"Delete novel",children:f.jsx(Vl,{size:20})})]})]})]})]},E.id))}),n.length===0&&f.jsxs("div",{className:"text-center py-12",children:[f.jsx(j0,{size:64,className:"mx-auto text-gray-300 mb-4"}),f.jsx("h3",{className:"text-xl font-medium text-gray-600 mb-2",children:"No Novels Yet"}),f.jsx("p",{className:"text-gray-500",children:'Click the "Add Novel" button to create your first novel'})]})]})}function FE(){return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50",children:[f.jsx("header",{className:"bg-white/70 backdrop-blur-lg border-b border-indigo-100 sticky top-0 z-10",children:f.jsx("div",{className:"max-w-7xl mx-auto py-6 px-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(bh,{className:"w-8 h-8 text-indigo-600"}),f.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 text-transparent bg-clip-text",children:"LiteraSynth"})]})})}),f.jsx("main",{className:"max-w-7xl mx-auto py-8 px-4",children:f.jsx(LE,{})})]})}t1.createRoot(document.getElementById("root")).render(f.jsx(G.StrictMode,{children:f.jsx(FE,{})}));
